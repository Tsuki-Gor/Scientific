<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'><style type='text/css'>html {overflow-x: initial !important;}</style>
<style type='text/css'  id="style-base">:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, "Segoe UI Emoji", "SF Pro", sans-serif; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4, h5 { white-space: pre-wrap; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p *, #write.first-line-indent svg * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; position: relative; }
#write svg h1, #write svg h2, #write svg h3, #write svg h4, #write svg h5, #write svg h6, #write svg p { position: static; white-space: nowrap; overflow: visible; }
foreignobject { overflow: visible; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
li p { orphans: 1; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  #write > p:nth-child(1) { margin-top: 0px; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
  figure { overflow-x: visible; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.mermaid-svg { margin: auto; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }
.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }
.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }
.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }
.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }
.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }
.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left: 0.25em solid rgb(0, 0, 0); }
.md-alert-text-note { color: rgb(9, 105, 218); }
.md-alert-text-important { color: rgb(130, 80, 223); }
.md-alert-text-warning { color: rgb(154, 103, 0); }
.md-alert-text-tip { color: rgb(31, 136, 61); }
.md-alert-text-caution { color: rgb(207, 34, 46); }
.md-alert-text { font-size: 0.9rem; font-weight: 700; }
.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }
.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }

</style>
<style type='text/css'  id="style-theme_css">
:root {
  /* == 字体设置 == */
  /* 基准字体 */
  /* 备选：Times, "Times New Roman" */
  --base-Latin-font: "Latin Modern Roman", "Latin Modern Roman 10", Times;
  --base-Chinese-font: "家族宋", "宋体-简", "华文宋体", "Noto Serif CJK SC";
  --base-font-size: 9.5pt;
  /* 引言字体 */
  --quote-font: "Latin Modern Roman", "Latin Modern Roman 10", Times,
    "Times New Roman", "华文仿宋";
  /* em单位为一个正文字符（--base-font-size）大小，
  例如，如果您设置 --base-font-size 为 9.5pt，那么 1.05em = 1.05*9.5pt ≈ 10pt。下面的标题字体等设置也遵循该规则。
  这样，您就可以仅通过调整基准字体大小，而动态对其他元素大小做出调整。
  当然，您也可以直接设置以pt或px为单位的数值，将元素的大小固定下来，如 --quote-font-size: 10pt; */
  --quote-font-size: 1.05em;
  /* 代码字体（代码中的中文会调用 ui-font） */
  /* "Courier New" 从 Windows 3.1 起成为 Windows 官方提供的字体 */
  /* "Consolas" 从 Windows Vista 起成为 Windows 官方提供的字体 */
  --code-font: "Latin Modern Mono", "Latin Modern Mono 10", "Consolas", "Courier New";
  /* 侧边栏字体 */
  --ui-font: "阿里巴巴普惠体 2.0", "微软雅黑";
  /* source mode 字体 */
  /* 默认调用 code-font 和 ui-font */
  --sourceMode-font: "SF Mono", "阿里巴巴普惠体 2.0", "微软雅黑";
  /* 目录字体 */
  /* 默认调用 base-font */
  --toc-font: "";
  /* 默认调用 base-font-size */
  --toc-font-size: "";
  /* 公式字体 */
  --math-font-size: 1em;
  /* 表格字体 */
  /* 默认调用 heading-font */
  --table-title-font: "";
  /* 默认调用 base-font */
  --table-font: "";
  /* 标题字体（总设置） */
  --heading-Latin-font: var(--base-Latin-font);
  --heading-Chinese-font: "华文黑体";
  /* 标题字体分别设置 */
  /* 大标题（h1）字体 */
  --title-Chinese-font: "华文黑体";
  --title-font-size: 1.9em;
  /* h2字体 */
  --h2-Chinese-font: "华文黑体";
  --h2-font-size: 1.5em;
  /* h3字体 */
  --h3-Chinese-font: "华文黑体";
  --h3-font-size: 1.25em;
  /* h4字体 */
  --h4-Chinese-font: "华文楷体";
  --h4-font-size: 1.15em;
  /* h5字体 */
  --h5-Chinese-font: "华文仿宋";
  --h5-font-size: 1.10em;
  /* h6字体 */
  --h6-Chinese-font: "华文仿宋";
  --h6-font-size: 1.05em;
  /* 粗体样式设置 */
  /* 加粗风格时使用的字重；400等同于 normal，700等同于 bold，900等同于 heavy */
  --strong-weight: 900;
  /* 基础行距 */
  --base-line-height: 1.618em;
  /* == 页面设置 == */
  /* 打印页边距 */
  --set-margin: 1.8cm 2cm 1.2cm 2cm !important;
  /* == 控制设置 == */
  /* 目录中是否显示一级标题 */
  --toc-show-title: none;
  /* == 颜色设置 == */
  /* 超链接颜色 */
  --link-color-light: #2E67D3;
  --link-color-dark: #8bb1f9;
  /* == 二级标题强制分页 == */
  /* 默认值为 auto */
  /* 更改为 page 启用强制分页 */
  --page-break-before-h2: auto;
}

body {
  padding: 0 !important;
  margin: 0 !important;
  /* counter-reset: tableHead 0 imgHead 0; */
}

@media print {
  #write {
    padding: 0 !important;
  }
  h2 {
    break-before: var(--page-break-before-h2);
  }
  h2:first-of-type {
    break-before: avoid-page;
  }
  @page {
    margin: 1.8cm 2cm 1.2cm 2cm !important; /* 页边距 */
  }
}
#write {
  font-family: var(--base-Latin-font), var(--base-Chinese-font), serif;
  font-size: var(--base-font-size);
  /* A4标准宽度 */
  max-width: 21cm;
  background-color: white;
  /* column-count: 2;
    column-gap: 25px;
    column-width: 8cm; 
    display: inline-block; */
  /* 这里可以试分栏的，但确实不适合实现 */
}
#write .md-math-block,
#write .md-rawblock,
#write p {
  margin-top: 1em;
  margin-bottom: 1em;
}
#write p {
  text-align: left;
  line-height: var(--base-line-height);
}
#write a {
  color: var(--link-color-light);
}

hr {
  border-top: solid 1px #ddd;
  margin-top: 1.8em;
  margin-bottom: 1.8em;
}

img {
  /* 避免图片在导出时被断开 */
  break-inside: avoid-page;
}

strong {
  font-weight: var(--strong-weight);
}

@media screen {
  #write {
    padding: var(--set-margin);
    /* 添加一个淡蓝色的边框 */
    /* border: 0.8px solid #AAC ; */
    /* 页边阴影 */
    box-shadow: 0 0 24px 12px #cccccc;
  }
}
.MathJax {
  font-size: var(--math-font-size);
}

/* typora 编写模式 */
#typora-source {
  font-family: var(--sourceMode-font), var(--code-font), var(--ui-font), monospace;
  line-height: 2em;
}

/* 侧边大纲标题 */
.sidebar-content {
  counter-reset: outline-h1 outline-h2 outline-h3 outline-h4 outline-h5 outline-h6;
}
.sidebar-content .outline-h1 {
  counter-reset: outline-h2 outline-h3 outline-h4 outline-h5 outline-h6;
}
.sidebar-content .outline-h2 {
  counter-reset: outline-h3 outline-h4 outline-h5 outline-h6;
}
.sidebar-content .outline-h2 .outline-label:before {
  counter-increment: outline-h2;
  content: counter(outline-h2) " ";
}
.sidebar-content .outline-h3 {
  counter-reset: outline-h4 outline-h5 outline-h6;
}
.sidebar-content .outline-h3 .outline-label:before {
  counter-increment: outline-h3;
  content: counter(outline-h2) "." counter(outline-h3) "  ";
}
.sidebar-content .outline-h4 {
  counter-reset: outline-h5 outline-h6;
}
.sidebar-content .outline-h4 .outline-label:before {
  counter-increment: outline-h4;
  content: counter(outline-h2) "." counter(outline-h3) "." counter(outline-h4) "  ";
}
.sidebar-content .outline-h5 {
  counter-reset: outline-h6;
}
.sidebar-content .outline-h5 .outline-label:before {
  counter-increment: outline-h5;
  content: counter(outline-h2) "." counter(outline-h3) "." counter(outline-h4) "." counter(outline-h5) "  ";
}

.sidebar-content {
  /* 侧边栏的字体修改 */
  font-family: var(--ui-font);
  list-style: none;
}

/* 元数据（如 YAML front matter）的背景框 */
pre.md-meta-block {
  background: #cccccc;
  padding: 1.4em;
  font-family: var(--code-font), var(--ui-font), monospace;
  font-size: 0.8em;
}

#write > h3.md-focus:before,
#write > h4.md-focus:before,
#write > h5.md-focus:before,
#write > h6.md-focus:before,
h3.md-focus:before,
h4.md-focus:before,
h5.md-focus:before,
h6.md-focus:before {
  color: inherit;
  border: inherit;
  border-radius: inherit;
  position: inherit;
  left: initial;
  float: none;
  top: initial;
  font-size: inherit;
  padding-left: inherit;
  padding-right: inherit;
  vertical-align: inherit;
  font-weight: inherit;
  line-height: inherit;
}

#write {
  counter-reset: heading-h2 heading-h3 heading-h4 heading-h5 heading-h6;
}
#write h1,
#write h2,
#write h3,
#write h4,
#write h5,
#write h6 {
  font-weight: bold;
  break-after: avoid-page !important;
}
#write h1 {
  font-family: var(--heading-Latin-font), var(--title-Chinese-font), serif;
  text-align: center;
  column-span: all;
  font-size: var(--title-font-size);
}
#write h2 {
  font-family: var(--heading-Latin-font), var(--h2-Chinese-font), serif;
  font-size: var(--h2-font-size);
}
#write h3 {
  font-family: var(--heading-Latin-font), var(--h3-Chinese-font), serif;
  font-size: var(--h3-font-size);
  line-height: var(--h3-font-size);
}
#write h4 {
  font-family: var(--heading-Latin-font), var(--h4-Chinese-font), serif;
  font-size: var(--h4-font-size);
  line-height: var(--h4-font-size);
}
#write h5 {
  font-family: var(--heading-Latin-font), var(--h5-Chinese-font), serif;
  font-size: var(--h5-font-size);
  line-height: var(--h5-font-size);
}
#write h6 {
  font-family: var(--heading-Latin-font), var(--h6-Chinese-font), serif;
  font-size: var(--h6-font-size);
  /* 没有写错，为了避免行距太小才这么写 */
  line-height: var(--h5-font-size);
}
#write h1 {
  counter-set: heading-h2 0 heading-h3 0 heading-h4 0 heading-h5 0 heading-h6 0;
}
#write h2 {
  counter-set: heading-h3 0 heading-h4 0 heading-h5 0 heading-h6 0;
}
#write h3 {
  counter-set: heading-h4 0 heading-h5 0 heading-h6 0;
}
#write h4 {
  counter-set: heading-h5 0 heading-h6 0;
}
#write h5 {
  counter-set: heading-h6 0;
}
#write h2:before, h2.md-focus.md-heading:before {
  content: counter(heading-h2);
  counter-increment: heading-h2;
  margin-right: 1.2em;
}

#write h3:before, h3.md-focus.md-heading:before {
  content: counter(heading-h2) "." counter(heading-h3);
  counter-increment: heading-h3;
  margin-right: 1.2em;
}

#write h4:before, h4.md-focus.md-heading:before {
  content: counter(heading-h2) "." counter(heading-h3) "." counter(heading-h4);
  counter-increment: heading-h4;
  margin-right: 1.2em;
}

#write h5:before, h5.md-focus.md-heading:before {
  content: counter(heading-h2) "." counter(heading-h3) "." counter(heading-h4) "." counter(heading-h5);
  counter-increment: heading-h5;
  margin-right: 1.2em;
}

#write h6:before, h6.md-focus.md-heading:before {
  content: counter(heading-h2) "." counter(heading-h3) "." counter(heading-h4) "." counter(heading-h5) "." counter(heading-h6);
  counter-increment: heading-h6;
  margin-right: 1.2em;
}

/* 参考文献（脚注）块，在 Typora 中的样式 */
.md-def-footnote {
  display: flex;
  position: relative;
  font-size: 0.95em;
  opacity: 1;
  margin: 0;
}
.md-def-footnote:not(:first-child), .md-def-footnote + *:not(.md-def-footnote) {
  margin-top: 1em;
}
.md-def-footnote + .md-def-footnote {
  margin-top: 0.5em;
}
.md-def-footnote .md-def-name {
  font-weight: inherit;
  padding: 0;
  flex-shrink: 0;
  width: 3em;
  margin-inline-start: -1ch;
  white-space: nowrap;
  text-align: left;
}
.md-def-footnote .md-def-name:before {
  content: "［";
  position: static;
  color: inherit;
}
.md-def-footnote .md-def-name:after {
  content: "］";
  position: static;
  color: inherit;
}
.md-def-footnote .md-reverse-footnote-area {
  display: none;
}
.md-def-footnote:hover .md-reverse-footnote-area {
  position: absolute;
  right: -6px;
  display: inline;
}

/* 参考文献（脚注）块，在导出 HTML 或 PDF 时的样式（导出后的 HTML tag 和 Typora 中的 HTML tag 不一致） */
.footnotes-area {
  padding-inline-start: 2.5em;
}
.footnotes-area hr {
  display: none;
}
.footnotes-area .footnote-line {
  color: var(--text-color);
  font-size: 0.95em;
  margin-top: 0.5em;
}
.footnotes-area .footnote-line *:not(.md-fn-count) {
  display: inline-block;
  vertical-align: top;
}
.footnotes-area .footnote-line span.md-fn-count {
  font-weight: inherit;
  padding: 0;
  margin-inline-start: -3em;
  white-space: nowrap;
  display: inline-block;
  width: 2.5em;
}
.footnotes-area .footnote-line span.md-fn-count:before {
  content: "［";
  position: static;
  color: inherit;
}
.footnotes-area .footnote-line span.md-fn-count:after {
  content: "］";
  position: static;
  color: inherit;
}
.footnotes-area .footnote-line a.reversefootnote {
  display: none;
}

/* 参考文献（脚注）上标 */
sup.md-footnote {
  display: inline;
  padding: 0;
  margin: 0;
  background: transparent;
  color: inherit;
}
sup.md-footnote a {
  color: inherit !important;
}
sup.md-footnote:not(.md-expand) {
  margin-inline: -0.44em;
}
sup.md-footnote:not(.md-expand):before {
  content: "［";
}
sup.md-footnote:not(.md-expand):after {
  content: "］";
}

/* 无序列表 */
#write ul {
  list-style: disc;
}
#write ul ul {
  /*list-style: circle;*/
  /* 请勿删除“–”后的空格, 他们对缩进有一定影响, 下同 */
  list-style: "–   ";
}
#write ul ul ul {
  list-style: "◦  ";
}

/* 有序列表 */
#write ol {
  list-style: decimal;
}
#write ol ol {
  counter-reset: liist;
  list-style: none;
}
#write ol ol > li {
  counter-increment: liist;
  position: relative;
}
#write ol ol > li::before {
  content: "(" counter(liist, lower-alpha) ")";
  position: absolute;
  left: -1.8em;
}
#write ol ol ol {
  counter-reset: liiist;
  list-style: none;
  margin: 0;
}
#write ol ol ol > li {
  counter-increment: liiist;
  position: relative;
}
#write ol ol ol > li::before {
  content: counter(liiist, lower-roman) ".";
  align-self: flex-end;
  position: absolute;
  left: -4.5em;
  /* -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;*/
  /* 为了让项目编号是重新用句点对齐而不是左对齐 */
  width: 4em;
  text-align: right;
}

#write ol,
#write ul {
  padding-inline-start: 2em;
}

#write li {
  position: relative;
}
#write li + li,
#write ul + ol > li,
#write ol + ul > li,
#write li > ul > li,
#write li > ol > li {
  margin-top: -0.8em;
}

/* task列表 */
.md-task-list-item > input {
  margin-top: 0.42em;
  margin-left: -1.5em;
  width: 1em !important;
  height: 1em !important;
}

#write table {
  /* 三线表第一条线宽度 */
  border-top: 1.2pt solid;
  /* 三线表第二条线宽度 */
  border-bottom: 1.2pt solid;
  font-family: var(--table-font), var(--base-Latin-font), var(--base-Chinese-font), serif;
  /* font-size: var(--base-font-size); */
  text-align: center;
  break-inside: avoid-page;
  border-spacing: 6px;
  /* 自动布局表格宽度，如果有时内容太紧建议直接加空格吧，我自己看不惯和页面等宽的大表格 */
  width: auto;
  /* 使表格默认居中；虽然这个代码不好，但好像没别的实现办法 */
  margin: 0 auto;
}
#write table td {
  padding: 2px;
}
#write table tr {
  padding: 2px;
}
#write th {
  padding: 0px 6px;
}
#write thead {
  /* 表格标题（首行）样式 */
  /* 三线表表头的线 */
  border-bottom: 0.5pt solid;
  font-family: var(--table-title-font), var(--heading-Latin-font), var(--heading-Chinese-font), serif !important;
  /* font-size: var(--base-font-size); */
  font-weight: var(--strong-weight);
}

/* 一个>的引言仅为两字符缩进，使用>>的引言为传统引言样式，具有左竖线、左缩进 */
blockquote {
  font-style: normal;
  font-family: var(--quote-font), var(--base-Latin-font), var(--base-Chinese-font), -apple-system, serif;
  font-size: var(--quote-font-size);
  /* 文字离左边框的距离 */
  padding-left: 2em;
  padding-right: 2em;
  /* 左边框离页面边的距离 */
  margin-left: 0;
}

blockquote blockquote {
  border-left: 4px solid hsl(0, 0%, 70%);
  padding-left: calc(2ch - 4px);
  padding-right: 0;
  margin-left: -4px;
  border-radius: 0;
}

/* 行内代码 */
code {
  font-family: var(--code-font), var(--ui-font), monospace;
}

h1 code, h2 code, h3 code, h4 code, h5 code, h6 code,
p code,
li code {
  color: rgb(60, 112, 198);
  background-color: #fefefe;
  /* 阴影 */
  box-shadow: 0 0 1px 1px #c8d3df;
  font-family: var(--code-font), var(--ui-font), monospace;
  box-sizing: border-box;
  border-right: 0px;
  margin: 0 2px 0 2px;
  padding: 0 2px 0 2px;
  /* 圆角 */
  border-radius: 2px 2px 2px 2px;
}

/* 代码块样式 */
.md-fences,
.CodeMirror pre,
.CodeMirror-wrap {
  /* padding: 10px; */
  font-size: 1em;
}

.CodeMirror-code pre,
.CodeMirror-sizer {
  font-family: var(--code-font), var(--ui-font), monospace;
}

/* 目录 */
.md-toc {
  font-size: var(--toc-font-size);
}

.md-toc-content {
  margin-left: 2em;
  /* 修复缺失上级标题时无法递增 */
  counter-reset: toc-h2 toc-h3 toc-h4 toc-h5 toc-h6;
  break-after: page;
}

.md-toc-inner {
  margin-left: 0 !important;
  color: var(--text-color) !important;
}

.md-toc-item {
  color: var(--text-color) !important;
}

/* 目录标题内容属性 */
.md-toc-h2,
.md-toc-h3,
.md-toc-h4,
.md-toc-h5,
.md-toc-h6 {
  font-size: var(--toc-font-size);
  font-family: var(--toc-font), var(--base-Latin-font), var(--base-Chinese-font), serif;
}

.md-toc-h2 {
  font-weight: var(--strong-weight);
}

/* 目录标题前 */
.md-toc-content .md-toc-h1 {
  display: var(--toc-show-title);
  counter-set: toc-h2 0 toc-h3 0 toc-h4 0 toc-h5 0 toc-h6 0;
}
.md-toc-content .md-toc-h2 {
  counter-set: toc-h3 0 toc-h4 0 toc-h5 0 toc-h6 0;
}
.md-toc-content .md-toc-h3 {
  counter-set: toc-h4 0 toc-h5 0 toc-h6 0;
}
.md-toc-content .md-toc-h4 {
  counter-set: toc-h5 0 toc-h6 0;
}
.md-toc-content .md-toc-h5 {
  counter-set: toc-h6 0;
}
.md-toc-content .md-toc-h2:before {
  counter-increment: toc-h2;
  content: counter(toc-h2);
  margin-right: 1em;
  font-weight: var(--strong-weight);
}
.md-toc-content .md-toc-h3:before {
  counter-increment: toc-h3;
  content: counter(toc-h2) "." counter(toc-h3);
  margin-left: 1.5em;
  margin-right: 0.5em;
}
.md-toc-content .md-toc-h4:before {
  counter-increment: toc-h4;
  content: counter(toc-h2) "." counter(toc-h3) "." counter(toc-h4);
  margin-left: 3.5em;
  margin-right: 0.5em;
}
.md-toc-content .md-toc-h5:before {
  counter-increment: toc-h5;
  content: counter(toc-h2) "." counter(toc-h3) "." counter(toc-h4) "." counter(toc-h5);
  margin-left: 5.5em;
  margin-right: 0.5em;
}
.md-toc-content .md-toc-h6:before {
  counter-increment: toc-h6;
  content: counter(toc-h2) "." counter(toc-h3) "." counter(toc-h4) "." counter(toc-h5) "." counter(toc-h6);
  margin-left: 7.5em;
  margin-right: 0.5em;
}
</style>
<style type='text/css'  id="style-mathjax">
mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG2"] path[data-c], mjx-container[jax="SVG2"] use[data-c] {
  stroke-width: 3;
}

g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}

.MathJax g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}
</style>
<style type='text/css'  id="style-mathjax-ni">mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
							stroke-width: 0;
						}</style>
<style type='text/css'  id="style-lp">ol, ul {padding-left: 40px}</style>

<title>2022-ReAct_2026-02-01-00_43_10_NewPicLink</title>
</head>
<body class='typora-export os-windows typora-export-show-outline typora-export-collapse-outline'><div class='typora-export-content'>
<div class="typora-export-sidebar"><div class="outline-content"><li class="outline-item-wrapper outline-h1 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#react-synergizing-reasoning-and-acting-in-language-models">REACT: SYNERGIZING REASONING AND ACTING IN LANGUAGE MODELS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#react在语言模型中协同推理与行动">ReAct：在语言模型中协同推理与行动</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#abstract">ABSTRACT</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#摘要">摘要</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#1-introduction">1 INTRODUCTION</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#1-引言">1 引言</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#2-react-synergizing-reasoning--acting">2 REACT: SYNERGIZING REASONING + ACTING</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#2-react协同推理--行动">2 REACT：协同推理 + 行动</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-knowledge-intensive-reasoning-tasks">3 KNOWLEDGE-INTENSIVE REASONING TASKS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-知识密集型推理任务">3 知识密集型推理任务</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#31-setup">3.1 SETUP</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#31-实验设置">3.1 实验设置</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#32-methods">3.2 METHODS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#32-方法">3.2 方法</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#33-results-and-observations">3.3 RESULTS AND OBSERVATIONS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#33-结果与观察">3.3 结果与观察</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#4-decision-making-tasks">4 DECISION MAKING TASKS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#4-决策任务">4 决策任务</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#5-related-work">5 RELATED WORK</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#5-相关工作">5 相关工作</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#6-conclusion">6 CONCLUSION</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#6-结论">6 结论</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#acknowledgments">ACKNOWLEDGMENTS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#致谢">致谢</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#reproducibility-statement">REPRODUCIBILITY STATEMENT</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#复现性声明">复现性声明</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ethics-statement">ETHICS STATEMENT</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#伦理声明">伦理声明</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#references">REFERENCES</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#参考文献">参考文献</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#a-additional-results">A ADDITIONAL RESULTS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#a-附加结果">A 附加结果</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#a1-gpt-3-experiments">A.1 GPT-3 EXPERIMENTS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#a1-gpt-3-实验">A.1 GPT-3 实验</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#a3-human-in-the-loop-behavior-correction-on-alfworld">A.3 HUMAN-IN-THE-LOOP BEHAVIOR CORRECTION ON ALFWORLD</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#a3-alfworld-上的人在回路行为修正">A.3 ALFWORLD 上的“人在回路”行为修正</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#b-experiment-details">B EXPERIMENT DETAILS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#b-实验细节">B 实验细节</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#b1-hotpotqa-finetuning-details">B.1 HotPOTQA FINETUNING DETAILS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#b1-hotpotqa-微调细节">B.1 HOTPOTQA 微调细节</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#b2-alfworld-im-style-details">B.2 ALFWORLD IM-STYLE DETAILS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#b2-alfworld-im-风格细节">B.2 ALFWORLD IM 风格细节</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#c-prompts">C PROMPTS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#c-提示词">C 提示词</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#c1-hotpotqa">C.1 HOTPOTQA</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#c1-hotpotqa-2">C.1 HOTPOTQA</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#c2-fever">C.2 Fever</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#c2-发热">C.2 发热</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#d1-fever-trajectories">D.1 FEVER TRAJECTORIES</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#d1-fever-轨迹">D.1 FEVER 轨迹</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#react-alfworld-trajectory">ReAct ALFWorld trajectory</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#react-alfworld-轨迹">ReAct ALFWorld 轨迹</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#d22-act-trajectory">D.2.2 ACT TRAJECTORY</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#d22-act-轨迹">D.2.2 ACT 轨迹</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#act-alfworld-trajectory">Act ALFWorld trajectory</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#act-alfworld-轨迹">Act ALFWorld 轨迹</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#d23-react-im-trajectory">D.2.3 REACT-IM TRAJECTORY</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#d23-react-im-轨迹">D.2.3 REACT-IM 轨迹</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#e-more-analysis">E MORE ANALYSIS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#e-更多分析">E 更多分析</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#e1-success-and-failure-modes-analysis">E.1 SUCCESS AND FAILURE MODES ANALYSIS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#e1-成功与失败模式分析">E.1 成功与失败模式分析</a></div><ul class="outline-children"></ul></li></ul></li></ul></li></div></div><div id='write'  class=''><h1 id='react-synergizing-reasoning-and-acting-in-language-models'><span>REACT: SYNERGIZING REASONING AND ACTING IN LANGUAGE MODELS</span></h1><h1 id='react在语言模型中协同推理与行动'><span>ReAct：在语言模型中协同推理与行动</span></h1><p><span>Shunyu Yao </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.232ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 986.7 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-821-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-821-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-821-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use data-c="2217" xlink:href="#MJX-821-TEX-N-2217"></use></g><g data-mml-node="mo" transform="translate(500,0)"><use data-c="2C" xlink:href="#MJX-821-TEX-N-2C"></use></g><g data-mml-node="mn" transform="translate(778,0)"><use data-c="31" xlink:href="#MJX-821-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mo>∗</mo><mo>,</mo><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{*,1}</script><span> , Jeffrey Zhao </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> , Dian Yu </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> , Nan Du </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> , Izhak Shafran </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> , Karthik Narasimhan </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-202-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-202-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{1}</script><span> , Yuan Cao </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script>
<span>Shunyu Yao </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.232ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 986.7 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-821-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-821-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-821-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use data-c="2217" xlink:href="#MJX-821-TEX-N-2217"></use></g><g data-mml-node="mo" transform="translate(500,0)"><use data-c="2C" xlink:href="#MJX-821-TEX-N-2C"></use></g><g data-mml-node="mn" transform="translate(778,0)"><use data-c="31" xlink:href="#MJX-821-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mo>∗</mo><mo>,</mo><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{*,1}</script><span> , Jeffrey Zhao </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> , Dian Yu </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> , Nan Du </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> , Izhak Shafran </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> , Karthik Narasimhan </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-202-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-202-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{1}</script><span> , Yuan Cao </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script></p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-202-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-202-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{1}</script><span> Department of Computer Science,Princeton University </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> Google Research,Brain team</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-202-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-202-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{1}</script><span> 普林斯顿大学计算机科学系 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> Google Research, Brain 团队</span></p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="2.452ex" role="img" focusable="false" viewBox="0 -833.9 936.6 1083.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-823-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-823-TEX-N-7B" d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-823-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(436.6,0)"><use data-c="7B" xlink:href="#MJX-823-TEX-N-7B"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msup><mo fence="false" stretchy="false">{</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{1}\{</script><span> shunyuy,karthikn </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 500 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-241-TEX-N-7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="7D" xlink:href="#MJX-241-TEX-N-7D"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">}</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\}</script><span> @princeton.edu</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="2.452ex" role="img" focusable="false" viewBox="0 -833.9 936.6 1083.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-823-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-823-TEX-N-7B" d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-823-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(436.6,0)"><use data-c="7B" xlink:href="#MJX-823-TEX-N-7B"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msup><mo fence="false" stretchy="false">{</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{1}\{</script><span> shunyuy,karthikn </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 500 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-241-TEX-N-7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="7D" xlink:href="#MJX-241-TEX-N-7D"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">}</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\}</script><span> @princeton.edu</span></p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> </span><span>{</span><span>jeffreyzhao,dianyu,dunan,izhak,yuancao</span><span>}</span><span>@google.com</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> </span><span>{</span><span>jeffreyzhao,dianyu,dunan,izhak,yuancao</span><span>}</span><span>@google.com</span></p><h2 id='abstract'><span>ABSTRACT</span></h2><h2 id='摘要'><span>摘要</span></h2><p><span>While large language models (LLMs) have demonstrated impressive performance across tasks in language understanding and interactive decision making, their abilities for reasoning (e.g. chain-of-thought prompting) and acting (e.g. action plan generation) have primarily been studied as separate topics. In this paper, we explore the use of LLMs to generate both reasoning traces and task-specific actions in an interleaved manner, allowing for greater synergy between the two: reasoning traces help the model induce, track, and update action plans as well as handle exceptions, while actions allow it to interface with and gather additional information from external sources such as knowledge bases or environments. We apply our approach, named ReAct, to a diverse set of language and decision making tasks and demonstrate its effectiveness over state-of-the-art baselines in addition to improved human interpretability and trustworthiness. Concretely, on question answering (HotpotQA) and fact verification (Fever), ReAct overcomes prevalent issues of hallucination and error propagation in chain-of-thought reasoning by interacting with a simple Wikipedia API, and generating human-like task-solving trajectories that are more interpretable than baselines without reasoning traces. Furthermore, on two interactive decision making benchmarks (ALFWorld and WebShop), ReAct outperforms imitation and reinforcement learning methods by an absolute success rate of </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.147ex" height="1.824ex" role="img" focusable="false" viewBox="0 -750 1833 806" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.127ex;"><defs><path id="MJX-834-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-834-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path id="MJX-834-TEX-N-25" d="M465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-834-TEX-N-33"></use><use data-c="34" xlink:href="#MJX-834-TEX-N-34" transform="translate(500,0)"></use></g></g><g data-mml-node="mi" transform="translate(1000,0)"><use data-c="25" xlink:href="#MJX-834-TEX-N-25"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>34</mn></mrow><mi mathvariant="normal">%</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">{34}\%</script><span> and </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.147ex" height="1.824ex" role="img" focusable="false" viewBox="0 -750 1833 806" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.127ex;"><defs><path id="MJX-835-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-835-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-835-TEX-N-25" d="M465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-835-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-835-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="mi" transform="translate(1000,0)"><use data-c="25" xlink:href="#MJX-835-TEX-N-25"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mi mathvariant="normal">%</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">{10}\%</script><span> respectively,while being prompted with only one or two in-context examples.</span>
<span>尽管大语言模型（LLM）在语言理解和交互式决策任务中表现出色，但其推理能力（如思维链提示）和行动能力（如行动计划生成）主要作为独立课题研究。本文探讨了利用 LLM 以交替方式生成推理轨迹和特定任务行动，从而实现两者的协同：推理轨迹帮助模型诱导、跟踪和更新行动计划并处理异常，而行动则使其能够与外部源（如知识库或环境）交互并收集额外信息。我们将这种命名为 ReAct 的方法应用于多样的语言和决策任务，证明其效果优于最先进的基线方法，并提高了人类可解释性和可信度。具体而言，在问答（HotpotQA）和事实核查（Fever）中，ReAct 通过与简单的维基百科 API 交互，克服了思维链推理中普遍存在的幻觉和错误传播问题，生成的类人任务解决轨迹比无推理轨迹的基线更具可解释性。此外，在两个交互式决策基准（ALFWorld 和 WebShop）中，ReAct 仅通过一两个上下文示例提示，其成功率就分别以 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.147ex" height="1.824ex" role="img" focusable="false" viewBox="0 -750 1833 806" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.127ex;"><defs><path id="MJX-834-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-834-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path id="MJX-834-TEX-N-25" d="M465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-834-TEX-N-33"></use><use data-c="34" xlink:href="#MJX-834-TEX-N-34" transform="translate(500,0)"></use></g></g><g data-mml-node="mi" transform="translate(1000,0)"><use data-c="25" xlink:href="#MJX-834-TEX-N-25"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>34</mn></mrow><mi mathvariant="normal">%</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">{34}\%</script><span> 和 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.147ex" height="1.824ex" role="img" focusable="false" viewBox="0 -750 1833 806" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.127ex;"><defs><path id="MJX-835-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-835-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-835-TEX-N-25" d="M465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-835-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-835-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="mi" transform="translate(1000,0)"><use data-c="25" xlink:href="#MJX-835-TEX-N-25"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mi mathvariant="normal">%</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">{10}\%</script><span> 的绝对优势超过了模仿学习和强化学习方法。</span></p><h2 id='1-introduction'><span>1 INTRODUCTION</span></h2><h2 id='1-引言'><span>1 引言</span></h2><p><span>A unique feature of human intelligence is the ability to seamlessly combine task-oriented actions with verbal reasoning (or inner speech, Alderson-Day &amp; Fernyhough 2015), which has been theorized to play an important role in human cognition for enabling self-regulation or strategization (Vygotsky, 1987; Luria, 1965; Fernyhough 2010) and maintaining a working memory (Baddeley, 1992). Consider the example of cooking up a dish in the kitchen. Between any two specific actions, we may reason in language in order to track progress (&quot;now that everything is cut, I should heat up the pot of water&quot;), to handle exceptions or adjust the plan according to the situation (&quot;I don&#39;t have salt, so let me use soy sauce and pepper instead&quot;), and to realize when external information is needed (&quot;how do I prepare dough? Let me search on the Internet&quot;). We may also act (open a cookbook to read the recipe, open the fridge, check ingredients) to support the reasoning and to answer questions (&quot;What dish can I make right now?&quot;). This tight synergy between &quot;acting&quot; and &quot;reasoning&quot; allows humans to learn new tasks quickly and perform robust decision making or reasoning, even under previously unseen circumstances or facing information uncertainties.</span>
<span>人类智能的一个独特特征是能将导向任务的行动与语言推理（或内部语言，Alderson-Day </span>&amp;<span> Fernyhough 2015）无缝结合。理论认为，这在人类认知中发挥着重要作用，通过自我调节或策略化（Vygotsky, 1987; Luria, 1965; Fernyhough 2010）以及维持工作记忆（Baddeley, 1992）来实现。以在厨房做饭为例：在任意两个具体行动之间，我们可能会用语言进行推理，以跟踪进度（“既然切好了，我该烧锅水了”），处理异常或根据情况调整计划（“没有盐了，我用酱油和胡椒代替”），以及意识到何时需要外部信息（“怎么发面？我上网搜搜”）。我们也会采取行动（打开食谱阅读配方、打开冰箱、检查食材）来支持推理并回答问题（“我现在能做什么菜？”）。这种“行动”与“推理”之间的紧密协同，使人类能够快速学习新任务，并在从未见过的环境或面临信息不确定性时，做出稳健的决策或推理。</span></p><p><span>Recent results have hinted at the possibility of combining verbal reasoning with interactive decision making in autonomous systems. On one hand, properly prompted large language models (LLMs) have demonstrated emergent capabilities to carry out several steps of reasoning traces to derive answers from questions in arithmetic, commonsense, and symbolic reasoning tasks (Wei et al. 2022). However, this &quot;chain-of-thought&quot; reasoning is a static black box, in that the model uses its own internal representations to generate thoughts and is not grounded in the external world, which limits its ability to reason reactively or update its knowledge. This can lead to issues like fact hallucination and error propagation over the reasoning process (Figure 1(1b)). On the other hand, recent work has explored the use of pre-trained language models for planning and acting in interactive environments (Ahn et al. 2022; Nakano et al. 2021; Yao et al. 2020; Huang et al. 2022a), with a focus on predicting actions via language priors. These approaches usually convert multi-modal observations into text, use a language model to generate domain-specific actions or plans, and then use a controller to choose or execute them. However, they do not employ language models to reason abstractly about high-level goals or maintain a working memory to support acting, barring Huang et al. (2022b) who perform a limited form of verbal reasoning to reiterate spatial facts about the current state. Beyond such simple embodied tasks to interact with a few blocks, there have not been studies on how reasoning and acting can be combined in a synergistic manner for general task solving, and if such a combination can bring systematic benefits compared to reasoning or acting alone.</span>
<span>最近的研究结果暗示了在自主系统中结合语言推理与交互式决策的可能性。一方面，经过适当提示的大语言模型（LLMs）已展现出涌现能力，能够通过多步推理迹从算术、常识和符号推理任务的问题中推导出答案（Wei et al. 2022）。然而，这种“思维链”推理是一个静态黑盒，模型使用其内部表示来生成想法，且未与外部世界挂钩，这限制了其进行反应式推理或更新知识的能力。这可能导致事实幻觉和推理过程中的错误传播等问题（图1(1b)）。另一方面，最近的工作探索了使用预训练语言模型在交互式环境中进行规划和行动（Ahn et al. 2022; Nakano et al. 2021; Yao et al. 2020; Huang et al. 2022a），重点是通过语言先验预测动作。这些方法通常将多模态观测转化为文本，利用语言模型生成特定领域的动作或计划，然后通过控制器进行选择或执行。然而，它们并没有利用语言模型对高层目标进行抽象推理，或维持工作记忆以支持行动，除了 Huang et al. (2022b) 曾执行过一种有限形式的语言推理来重申当前状态的空间事实。除了这类与少量方块交互的简单具身任务外，目前尚未有研究探讨在通用任务解决中如何以协同方式结合推理与行动，以及这种结合相比单纯的推理或行动是否能带来系统性的收益。</span></p><hr /><p>&nbsp;</p><p><span>*Work during Google internship. Projet page with code: </span><a href='https://react-lm.github.io/' target='_blank' class='url'>https://react-lm.github.io/</a>
<span>*在 Google 实习期间的工作。包含代码的项目页面：</span><a href='https://react-lm.github.io/' target='_blank' class='url'>https://react-lm.github.io/</a></p><hr /><p>&nbsp;</p><p><img src="https://raw.githubusercontent.com/Tsuki-Gor/Pic_Bed_Ob/main/Mixed/M2026/02/2026_02_18__00_16_23_140d63.jpg"/></p><p>&nbsp;</p><p><span>Figure 1: (1) Comparison of 4 prompting methods, (a) Standard, (b) Chain-of-thought (CoT, Reason Only), (c) Act-only, and (d) ReAct (Reason+Act), solving a HotpotQA (Yang et al. 2018) question. (2) Comparison of (a) Act-only and (b) ReAct prompting to solve an AlfWorld (Shridhar et al. 2020b) game. In both domains, we omit in-context examples in the prompt, and only show task solving trajectories generated by the model (Act, Thought) and the environment (Obs).</span>
<span>图 1：(1) 四种提示方法的比较：(a) 标准，(b) 思维链（CoT，仅推理），(c) 仅行动，以及 (d) ReAct（推理+行动），解决一个 HotpotQA (Yang et al. 2018) 问题。(2) 解决 AlfWorld (Shridhar et al. 2020b) 游戏时，(a) 仅行动与 (b) ReAct 提示的比较。在这两个领域中，我们省略了提示中的上下文示例，仅展示由模型（动作、想法）和环境（观测）生成的任务解决轨迹。</span></p><p><span>In this work, we present ReAct, a general paradigm to combine reasoning and acting with language models for solving diverse language reasoning and decision making tasks (Figure 1). ReAct prompts LLMs to generate both verbal reasoning traces and actions pertaining to a task in an interleaved manner, which allows the model to perform dynamic reasoning to create, maintain, and adjust high-level plans for acting (reason to act), while also interact with the external environments (e.g. Wikipedia) to incorporate additional information into reasoning (act to reason).</span>
<span>在这项工作中，我们提出了 ReAct，一种利用语言模型将推理与行动相结合的通用范式，用于解决多样化的语言推理和决策任务（图 1）。ReAct 提示 LLMs 以交错的方式生成与任务相关的语言推理迹和动作，这使模型能够执行动态推理，以创建、维护和调整高层的行动计划（推理以行动），同时与外部环境（如维基百科）交互，将额外信息纳入推理（行动以推理）。</span></p><p><span>We conduct empirical evaluations of ReAct and state-of-the-art baselines on four diverse benchmarks: question answering (HotPotQA, Yang et al. 2018), fact verification (Fever, Thorne et al. 2018), text-based game (ALFWorld, Shridhar et al., 2020b), and webpage navigation (WebShop, Yao et al. 2022). For HotPotQA and Fever, with access to a Wikipedia API that the model can interact with, ReAct outperforms vanilla action generation models while being competitive with chain-of-thought reasoning (CoT) (Wei et al. 2022). The best approach overall is a combination of ReAct and </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="5.404ex" height="1.643ex" role="img" focusable="false" viewBox="0 -705 2388.4 726" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.048ex;"><defs><path id="MJX-871-TEX-N-43" d="M56 342Q56 428 89 500T174 615T283 681T391 705Q394 705 400 705T408 704Q499 704 569 636L582 624L612 663Q639 700 643 704Q644 704 647 704T653 705H657Q660 705 666 699V419L660 413H626Q620 419 619 430Q610 512 571 572T476 651Q457 658 426 658Q322 658 252 588Q173 509 173 342Q173 221 211 151Q232 111 263 84T328 45T384 29T428 24Q517 24 571 93T626 244Q626 251 632 257H660L666 251V236Q661 133 590 56T403 -21Q262 -21 159 83T56 342Z"></path><path id="MJX-871-TEX-N-2218" d="M55 251Q55 328 112 386T249 444T386 388T444 249Q444 171 388 113T250 55Q170 55 113 112T55 251ZM245 403Q188 403 142 361T96 250Q96 183 141 140T250 96Q284 96 313 109T354 135T375 160Q403 197 403 250Q403 313 360 358T245 403Z"></path><path id="MJX-871-TEX-N-54" d="M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="43" xlink:href="#MJX-871-TEX-N-43"></use></g></g><g data-mml-node="mo" transform="translate(944.2,0)"><use data-c="2218" xlink:href="#MJX-871-TEX-N-2218"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1666.4,0)"><g data-mml-node="mi"><use data-c="54" xlink:href="#MJX-871-TEX-N-54"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">C</mi></mrow><mo>∘</mo><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">T</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\mathrm{C} \circ  \mathrm{T}</script><span> that allows for the use of both internal knowledge and externally obtained information during reasoning. On ALFWorld and WebShop, two or even one-shot ReAct prompting is able to outperform imitation or reinforcement learning methods trained with </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="9.517ex" height="2.005ex" role="img" focusable="false" viewBox="0 -864 4206.7 886" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-833-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-833-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-833-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-833-TEX-N-223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path><path id="MJX-833-TEX-N-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-833-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-833-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-833-TEX-N-33"></use></g></g></g><g data-mml-node="mo" transform="translate(1714.3,0)"><use data-c="223C" xlink:href="#MJX-833-TEX-N-223C"></use></g><g data-mml-node="msup" transform="translate(2770.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-833-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-833-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="35" xlink:href="#MJX-833-TEX-N-35"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mrow data-mjx-texclass="ORD"><mn>3</mn></mrow></msup><mo>∼</mo><msup><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mrow data-mjx-texclass="ORD"><mn>5</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{10}^{3} \sim  {10}^{5}</script><span> task instances, with an absolute improvement of </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.147ex" height="1.824ex" role="img" focusable="false" viewBox="0 -750 1833 806" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.127ex;"><defs><path id="MJX-834-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-834-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path id="MJX-834-TEX-N-25" d="M465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-834-TEX-N-33"></use><use data-c="34" xlink:href="#MJX-834-TEX-N-34" transform="translate(500,0)"></use></g></g><g data-mml-node="mi" transform="translate(1000,0)"><use data-c="25" xlink:href="#MJX-834-TEX-N-25"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>34</mn></mrow><mi mathvariant="normal">%</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">{34}\%</script><span> and </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.147ex" height="1.824ex" role="img" focusable="false" viewBox="0 -750 1833 806" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.127ex;"><defs><path id="MJX-835-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-835-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-835-TEX-N-25" d="M465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-835-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-835-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="mi" transform="translate(1000,0)"><use data-c="25" xlink:href="#MJX-835-TEX-N-25"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mi mathvariant="normal">%</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">{10}\%</script><span> in success rates respectively. We also demonstrate the importance of sparse, versatile reasoning in decision making by showing consistent advantages over controlled baselines with actions only. Besides general applicability and performance boost, the combination of reasoning and acting also contributes to model interpretability, trustworthiness, and diagnosability across all domains, as humans can readily distinguish information from model&#39;s internal knowledge versus external environments, as well as inspect reasoning traces to understand the decision basis of model actions.</span>
<span>我们在四个不同的基准测试中对 ReAct 和最先进的基准模型进行了实证评估：问答（HotPotQA, Yang et al. 2018）、事实核查（Fever, Thorne et al. 2018）、文本游戏（ALFWorld, Shridhar et al., 2020b）和网页导航（WebShop, Yao et al. 2022）。对于 HotPotQA 和 Fever，通过访问可交互的维基百科 API，ReAct 的表现优于纯动作生成模型，同时与思维链推理（CoT） (Wei et al. 2022) 具有竞争力。整体最佳方法是 ReAct 与 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="5.404ex" height="1.643ex" role="img" focusable="false" viewBox="0 -705 2388.4 726" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.048ex;"><defs><path id="MJX-871-TEX-N-43" d="M56 342Q56 428 89 500T174 615T283 681T391 705Q394 705 400 705T408 704Q499 704 569 636L582 624L612 663Q639 700 643 704Q644 704 647 704T653 705H657Q660 705 666 699V419L660 413H626Q620 419 619 430Q610 512 571 572T476 651Q457 658 426 658Q322 658 252 588Q173 509 173 342Q173 221 211 151Q232 111 263 84T328 45T384 29T428 24Q517 24 571 93T626 244Q626 251 632 257H660L666 251V236Q661 133 590 56T403 -21Q262 -21 159 83T56 342Z"></path><path id="MJX-871-TEX-N-2218" d="M55 251Q55 328 112 386T249 444T386 388T444 249Q444 171 388 113T250 55Q170 55 113 112T55 251ZM245 403Q188 403 142 361T96 250Q96 183 141 140T250 96Q284 96 313 109T354 135T375 160Q403 197 403 250Q403 313 360 358T245 403Z"></path><path id="MJX-871-TEX-N-54" d="M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="43" xlink:href="#MJX-871-TEX-N-43"></use></g></g><g data-mml-node="mo" transform="translate(944.2,0)"><use data-c="2218" xlink:href="#MJX-871-TEX-N-2218"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1666.4,0)"><g data-mml-node="mi"><use data-c="54" xlink:href="#MJX-871-TEX-N-54"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">C</mi></mrow><mo>∘</mo><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">T</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\mathrm{C} \circ  \mathrm{T}</script><span> 的结合，这允许在推理过程中同时使用内部知识和外部获取的信息。在 ALFWorld 和 WebShop 上，仅需两步甚至一步的 ReAct 提示就能超越使用 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="9.517ex" height="2.005ex" role="img" focusable="false" viewBox="0 -864 4206.7 886" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-833-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-833-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-833-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-833-TEX-N-223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path><path id="MJX-833-TEX-N-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-833-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-833-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-833-TEX-N-33"></use></g></g></g><g data-mml-node="mo" transform="translate(1714.3,0)"><use data-c="223C" xlink:href="#MJX-833-TEX-N-223C"></use></g><g data-mml-node="msup" transform="translate(2770.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-833-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-833-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="35" xlink:href="#MJX-833-TEX-N-35"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mrow data-mjx-texclass="ORD"><mn>3</mn></mrow></msup><mo>∼</mo><msup><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mrow data-mjx-texclass="ORD"><mn>5</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{10}^{3} \sim  {10}^{5}</script><span> 任务实例训练的模仿学习或强化学习方法，成功率分别实现了 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.147ex" height="1.824ex" role="img" focusable="false" viewBox="0 -750 1833 806" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.127ex;"><defs><path id="MJX-834-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-834-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path id="MJX-834-TEX-N-25" d="M465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-834-TEX-N-33"></use><use data-c="34" xlink:href="#MJX-834-TEX-N-34" transform="translate(500,0)"></use></g></g><g data-mml-node="mi" transform="translate(1000,0)"><use data-c="25" xlink:href="#MJX-834-TEX-N-25"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>34</mn></mrow><mi mathvariant="normal">%</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">{34}\%</script><span> 和 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.147ex" height="1.824ex" role="img" focusable="false" viewBox="0 -750 1833 806" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.127ex;"><defs><path id="MJX-835-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-835-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-835-TEX-N-25" d="M465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-835-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-835-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="mi" transform="translate(1000,0)"><use data-c="25" xlink:href="#MJX-835-TEX-N-25"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mi mathvariant="normal">%</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">{10}\%</script><span> 的绝对提升。我们还通过展示其相对于仅含动作的受控基准模型的持续优势，证明了稀疏、通用的推理在决策中的重要性。除了通用适用性和性能提升外，推理与行动的结合还有助于提升模型在所有领域中的可解释性、可信度和可诊断性，因为人类可以轻易区分来自模型内部知识与外部环境的信息，并检查推理迹以理解模型动作的决策依据。</span></p><p><span>To summarize, our key contributions are the following: (1) we introduce ReAct, a novel prompt-based paradigm to synergize reasoning and acting in language models for general task solving; (2) we perform extensive experiments across diverse benchmarks to showcase the advantage of ReAct in a few-shot learning setup over prior approaches that perform either reasoning or action generation in isolation; (3) we present systematic ablations and analysis to understand the importance of acting in reasoning tasks, and reasoning in interactive tasks; (4) we analyze the limitations of ReAct under the prompting setup (i.e. limited support of reasoning and acting behaviors), and perform initial finetuning experiments showing the potential of ReAct to improve with additional training data. Scaling up ReAct to train and operate on more tasks and combining it with complementary paradigms like reinforcement learning could further unlock the potential of large language models.</span>
<span>总而言之，我们的主要贡献如下：(1) 我们引入了 ReAct，这是一种新颖的基于提示的范式，旨在通用任务解决中协同语言模型的推理与行动；(2) 我们在不同基准测试中进行了广泛实验，展示了在少样本学习设置下，ReAct 相比以往孤立进行推理或动作生成的策略具有明显优势；(3) 我们进行了系统性的消融实验和分析，以理解行动在推理任务中的重要性以及推理在交互式任务中的重要性；(4) 我们分析了 ReAct 在提示设置下的局限性（即对推理和行动行为的支持有限），并进行了初步的微调实验，展示了 ReAct 通过额外训练数据提升性能的潜力。扩展 ReAct 以在更多任务上训练和运行，并将其与强化学习等互补范式相结合，可以进一步释放大语言模型的潜力。</span></p><h2 id='2-react-synergizing-reasoning--acting'><span>2 REACT: SYNERGIZING REASONING + ACTING</span></h2><h2 id='2-react协同推理--行动'><span>2 REACT：协同推理 + 行动</span></h2><p><span>Consider a general setup of an agent interacting with an environment for task solving. At time step </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.817ex" height="1.441ex" role="img" focusable="false" viewBox="0 -626 361 637" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-546-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-546-TEX-I-1D461"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">t</script><span> ,an agent receives an observation </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.429ex" height="1.952ex" role="img" focusable="false" viewBox="0 -705 2841.8 862.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-841-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-841-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-841-TEX-N-2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path><path id="MJX-841-TEX-C-4F" d="M308 428Q289 428 289 438Q289 457 318 508T378 593Q417 638 475 671T599 705Q688 705 732 643T777 483Q777 380 733 285T620 123T464 18T293 -22Q188 -22 123 51T58 245Q58 327 87 403T159 533T249 626T333 685T388 705Q404 705 404 693Q404 674 363 649Q333 632 304 606T239 537T181 429T158 290Q158 179 214 114T364 48Q489 48 583 165T677 438Q677 473 670 505T648 568T601 617T528 636Q518 636 513 635Q486 629 460 600T419 544T392 490Q383 470 372 459Q341 430 308 428Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45C" xlink:href="#MJX-841-TEX-I-1D45C"></use></g></g><g data-mml-node="TeXAtom" transform="translate(518,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-841-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1101,0)"><use data-c="2208" xlink:href="#MJX-841-TEX-N-2208"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2045.8,0)"><g data-mml-node="mi"><use data-c="4F" xlink:href="#MJX-841-TEX-C-4F"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>o</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>∈</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">O</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{o}_{t} \in  \mathcal{O}</script><span> from the environment and takes an action </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.581ex" height="2.004ex" role="img" focusable="false" viewBox="0 -728 2908.8 885.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-842-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-842-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-842-TEX-N-2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path><path id="MJX-842-TEX-C-41" d="M576 668Q576 688 606 708T660 728Q676 728 675 712V571Q675 409 688 252Q696 122 720 57Q722 53 723 50T728 46T732 43T737 41T743 39L754 45Q788 61 803 61Q819 61 819 47Q818 43 814 35Q799 15 755 -7T675 -30Q659 -30 648 -25T630 -8T621 11T614 34Q603 77 599 106T594 146T591 160V163H460L329 164L316 145Q241 35 196 -7T119 -50T59 -24T30 43Q30 75 46 100T74 125Q81 125 83 120T88 104T96 84Q118 57 151 57Q189 57 277 182Q432 400 542 625L559 659H567Q574 659 575 660T576 668ZM584 249Q579 333 577 386T575 473T574 520V581L563 560Q497 426 412 290L372 228L370 224H371L383 228L393 232H586L584 249Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-842-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-842-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1145,0)"><use data-c="2208" xlink:href="#MJX-842-TEX-N-2208"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2089.8,0)"><g data-mml-node="mi"><use data-c="41" xlink:href="#MJX-842-TEX-C-41"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>∈</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">A</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{a}_{t} \in  \mathcal{A}</script><span> following some policy </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="9.02ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3986.8 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-843-TEX-I-1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path><path id="MJX-843-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-843-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-843-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-843-TEX-N-2223" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path><path id="MJX-843-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-843-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D70B" xlink:href="#MJX-843-TEX-I-1D70B"></use></g><g data-mml-node="mrow" transform="translate(736.7,0)"><g data-mml-node="mo"><use data-c="28" xlink:href="#MJX-843-TEX-N-28"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(389,0)"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-843-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-843-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1145,0)"><use data-c="2223" xlink:href="#MJX-843-TEX-N-2223"></use></g><g data-mml-node="msub" transform="translate(1700.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-843-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-843-TEX-I-1D461"></use></g></g></g></g><g data-mml-node="mo" transform="translate(2861.1,0)"><use data-c="29" xlink:href="#MJX-843-TEX-N-29"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>π</mi><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>∣</mo><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\pi \left( {{a}_{t} \mid  {c}_{t}}\right)</script><span> ,where </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="28.627ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 12653.1 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-844-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-844-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-844-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-844-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-844-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-844-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-844-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-844-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-844-TEX-N-22EF" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z"></path><path id="MJX-844-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-844-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-844-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-844-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1049,0)"><use data-c="3D" xlink:href="#MJX-844-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(2104.8,0)"><g data-mml-node="mo"><use data-c="28" xlink:href="#MJX-844-TEX-N-28"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(389,0)"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45C" xlink:href="#MJX-844-TEX-I-1D45C"></use></g></g><g data-mml-node="TeXAtom" transform="translate(518,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-844-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(921.6,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(1366.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-844-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-844-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(2331.8,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="mo" transform="translate(2776.4,0)"><use data-c="22EF" xlink:href="#MJX-844-TEX-N-22EF"></use></g><g data-mml-node="mo" transform="translate(4115.1,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(4559.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45C" xlink:href="#MJX-844-TEX-I-1D45C"></use></g></g><g data-mml-node="TeXAtom" transform="translate(518,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-844-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(361,0)"><use data-c="2212" xlink:href="#MJX-844-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1139,0)"><use data-c="31" xlink:href="#MJX-844-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(6286.7,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(6731.4,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-844-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-844-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(361,0)"><use data-c="2212" xlink:href="#MJX-844-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1139,0)"><use data-c="31" xlink:href="#MJX-844-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(8502.3,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(8947,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45C" xlink:href="#MJX-844-TEX-I-1D45C"></use></g></g><g data-mml-node="TeXAtom" transform="translate(518,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-844-TEX-I-1D461"></use></g></g></g></g><g data-mml-node="mo" transform="translate(10159.3,0)"><use data-c="29" xlink:href="#MJX-844-TEX-N-29"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><msub><mrow data-mjx-texclass="ORD"><mi>o</mi></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msub><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msub><mo>,</mo><mo>⋯</mo><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mi>o</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mi>o</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{c}_{t} = \left( {{o}_{1},{a}_{1},\cdots ,{o}_{t - 1},{a}_{t - 1},{o}_{t}}\right)</script><span> is the context to the agent. Learning a policy is challenging when the mapping </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="7.226ex" height="1.513ex" role="img" focusable="false" viewBox="0 -511 3194.1 668.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-845-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-845-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-845-TEX-N-21A6" d="M95 155V109Q95 83 92 73T75 63Q61 63 58 74T54 130Q54 140 54 180T55 250Q55 421 57 425Q61 437 75 437Q88 437 91 428T95 393V345V270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H95V155Z"></path><path id="MJX-845-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-845-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-845-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1049,0)"><use data-c="21A6" xlink:href="#MJX-845-TEX-N-21A6"></use></g><g data-mml-node="msub" transform="translate(2326.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-845-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-845-TEX-I-1D461"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo stretchy="false">↦</mo><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">{c}_{t} \mapsto  {a}_{t}</script><span> is highly implicit and requires extensive computation. For example, the agent shown in Figure 1(1c) is unable to generate the correct final action (Act 4) to finish the QA task as it requires complex reasoning over the trajectory context (Question, Act 1-3, Obs 1-3). Similarly, the agent shown in Figure 1(2a) fails to comprehend from the context that sinkbasin 1 does not contain peppershaker 1, thus keep producing hallucinating actions.</span>
<span>考虑智能体与环境交互以解决任务的通用设置。在时间步 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.817ex" height="1.441ex" role="img" focusable="false" viewBox="0 -626 361 637" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-546-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-546-TEX-I-1D461"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">t</script><span>，智能体从环境接收观察结果 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.429ex" height="1.952ex" role="img" focusable="false" viewBox="0 -705 2841.8 862.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-841-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-841-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-841-TEX-N-2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path><path id="MJX-841-TEX-C-4F" d="M308 428Q289 428 289 438Q289 457 318 508T378 593Q417 638 475 671T599 705Q688 705 732 643T777 483Q777 380 733 285T620 123T464 18T293 -22Q188 -22 123 51T58 245Q58 327 87 403T159 533T249 626T333 685T388 705Q404 705 404 693Q404 674 363 649Q333 632 304 606T239 537T181 429T158 290Q158 179 214 114T364 48Q489 48 583 165T677 438Q677 473 670 505T648 568T601 617T528 636Q518 636 513 635Q486 629 460 600T419 544T392 490Q383 470 372 459Q341 430 308 428Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45C" xlink:href="#MJX-841-TEX-I-1D45C"></use></g></g><g data-mml-node="TeXAtom" transform="translate(518,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-841-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1101,0)"><use data-c="2208" xlink:href="#MJX-841-TEX-N-2208"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2045.8,0)"><g data-mml-node="mi"><use data-c="4F" xlink:href="#MJX-841-TEX-C-4F"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>o</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>∈</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">O</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{o}_{t} \in  \mathcal{O}</script><span>，并根据某种策略 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.581ex" height="2.004ex" role="img" focusable="false" viewBox="0 -728 2908.8 885.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-842-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-842-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-842-TEX-N-2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path><path id="MJX-842-TEX-C-41" d="M576 668Q576 688 606 708T660 728Q676 728 675 712V571Q675 409 688 252Q696 122 720 57Q722 53 723 50T728 46T732 43T737 41T743 39L754 45Q788 61 803 61Q819 61 819 47Q818 43 814 35Q799 15 755 -7T675 -30Q659 -30 648 -25T630 -8T621 11T614 34Q603 77 599 106T594 146T591 160V163H460L329 164L316 145Q241 35 196 -7T119 -50T59 -24T30 43Q30 75 46 100T74 125Q81 125 83 120T88 104T96 84Q118 57 151 57Q189 57 277 182Q432 400 542 625L559 659H567Q574 659 575 660T576 668ZM584 249Q579 333 577 386T575 473T574 520V581L563 560Q497 426 412 290L372 228L370 224H371L383 228L393 232H586L584 249Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-842-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-842-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1145,0)"><use data-c="2208" xlink:href="#MJX-842-TEX-N-2208"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2089.8,0)"><g data-mml-node="mi"><use data-c="41" xlink:href="#MJX-842-TEX-C-41"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>∈</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">A</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{a}_{t} \in  \mathcal{A}</script><span> 采取动作 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="9.02ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3986.8 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-843-TEX-I-1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path><path id="MJX-843-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-843-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-843-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-843-TEX-N-2223" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path><path id="MJX-843-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-843-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D70B" xlink:href="#MJX-843-TEX-I-1D70B"></use></g><g data-mml-node="mrow" transform="translate(736.7,0)"><g data-mml-node="mo"><use data-c="28" xlink:href="#MJX-843-TEX-N-28"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(389,0)"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-843-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-843-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1145,0)"><use data-c="2223" xlink:href="#MJX-843-TEX-N-2223"></use></g><g data-mml-node="msub" transform="translate(1700.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-843-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-843-TEX-I-1D461"></use></g></g></g></g><g data-mml-node="mo" transform="translate(2861.1,0)"><use data-c="29" xlink:href="#MJX-843-TEX-N-29"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>π</mi><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>∣</mo><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\pi \left( {{a}_{t} \mid  {c}_{t}}\right)</script><span>，其中 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="28.627ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 12653.1 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-844-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-844-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-844-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-844-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-844-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-844-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-844-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-844-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-844-TEX-N-22EF" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z"></path><path id="MJX-844-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-844-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-844-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-844-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1049,0)"><use data-c="3D" xlink:href="#MJX-844-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(2104.8,0)"><g data-mml-node="mo"><use data-c="28" xlink:href="#MJX-844-TEX-N-28"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(389,0)"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45C" xlink:href="#MJX-844-TEX-I-1D45C"></use></g></g><g data-mml-node="TeXAtom" transform="translate(518,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-844-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(921.6,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(1366.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-844-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-844-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(2331.8,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="mo" transform="translate(2776.4,0)"><use data-c="22EF" xlink:href="#MJX-844-TEX-N-22EF"></use></g><g data-mml-node="mo" transform="translate(4115.1,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(4559.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45C" xlink:href="#MJX-844-TEX-I-1D45C"></use></g></g><g data-mml-node="TeXAtom" transform="translate(518,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-844-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(361,0)"><use data-c="2212" xlink:href="#MJX-844-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1139,0)"><use data-c="31" xlink:href="#MJX-844-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(6286.7,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(6731.4,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-844-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-844-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(361,0)"><use data-c="2212" xlink:href="#MJX-844-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1139,0)"><use data-c="31" xlink:href="#MJX-844-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(8502.3,0)"><use data-c="2C" xlink:href="#MJX-844-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(8947,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45C" xlink:href="#MJX-844-TEX-I-1D45C"></use></g></g><g data-mml-node="TeXAtom" transform="translate(518,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-844-TEX-I-1D461"></use></g></g></g></g><g data-mml-node="mo" transform="translate(10159.3,0)"><use data-c="29" xlink:href="#MJX-844-TEX-N-29"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><msub><mrow data-mjx-texclass="ORD"><mi>o</mi></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msub><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msub><mo>,</mo><mo>⋯</mo><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mi>o</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mi>o</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{c}_{t} = \left( {{o}_{1},{a}_{1},\cdots ,{o}_{t - 1},{a}_{t - 1},{o}_{t}}\right)</script><span> 是智能体所处的上下文。当映射 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="7.226ex" height="1.513ex" role="img" focusable="false" viewBox="0 -511 3194.1 668.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-845-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-845-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-845-TEX-N-21A6" d="M95 155V109Q95 83 92 73T75 63Q61 63 58 74T54 130Q54 140 54 180T55 250Q55 421 57 425Q61 437 75 437Q88 437 91 428T95 393V345V270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H95V155Z"></path><path id="MJX-845-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-845-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-845-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1049,0)"><use data-c="21A6" xlink:href="#MJX-845-TEX-N-21A6"></use></g><g data-mml-node="msub" transform="translate(2326.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-845-TEX-I-1D44E"></use></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-845-TEX-I-1D461"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo stretchy="false">↦</mo><msub><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">{c}_{t} \mapsto  {a}_{t}</script><span> 极其隐晦且需要大量计算时，学习策略极具挑战性。例如，图 1(1c) 所示的智能体无法生成正确的最终动作（Act 4）来完成问答任务，因为它需要对轨迹上下文（问题、Act 1-3、Obs 1-3）进行复杂推理。同样，图 1(2a) 所示的智能体无法从上下文中理解洗手盆 1 中不包含调味瓶 1，从而不断产生幻觉动作。</span></p><p><span>The idea of ReAct is simple: we augment the agent’s action space to </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="10.799ex" height="2.733ex" role="img" focusable="false" viewBox="0 -1126 4773 1208" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.186ex;"><defs><path id="MJX-852-TEX-C-41" d="M576 668Q576 688 606 708T660 728Q676 728 675 712V571Q675 409 688 252Q696 122 720 57Q722 53 723 50T728 46T732 43T737 41T743 39L754 45Q788 61 803 61Q819 61 819 47Q818 43 814 35Q799 15 755 -7T675 -30Q659 -30 648 -25T630 -8T621 11T614 34Q603 77 599 106T594 146T591 160V163H460L329 164L316 145Q241 35 196 -7T119 -50T59 -24T30 43Q30 75 46 100T74 125Q81 125 83 120T88 104T96 84Q118 57 151 57Q189 57 277 182Q432 400 542 625L559 659H567Q574 659 575 660T576 668ZM584 249Q579 333 577 386T575 473T574 520V581L563 560Q497 426 412 290L372 228L370 224H371L383 228L393 232H586L584 249Z"></path><path id="MJX-852-TEX-SO-2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path><path id="MJX-852-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-852-TEX-N-222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path><path id="MJX-852-TEX-C-4C" d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="41" xlink:href="#MJX-852-TEX-C-41"></use></g></g><g data-mml-node="mo" transform="translate(608.8,282) translate(-278 0)"><use data-c="2C6" xlink:href="#MJX-852-TEX-SO-2C6"></use></g></g></g><g data-mml-node="mo" transform="translate(1096.8,0)"><use data-c="3D" xlink:href="#MJX-852-TEX-N-3D"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2152.6,0)"><g data-mml-node="mi"><use data-c="41" xlink:href="#MJX-852-TEX-C-41"></use></g></g><g data-mml-node="mo" transform="translate(3193.8,0)"><use data-c="222A" xlink:href="#MJX-852-TEX-N-222A"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4083,0)"><g data-mml-node="mi"><use data-c="4C" xlink:href="#MJX-852-TEX-C-4C"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mover><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">A</mi></mrow><mo>^</mo></mover></mrow><mo>=</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">A</mi></mrow><mo>∪</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">L</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\widehat{\mathcal{A}} = \mathcal{A} \cup  \mathcal{L}</script><span> ,where </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.561ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 690 727" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-859-TEX-C-4C" d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="4C" xlink:href="#MJX-859-TEX-C-4C"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">L</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\mathcal{L}</script><span> is the space of language. An action </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.289ex" height="2.257ex" role="img" focusable="false" viewBox="0 -840 2779.8 997.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-854-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-854-TEX-SO-2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path><path id="MJX-854-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-854-TEX-N-2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path><path id="MJX-854-TEX-C-4C" d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-854-TEX-I-1D44E"></use></g><g data-mml-node="mo" transform="translate(264.5,-4) translate(-278 0)"><use data-c="2C6" xlink:href="#MJX-854-TEX-SO-2C6"></use></g></g></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-854-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1145,0)"><use data-c="2208" xlink:href="#MJX-854-TEX-N-2208"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2089.8,0)"><g data-mml-node="mi"><use data-c="4C" xlink:href="#MJX-854-TEX-C-4C"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mover><mi>a</mi><mo>^</mo></mover></mrow></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>∈</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">L</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{\widehat{a}}_{t} \in  \mathcal{L}</script><span> in the language space,which we will refer to as a thought or a reasoning trace, does not affect the external environment, thus leading to no observation feedback. Instead,a thought </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.962ex" height="2.257ex" role="img" focusable="false" viewBox="0 -840 867.3 997.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-855-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-855-TEX-SO-2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path><path id="MJX-855-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-855-TEX-I-1D44E"></use></g><g data-mml-node="mo" transform="translate(264.5,-4) translate(-278 0)"><use data-c="2C6" xlink:href="#MJX-855-TEX-SO-2C6"></use></g></g></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-855-TEX-I-1D461"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mover><mi>a</mi><mo>^</mo></mover></mrow></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">{\widehat{a}}_{t}</script><span> aims to compose useful information by reasoning over the current context </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.745ex" height="1.357ex" role="img" focusable="false" viewBox="0 -442 771.3 599.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-856-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-856-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-856-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-856-TEX-I-1D461"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">{c}_{t}</script><span> . and update the context </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="13.592ex" height="2.713ex" role="img" focusable="false" viewBox="0 -849.5 6007.7 1199" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.791ex;"><defs><path id="MJX-857-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-857-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-857-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-857-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-857-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-857-TEX-SO-28" d="M152 251Q152 646 388 850H416Q422 844 422 841Q422 837 403 816T357 753T302 649T255 482T236 250Q236 124 255 19T301 -147T356 -251T403 -315T422 -340Q422 -343 416 -349H388Q359 -325 332 -296T271 -213T212 -97T170 56T152 251Z"></path><path id="MJX-857-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-857-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-857-TEX-SO-2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path><path id="MJX-857-TEX-SO-29" d="M305 251Q305 -145 69 -349H56Q43 -349 39 -347T35 -338Q37 -333 60 -307T108 -239T160 -136T204 27T221 250T204 473T160 636T108 740T60 807T35 839Q35 850 50 850H56H69Q197 743 256 566Q305 425 305 251Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-857-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-857-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(361,0)"><use data-c="2B" xlink:href="#MJX-857-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(1139,0)"><use data-c="31" xlink:href="#MJX-857-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(1952.7,0)"><use data-c="3D" xlink:href="#MJX-857-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3008.5,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><use data-c="28" xlink:href="#MJX-857-TEX-SO-28"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(458,0)"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-857-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-857-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(771.3,0)"><use data-c="2C" xlink:href="#MJX-857-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(1215.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-857-TEX-I-1D44E"></use></g><g data-mml-node="mo" transform="translate(264.5,-4) translate(-278 0)"><use data-c="2C6" xlink:href="#MJX-857-TEX-SO-2C6"></use></g></g></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-857-TEX-I-1D461"></use></g></g></g></g><g data-mml-node="mo" transform="translate(2541.2,0) translate(0 -0.5)"><use data-c="29" xlink:href="#MJX-857-TEX-SO-29"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mover><mi>a</mi><mo>^</mo></mover></mrow></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{c}_{t + 1} = \left( {{c}_{t},{\widehat{a}}_{t}}\right)</script><span> to support future reasoning or acting. As shown in Figure 1 there could be various types of useful thoughts, e.g. decomposing task goals and create action plans (2b, Act 1; 1d, Thought 1), injecting commonsense knowledge relevant to task solving (2b, Act 1), extracting important parts from observations (1d, Thought2, 4), track progress and transit action plans (2b, Act 8), handle exceptions and adjust action plans (1d, Thought 3), and so on.</span>
<span>ReAct 的思想很简单：我们将智能体的动作空间扩展为 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="10.799ex" height="2.733ex" role="img" focusable="false" viewBox="0 -1126 4773 1208" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.186ex;"><defs><path id="MJX-852-TEX-C-41" d="M576 668Q576 688 606 708T660 728Q676 728 675 712V571Q675 409 688 252Q696 122 720 57Q722 53 723 50T728 46T732 43T737 41T743 39L754 45Q788 61 803 61Q819 61 819 47Q818 43 814 35Q799 15 755 -7T675 -30Q659 -30 648 -25T630 -8T621 11T614 34Q603 77 599 106T594 146T591 160V163H460L329 164L316 145Q241 35 196 -7T119 -50T59 -24T30 43Q30 75 46 100T74 125Q81 125 83 120T88 104T96 84Q118 57 151 57Q189 57 277 182Q432 400 542 625L559 659H567Q574 659 575 660T576 668ZM584 249Q579 333 577 386T575 473T574 520V581L563 560Q497 426 412 290L372 228L370 224H371L383 228L393 232H586L584 249Z"></path><path id="MJX-852-TEX-SO-2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path><path id="MJX-852-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-852-TEX-N-222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path><path id="MJX-852-TEX-C-4C" d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="41" xlink:href="#MJX-852-TEX-C-41"></use></g></g><g data-mml-node="mo" transform="translate(608.8,282) translate(-278 0)"><use data-c="2C6" xlink:href="#MJX-852-TEX-SO-2C6"></use></g></g></g><g data-mml-node="mo" transform="translate(1096.8,0)"><use data-c="3D" xlink:href="#MJX-852-TEX-N-3D"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2152.6,0)"><g data-mml-node="mi"><use data-c="41" xlink:href="#MJX-852-TEX-C-41"></use></g></g><g data-mml-node="mo" transform="translate(3193.8,0)"><use data-c="222A" xlink:href="#MJX-852-TEX-N-222A"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4083,0)"><g data-mml-node="mi"><use data-c="4C" xlink:href="#MJX-852-TEX-C-4C"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mover><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">A</mi></mrow><mo>^</mo></mover></mrow><mo>=</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">A</mi></mrow><mo>∪</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">L</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\widehat{\mathcal{A}} = \mathcal{A} \cup  \mathcal{L}</script><span>，其中 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.561ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 690 727" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-859-TEX-C-4C" d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="4C" xlink:href="#MJX-859-TEX-C-4C"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">L</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\mathcal{L}</script><span> 是语言空间。语言空间中的动作 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.289ex" height="2.257ex" role="img" focusable="false" viewBox="0 -840 2779.8 997.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-854-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-854-TEX-SO-2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path><path id="MJX-854-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-854-TEX-N-2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path><path id="MJX-854-TEX-C-4C" d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-854-TEX-I-1D44E"></use></g><g data-mml-node="mo" transform="translate(264.5,-4) translate(-278 0)"><use data-c="2C6" xlink:href="#MJX-854-TEX-SO-2C6"></use></g></g></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-854-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(1145,0)"><use data-c="2208" xlink:href="#MJX-854-TEX-N-2208"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2089.8,0)"><g data-mml-node="mi"><use data-c="4C" xlink:href="#MJX-854-TEX-C-4C"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mover><mi>a</mi><mo>^</mo></mover></mrow></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>∈</mo><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">L</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{\widehat{a}}_{t} \in  \mathcal{L}</script><span>（我们称之为想法或推理轨迹）不会影响外部环境，因此不会产生观察反馈。相反，想法 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.962ex" height="2.257ex" role="img" focusable="false" viewBox="0 -840 867.3 997.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-855-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-855-TEX-SO-2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path><path id="MJX-855-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-855-TEX-I-1D44E"></use></g><g data-mml-node="mo" transform="translate(264.5,-4) translate(-278 0)"><use data-c="2C6" xlink:href="#MJX-855-TEX-SO-2C6"></use></g></g></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-855-TEX-I-1D461"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mover><mi>a</mi><mo>^</mo></mover></mrow></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">{\widehat{a}}_{t}</script><span> 旨在通过对当前上下文 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.745ex" height="1.357ex" role="img" focusable="false" viewBox="0 -442 771.3 599.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><defs><path id="MJX-856-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-856-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-856-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-856-TEX-I-1D461"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">{c}_{t}</script><span> 进行推理来组合有用信息，并更新上下文 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="13.592ex" height="2.713ex" role="img" focusable="false" viewBox="0 -849.5 6007.7 1199" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.791ex;"><defs><path id="MJX-857-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-857-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-857-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-857-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-857-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-857-TEX-SO-28" d="M152 251Q152 646 388 850H416Q422 844 422 841Q422 837 403 816T357 753T302 649T255 482T236 250Q236 124 255 19T301 -147T356 -251T403 -315T422 -340Q422 -343 416 -349H388Q359 -325 332 -296T271 -213T212 -97T170 56T152 251Z"></path><path id="MJX-857-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-857-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-857-TEX-SO-2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path><path id="MJX-857-TEX-SO-29" d="M305 251Q305 -145 69 -349H56Q43 -349 39 -347T35 -338Q37 -333 60 -307T108 -239T160 -136T204 27T221 250T204 473T160 636T108 740T60 807T35 839Q35 850 50 850H56H69Q197 743 256 566Q305 425 305 251Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-857-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-857-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(361,0)"><use data-c="2B" xlink:href="#MJX-857-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(1139,0)"><use data-c="31" xlink:href="#MJX-857-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(1952.7,0)"><use data-c="3D" xlink:href="#MJX-857-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3008.5,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><use data-c="28" xlink:href="#MJX-857-TEX-SO-28"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(458,0)"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D450" xlink:href="#MJX-857-TEX-I-1D450"></use></g></g><g data-mml-node="TeXAtom" transform="translate(466,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-857-TEX-I-1D461"></use></g></g></g><g data-mml-node="mo" transform="translate(771.3,0)"><use data-c="2C" xlink:href="#MJX-857-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(1215.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-857-TEX-I-1D44E"></use></g><g data-mml-node="mo" transform="translate(264.5,-4) translate(-278 0)"><use data-c="2C6" xlink:href="#MJX-857-TEX-SO-2C6"></use></g></g></g></g><g data-mml-node="TeXAtom" transform="translate(562,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D461" xlink:href="#MJX-857-TEX-I-1D461"></use></g></g></g></g><g data-mml-node="mo" transform="translate(2541.2,0) translate(0 -0.5)"><use data-c="29" xlink:href="#MJX-857-TEX-SO-29"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><msub><mrow data-mjx-texclass="ORD"><mi>c</mi></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub><mo>,</mo><msub><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mover><mi>a</mi><mo>^</mo></mover></mrow></mrow><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow></msub></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{c}_{t + 1} = \left( {{c}_{t},{\widehat{a}}_{t}}\right)</script><span> 以支持后续的推理或行动。如图 1 所示，可能存在各种类型的有用想法，例如：分解任务目标并制定行动计划（2b, Act 1; 1d, Thought 1）、注入与任务解决相关的常识知识（2b, Act 1）、从观察中提取重要部分（1d, Thought 2, 4）、追踪进度并转换行动计划（2b, Act 8）、处理异常并调整行动计划（1d, Thought 3）等等。</span></p><p><span>However,as the language space </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.561ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 690 727" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-859-TEX-C-4C" d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="4C" xlink:href="#MJX-859-TEX-C-4C"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">L</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\mathcal{L}</script><span> is unlimited,learning in this augmented action space is difficult and requires strong language priors. In this paper, we mainly focus on the setup where a frozen large language model, PaLM-540B (Chowdhery et al. 2022) examples to generate both domain-specific actions and free-form language thoughts for task solving (Figure 1 (1d), (2b)). Each in-context example is a human trajectory of actions, thoughts, and environment observations to solve a task instance (see Appendix C). For the tasks where reasoning is of primary importance (Figure 1(1)), we alternate the generation of thoughts and actions so that the task-solving trajectory consists of multiple thought-action-observation steps. In contrast, for decision making tasks that potentially involve a large number of actions (Figure 1(2)), thoughts only need to appear sparsely in the most relevant positions of a trajectory, so we let the language model decide the asynchronous occurrence of thoughts and actions for itself.</span>
<span>然而，由于语言空间 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.561ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 690 727" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-859-TEX-C-4C" d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="4C" xlink:href="#MJX-859-TEX-C-4C"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi data-mjx-variant="-tex-calligraphic" mathvariant="script">L</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\mathcal{L}</script><span> 是无限的，在这个增强的动作空间中进行学习非常困难，且需要强大的语言先验。在本文中，我们主要关注使用冻结的大语言模型 PaLM-540B (Chowdhery et al. 2022) 示例来生成特定领域的动作和自由形式的语言想法以解决任务的设置（图 1 (1d), (2b)）。每个上下文示例都是由人类编写的解决任务实例的动作、想法和环境观察轨迹（参见附录 C）。对于推理至关重要的任务（图 1(1)），我们交替生成想法和动作，使任务解决轨迹由多个“想法-动作-观察”步骤组成。相比之下，对于可能涉及大量动作的决策任务（图 1(2)），想法只需稀疏地出现在轨迹中最相关的部分，因此我们让语言模型自行决定想法和动作的异步发生。</span></p><hr /><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-202-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-202-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{1}</script><span> We show some GPT-3 (Brown et al. 2020) results in Appendix A.1 which outperforms PaLM-540B.</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-202-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-202-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{1}</script><span> 我们在附录 A.1 中展示了一些 GPT-3 (Brown et al. 2020) 的结果，其表现优于 PaLM-540B。</span></p><hr /><p>&nbsp;</p><p><span>Since decision making and reasoning capabilities are integrated into a large language model, ReAct enjoys several unique features: A) Intuitive and easy to design: Designing ReAct prompts is straightforward as human annotators just type down their thoughts in language on top of their actions taken. No ad-hoc format choice, thought design, or example selection is used in this paper. We detail prompt design for each task in Sections 3 and 4 B) General and flexible: Due to the flexible thought space and thought-action occurrence format, ReAct works for diverse tasks with distinct action spaces and reasoning needs, including but not limited to QA, fact verification, text game, and web navigation. C) Performant and robust: ReAct shows strong generalization to new task instances while learning solely from one to six in-context examples, consistently outperforming baselines with only reasoning or acting across different domains. We also show in Section 3 additional benefits when finetuning is enabled, and in Section 4 how ReAct performance is robust to prompt selections. D) Human aligned and controllable: ReAct promises an interpretable sequential decision making and reasoning process where humans can easily inspect reasoning and factual correctness. Moreover, humans can also control or correct the agent behavior on the go by thought editing, as shown in Figure 5 in Section 4</span>
<span>由于决策和推理能力被整合到大型语言模型中，ReAct 具有几个独特的特点：A) 直观且易于设计：设计 ReAct 提示非常直接，因为人类标注者只需在采取的行动之上用语言写下他们的想法。本文不使用特定的格式选择、思维设计或示例筛选。我们在第 3 和第 4 节详细介绍了每个任务的提示设计。B) 通用且灵活：由于灵活的思维空间和“思维-行动”发生格式，ReAct 适用于具有不同行动空间和推理需求的多种任务，包括但不限于问答、事实核实、文本游戏和网页导航。C) 高性能且稳健：ReAct 在仅从一到六个上下文示例中学习时，对新任务实例表现出强大的泛化能力，在不同领域中始终优于仅推理或仅行动的基线。我们还在第 3 节展示了启用微调时的额外收益，并在第 4 节展示了 ReAct 性能对提示选择的稳健性。D) 符合人类直觉且可控：ReAct 承诺了一个可解释的序列决策和推理过程，人类可以轻松检查其推理和事实的正确性。此外，人类还可以通过编辑思维随时控制或纠正智能体的行为，如第 4 节图 5 所示。</span></p><h2 id='3-knowledge-intensive-reasoning-tasks'><span>3 KNOWLEDGE-INTENSIVE REASONING TASKS</span></h2><h2 id='3-知识密集型推理任务'><span>3 知识密集型推理任务</span></h2><p><span>We begin with knowledge-intensive reasoning tasks like multi-hop question answering and fact verification. As shown in Figure 1(1d), by interacting with a Wikipedia API, ReAct is able to retrieve information to support reasoning, while also use reasoning to target what to retrieve next, demonstrating a synergy of reasoning and acting.</span>
<span>我们从知识密集型推理任务开始，如多跳问答和事实核实。如图 1(1d) 所示，通过与 Wikipedia API 交互，ReAct 能够检索信息以支持推理，同时利用推理来确定下一步检索的目标，展示了推理与行动的协同作用。</span></p><h3 id='31-setup'><span>3.1 SETUP</span></h3><h3 id='31-实验设置'><span>3.1 实验设置</span></h3><p><span>Domains We consider two datasets challenging knowledge retrieval and reasoning: (1) Hot-PotQA (Yang et al., 2018), a multi-hop question answering benchmark that requires reasoning over two or more Wikipedia passages, and (2) FEVER (Thorne et al., 2018), a fact verification benchmark where each claim is annotated SUPPORTS, REFUTES, or NOT ENOUGH INFO, based on if there exists a Wikipedia passage to verify the claim. In this work, we operate in a question-only setup for both tasks, where models only receive the question/claim as input without access to support paragraphs, and have to rely on their internal knowledge or retrieve knowledge via interacting with an external environment to support reasoning.</span>
<span>领域 我们考虑两个具有挑战性的知识检索和推理数据集：(1) HotpotQA (Yang et al., 2018)，一个需要对两个或多个 Wikipedia 段落进行推理的多跳问答基准；(2) FEVER (Thorne et al., 2018)，一个事实核实基准，每个主张根据是否存在可验证该主张的 Wikipedia 段落被标注为“支持”、“反驳”或“信息不足”。在这项工作中，我们对这两个任务均采用“仅问题”设置，模型仅接收问题/主张作为输入，无法访问支撑段落，必须依靠其内部知识或通过与外部环境交互检索知识来支持推理。</span></p><p><span>Action Space We design a simple Wikipedia web API with three types of actions to support interactive information retrieval: (1) search[entity], which returns the first 5 sentences from the corresponding entity wiki page if it exists, or else suggests top-5 similar entities from the Wikipedia search engine, (2) lookup[string], which would return the next sentence in the page containing string, simulating Ctrl+F functionality on the browser. (3) finish[answer], which would finish the current task with answer. We note that this action space mostly can only retrieve a small part of a passage based on exact passage name, which is significantly weaker than state-of-the-art lexical or neural retrievers. The purpose is to simulate how humans would interact with Wikipedia, and force models to retrieve via explicit reasoning in language.</span>
<span>行动空间 我们设计了一个简单的 Wikipedia 网页 API，包含三种类型的行动以支持交互式信息检索：(1) search[entity]，如果对应的实体百科页面存在，则返回前 5 句，否则从 Wikipedia 搜索引擎推荐前 5 个相似实体；(2) lookup[string]，返回页面中包含字符串的下一句，模拟浏览器上的 Ctrl+F 功能；(3) finish[answer]，以答案结束当前任务。我们注意到，该行动空间大多只能根据确切的段落名称检索段落的一小部分，其性能显著弱于目前最先进的词法或神经检索器。其目的是模拟人类与 Wikipedia 的交互方式，并迫使模型通过显式的语言推理进行检索。</span></p><h3 id='32-methods'><span>3.2 METHODS</span></h3><h3 id='32-方法'><span>3.2 方法</span></h3><p><span>ReAct Prompting For HotpotQA and Fever,we randomly select 6 and 3 cases </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> from the training set and manually compose ReAct -format trajectories to use as few-shot exemplars in the prompts. Similar to Figure 1(d), each trajectory consists of multiple thought-action-observation steps (i.e. dense thought), where free-form thoughts are used for various purposes. Specifically, we use a combination of thoughts that decompose questions (&quot;I need to search x, find y, then find z&quot;), extract information from Wikipedia observations (&quot;x was started in 1844&quot;, &quot;The paragraph does not tell x&quot;), perform commonsense (&quot;x is not y, so z must instead be...&quot;) or arithmetic reasoning (&quot;1844 &lt; 1989&quot;), guide search reformulation (&quot;maybe I can search/look up x instead&quot;), and synthesize the final answer (&quot;...so the answer is x&quot;). See Appendix C for more details.</span>
<span>ReAct 提示 对于 HotpotQA 和 Fever，我们从训练集中随机选择 6 个和 3 个案例 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span>，并手动编写 ReAct 格式的轨迹，作为提示中的少样本示例。与图 1(d) 类似，每条轨迹由多个“思维-行动-观察”步骤（即密集思维）组成，其中自由格式的思维被用于各种目的。具体而言，我们结合使用了多种思维：分解问题（“我需要搜索 x，找到 y，然后找到 z”）、从 Wikipedia 观察中提取信息（“x 始于 1844 年”、“该段落没有提到 x”）、进行常识（“x 不是 y，所以 z 必须是……”）或算术推理（“1844 &lt; 1989”）、指导搜索重构（“也许我可以改为搜索/查找 x”）以及综合最终答案（“……所以答案是 x”）。详见附录 C。</span></p><hr /><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> We find more examples do not improve performance.</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-205-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-205-TEX-N-32"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>2</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{2}</script><span> 我们发现更多示例并不能提高性能。</span></p><hr /><p>&nbsp;</p><table><tr><td>Prompt Method</td><td>HotpotQA (EM)</td><td>Fever (Acc)</td></tr><tr><td>Standard</td><td>28.7</td><td>57.1</td></tr><tr><td>CoT Wei et al., 2022)</td><td>29.4</td><td>56.3</td></tr><tr><td>CoT-SC Wang et al., 2022a)</td><td>33.4</td><td>60.4</td></tr><tr><td>Act</td><td>25.7</td><td>58.9</td></tr><tr><td>ReAct</td><td>27.4</td><td>60.9</td></tr><tr><td>CoT-SC $\rightarrow$ ReAct</td><td>34.2</td><td>64.6</td></tr><tr><td>ReAct $\rightarrow$ CoT-SC</td><td>35.1</td><td>62.0</td></tr><tr><td>Supervised SoTA ${}^{b}$</td><td>67.5</td><td>89.5</td></tr></table>
<table><tbody><tr><td>提示方法</td><td>HotpotQA (EM)</td><td>Fever (Acc)</td></tr><tr><td>标准</td><td>28.7</td><td>57.1</td></tr><tr><td>CoT (Wei et al., 2022)</td><td>29.4</td><td>56.3</td></tr><tr><td>CoT-SC (Wang et al., 2022a)</td><td>33.4</td><td>60.4</td></tr><tr><td>Act</td><td>25.7</td><td>58.9</td></tr><tr><td>ReAct</td><td>27.4</td><td>60.9</td></tr><tr><td>CoT-SC $\rightarrow$ ReAct</td><td>34.2</td><td>64.6</td></tr><tr><td>ReAct $\rightarrow$ CoT-SC</td><td>35.1</td><td>62.0</td></tr><tr><td>有监督 SoTA ${}^{b}$</td><td>67.5</td><td>89.5</td></tr></tbody></table><p><span>Table 1: PaLM-540B prompting results on HotpotQA and Fever.</span>
<span>表 1：PaLM-540B 在 HotpotQA 和 Fever 上的提示结果。</span></p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.034ex" height="1.527ex" role="img" focusable="false" viewBox="0 -674.8 457.1 674.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-861-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-861-TEX-I-1D44E"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{a}</script><span> HotpotQA EM is 27.1,28.9,33.8 for Standard,CoT, CoT-SC in Wang et al. 2022b</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.034ex" height="1.527ex" role="img" focusable="false" viewBox="0 -674.8 457.1 674.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-861-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-861-TEX-I-1D44E"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mi>a</mi></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{a}</script><span> 在 Wang 等人 2022b 的研究中，HotpotQA 的标准提示、CoT、CoT-SC 的 EM 分别为 27.1、28.9、33.8</span></p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.874ex" height="1.932ex" role="img" focusable="false" viewBox="0 -853.7 386.3 853.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-863-TEX-I-1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44F" xlink:href="#MJX-863-TEX-I-1D44F"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mi>b</mi></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{b}</script><span> Zhu et al. 2021 Lewis et al. 2020</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.874ex" height="1.932ex" role="img" focusable="false" viewBox="0 -853.7 386.3 853.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-863-TEX-I-1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D44F" xlink:href="#MJX-863-TEX-I-1D44F"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mi>b</mi></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{b}</script><span> Zhu 等人 2021；Lewis 等人 2020</span></p><p><img src="https://raw.githubusercontent.com/Tsuki-Gor/Pic_Bed_Ob/main/Mixed/M2026/02/2026_02_18__00_16_23_5d4805.jpg"/></p><p>&nbsp;</p><p><span>Figure 2: PaLM-540B prompting results with respect to number of CoT-SC samples used.</span>
<span>图 2：PaLM-540B 提示结果随 CoT-SC 样本数量的变化。</span></p><p><span>Baselines We systematically ablate ReAct trajectories to build prompts for multiple baselines (with formats as Figure 1(1a-1c)): (a) Standard prompting (Standard), which removes all thoughts, actions, observations in ReAct trajectories. (b) Chain-of-thought prompting (CoT) (Wei et al. 2022), which removes actions and observations and serve as a reasoning-only baseline. We also build a self-consistency baseline (CoT-SC) (Wang et al., 2022a b) by sampling 21 CoT trajectories with decoding temperature 0.7 during inference and adopting the majority answer, which is found to consistently boost performance over CoT. (c) Acting-only prompt (Act), which removes thoughts in ReAct trajectories, loosely resembling how WebGPT (Nakano et al. 2021) interacts with the Internet to answer questions, though it operates on a different task and action space, and uses imitation and reinforcement learning instead of prompting.</span>
<span>基准方法 我们系统地消融 ReAct 轨迹，为多个基准方法构建提示（格式如图 1(1a-1c) 所示）：(a) 标准提示 (Standard)，移除 ReAct 轨迹中所有的思考、动作和观察。(b) 思维链提示 (CoT) (Wei 等人 2022)，移除动作和观察，作为纯推理基准。我们还通过在推理过程中以 0.7 的解码温度采样 21 条 CoT 轨迹并采用多数投票答案，构建了自一致性基准 (CoT-SC) (Wang 等人 2022a b)，该方法被发现能持续提升 CoT 的性能。(c) 纯动作提示 (Act)，移除 ReAct 轨迹中的思考，这与 WebGPT (Nakano 等人 2021) 通过互联网交互回答问题的方式略有相似，尽管它在不同的任务和动作空间上运行，且使用模仿学习和强化学习而非提示。</span></p><p><span>Combining Internal and External Knowledge As will be detail in Section 3.3, we observe that the problem solving process demonstrated by ReAct is more factual and grounded, whereas CoT is more accurate in formulating reasoning structure but can easily suffer from hallucinated facts or thoughts. We therefore propose to incorporate ReAct and CoT-SC, and let the model decide when to switch to the other method based on the following heuristics: A) ReAct </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-875-TEX-N-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2192" xlink:href="#MJX-875-TEX-N-2192"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\rightarrow</script><span> CoT-SC: when ReAct fails to return an answer within given steps, back off to CoT-SC. We set 7 and 5 steps for HotpotQA and FEVER respectively as we find more steps will not improve ReAct performance </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 436.6 833.2" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-328-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-328-TEX-N-33"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>3</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{3}</script><span> B) CoT-SC </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-875-TEX-N-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2192" xlink:href="#MJX-875-TEX-N-2192"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\rightarrow</script><span> ReAct: when the majority answer among </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-322-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-322-TEX-I-1D45B"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">n</script><span> CoT-SC samples occurs less than </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.62ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 1600 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-869-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-869-TEX-N-2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path><path id="MJX-869-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-869-TEX-I-1D45B"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(600,0)"><g data-mml-node="mo"><use data-c="2F" xlink:href="#MJX-869-TEX-N-2F"></use></g></g><g data-mml-node="mn" transform="translate(1100,0)"><use data-c="32" xlink:href="#MJX-869-TEX-N-32"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn></math></mjx-assistive-mml></mjx-container><script type="math/tex">n/2</script><span> times (i.e. internal knowledge might not support the task confidently), back off to ReAct.</span>
<span>结合内部和外部知识 正如 3.3 节所述，我们观察到 ReAct 展示的解题过程更具事实性和落地性，而 CoT 在构建推理结构上更准确，但容易受到事实幻觉或错误思考的影响。因此，我们建议结合 ReAct 和 CoT-SC，并让模型根据以下启发式策略决定何时切换到另一种方法：A) ReAct </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-875-TEX-N-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2192" xlink:href="#MJX-875-TEX-N-2192"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\rightarrow</script><span> CoT-SC：当 ReAct 未能在给定步数内返回答案时，退回到 CoT-SC。我们将 HotpotQA 和 FEVER 分别设置为 7 步和 5 步，因为我们发现增加步数并不能提高 ReAct 的性能 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 436.6 833.2" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-328-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-328-TEX-N-33"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>3</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{3}</script><span> B) CoT-SC </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-875-TEX-N-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2192" xlink:href="#MJX-875-TEX-N-2192"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\rightarrow</script><span> ReAct：当 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-322-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-322-TEX-I-1D45B"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">n</script><span> 个 CoT-SC 样本中的多数答案出现次数少于 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.62ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 1600 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-869-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-869-TEX-N-2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path><path id="MJX-869-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-869-TEX-I-1D45B"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(600,0)"><g data-mml-node="mo"><use data-c="2F" xlink:href="#MJX-869-TEX-N-2F"></use></g></g><g data-mml-node="mn" transform="translate(1100,0)"><use data-c="32" xlink:href="#MJX-869-TEX-N-32"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn></math></mjx-assistive-mml></mjx-container><script type="math/tex">n/2</script><span> 次时（即内部知识可能无法自信地支撑任务），退回到 ReAct。</span></p><p><span>Finetuning Due to the challenge of manually annotating reasoning traces and actions at scale, we consider a bootstraping approach similar to Zelikman et al. (2022), using 3,000 trajectories with correct answers generated by ReAct (also for other baselines) to finetune smaller language models (PaLM-8/62B) to decode trajectories (all thoughts, actions, observations) conditioned on input questions/claims. More details are in Appendix B.1</span>
<span>微调 由于大规模手动标注推理轨迹和动作具有挑战性，我们考虑采用类似于 Zelikman 等人 (2022) 的自举方法，利用 ReAct 生成的 3,000 条包含正确答案的轨迹（同样适用于其他基准方法）来微调较小的语言模型 (PaLM-8/62B)，使其能够根据输入的问项/主张解码出轨迹（所有的思考、动作、观察）。更多详情见附录 B.1</span></p><h3 id='33-results-and-observations'><span>3.3 RESULTS AND OBSERVATIONS</span></h3><h3 id='33-结果与观察'><span>3.3 结果与观察</span></h3><p><span>ReAct outperforms Act consistently Table 1 shows HotpotQA and Fever results using PaLM- 540B as the base model with different prompting methods. We note that ReAct is better than Act on both tasks, demonstrating the value of reasoning to guide acting, especially for synthesizing the final answer, as shown in Figure 1 (1c-d). Fine-tuning results 3 also confirm the benefit of reasoning traces for more informed acting.</span>
<span>ReAct 持续优于 Act 表 1 显示了使用 PaLM-540B 作为基础模型在不同提示方法下的 HotpotQA 和 Fever 结果。我们注意到 ReAct 在这两个任务上都优于 Act，证明了通过推理引导动作的价值，尤其是在综合最终答案方面，如图 1 (1c-d) 所示。微调结果 3 也证实了推理轨迹对更具信息量的动作大有裨益。</span></p><hr /><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 436.6 833.2" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-328-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-328-TEX-N-33"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>3</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{3}</script><span> Of all trajectories with correct final answers,those with 7 steps on HotpotQA and 5 steps on FEVER only take up 0.84% and 1.33% respectively.</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 436.6 833.2" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-328-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-328-TEX-N-33"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>3</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{3}</script><span> 在所有获得正确最终答案的轨迹中，HotpotQA 达到 7 步和 FEVER 达到 5 步的轨迹分别仅占 0.84% 和 1.33%。</span></p><hr /><p>&nbsp;</p><table><tr><td></td><td>Type</td><td>Definition</td><td>ReAct</td><td>CoT</td></tr><tr><td rowspan="2">Success</td><td>True positive</td><td>Correct reasoning trace and facts</td><td>94%</td><td>86%</td></tr><tr><td>False positive</td><td>Hallucinated reasoning trace or facts</td><td>6%</td><td>14%</td></tr><tr><td rowspan="4">Failure</td><td>Reasoning error</td><td>Wrong reasoning trace (including failing to recover from repetitive steps)</td><td>47%</td><td>16%</td></tr><tr><td>Search result error</td><td>Search return empty or does not contain useful information</td><td>23%</td><td>-</td></tr><tr><td>Hallucination</td><td>Hallucinated reasoning trace or facts</td><td>0%</td><td>56%</td></tr><tr><td>Label ambiguity</td><td>Right prediction but did not match the label precisely</td><td>29%</td><td>28%</td></tr></table>
<table><tbody><tr><td></td><td>类型</td><td>定义</td><td>ReAct</td><td>CoT</td></tr><tr><td rowspan="2">成功</td><td>真阳性</td><td>推理路径与事实均正确</td><td>94%</td><td>86%</td></tr><tr><td>假阳性</td><td>存在幻觉推理路径或事实</td><td>6%</td><td>14%</td></tr><tr><td rowspan="4">失败</td><td>推理错误</td><td>推理路径错误（包括未能从重复步骤中恢复）</td><td>47%</td><td>16%</td></tr><tr><td>搜索结果错误</td><td>搜索结果为空或不包含有用信息</td><td>23%</td><td>-</td></tr><tr><td>幻觉</td><td>存在幻觉推理路径或事实</td><td>0%</td><td>56%</td></tr><tr><td>标签歧义</td><td>预测正确但与标签不完全匹配</td><td>29%</td><td>28%</td></tr></tbody></table><p><span>Table 2: Types of success and failure modes of ReAct and CoT on HotpotQA, as well as their percentages in randomly selected examples studied by human.</span>
<span>表 2：ReAct 和 CoT 在 HotpotQA 上的成功与失败模式类型，以及人工研究随机样本中的占比。</span></p><p><span>ReAct vs. CoT On the other hand, ReAct outperforms CoT on Fever (60.9 vs. 56.3) and slightly lags behind CoT on HotpotQA (27.4 vs. 29.4). Fever claims for SUPPORTS/REFUTES might only differ by a slight amount (see Appendix D.1), so acting to retrieve accurate and up-to-date knowledge is vital. To better understand the behavioral difference between ReAct and CoT on HotpotQA, we randomly sampled 50 trajectories with correct and incorrect answers (judged by EM) from ReAct and CoT respectively (thus 200 examples in total), and manually labeled their success and failure modes in Table 2 Some key observations are as follows:</span>
<span>ReAct 与 CoT：另一方面，ReAct 在 Fever 上的表现优于 CoT（60.9 vs. 56.3），而在 HotpotQA 上略逊于 CoT（27.4 vs. 29.4）。Fever 中关于 支持/反驳 的声明可能仅有细微差别（见附录 D.1），因此通过行动获取准确且最新的知识至关重要。为了更好地理解 ReAct 和 CoT 在 HotpotQA 上的行为差异，我们分别从 ReAct 和 CoT 中随机抽取了 50 条包含正确和错误答案（由 EM 判定）的轨迹（总计 200 个样本），并在表 2 中手动标注了它们的成功与失败模式。一些关键观察如下：</span></p><p><span>A) Hallucination is a serious problem for CoT, resulting in much higher false positive rate than ReAct (14% vs. 6%) in success mode, and make up its major failure mode (56%). In contrast, the problem solving trajectory of ReAct is more grounded, fact-driven, and trustworthy, thanks to the access of an external knowledge base.</span>
<span>A) 幻觉是 CoT 的严重问题，导致其在成功模式下的假阳性率远高于 ReAct（14% vs. 6%），且构成了其主要的失败模式（56%）。相比之下，由于可以访问外部知识库，ReAct 的解题轨迹更加务实、由事实驱动且更值得信赖。</span></p><p><span>B) While interleaving reasoning, action and observation steps improves ReAct&#39;s groundedness and trustworthiness, such a structural constraint also reduces its flexibility in formulating reasoning steps,leading to more reasoning error rate than </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="5.404ex" height="1.643ex" role="img" focusable="false" viewBox="0 -705 2388.4 726" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.048ex;"><defs><path id="MJX-871-TEX-N-43" d="M56 342Q56 428 89 500T174 615T283 681T391 705Q394 705 400 705T408 704Q499 704 569 636L582 624L612 663Q639 700 643 704Q644 704 647 704T653 705H657Q660 705 666 699V419L660 413H626Q620 419 619 430Q610 512 571 572T476 651Q457 658 426 658Q322 658 252 588Q173 509 173 342Q173 221 211 151Q232 111 263 84T328 45T384 29T428 24Q517 24 571 93T626 244Q626 251 632 257H660L666 251V236Q661 133 590 56T403 -21Q262 -21 159 83T56 342Z"></path><path id="MJX-871-TEX-N-2218" d="M55 251Q55 328 112 386T249 444T386 388T444 249Q444 171 388 113T250 55Q170 55 113 112T55 251ZM245 403Q188 403 142 361T96 250Q96 183 141 140T250 96Q284 96 313 109T354 135T375 160Q403 197 403 250Q403 313 360 358T245 403Z"></path><path id="MJX-871-TEX-N-54" d="M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="43" xlink:href="#MJX-871-TEX-N-43"></use></g></g><g data-mml-node="mo" transform="translate(944.2,0)"><use data-c="2218" xlink:href="#MJX-871-TEX-N-2218"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1666.4,0)"><g data-mml-node="mi"><use data-c="54" xlink:href="#MJX-871-TEX-N-54"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">C</mi></mrow><mo>∘</mo><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">T</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\mathrm{C} \circ  \mathrm{T}</script><span> . we note that there is one frequent error pattern specific to ReAct, in which the model repetitively generates the previous thoughts and actions, and we categorize it as part of &quot;reasoning error&quot; as the model fails to reason about what the proper next action to take and jump out of the loop </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.904ex" role="img" focusable="false" viewBox="0 -841.7 436.6 841.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-421-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="34" xlink:href="#MJX-421-TEX-N-34"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>4</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{4}</script>
<span>B) 虽然交替进行推理、行动和观察步骤提高了 ReAct 的可靠性和可信度，但这种结构化限制也降低了其制定推理步骤的灵活性，导致推理错误率高于 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="5.404ex" height="1.643ex" role="img" focusable="false" viewBox="0 -705 2388.4 726" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.048ex;"><defs><path id="MJX-871-TEX-N-43" d="M56 342Q56 428 89 500T174 615T283 681T391 705Q394 705 400 705T408 704Q499 704 569 636L582 624L612 663Q639 700 643 704Q644 704 647 704T653 705H657Q660 705 666 699V419L660 413H626Q620 419 619 430Q610 512 571 572T476 651Q457 658 426 658Q322 658 252 588Q173 509 173 342Q173 221 211 151Q232 111 263 84T328 45T384 29T428 24Q517 24 571 93T626 244Q626 251 632 257H660L666 251V236Q661 133 590 56T403 -21Q262 -21 159 83T56 342Z"></path><path id="MJX-871-TEX-N-2218" d="M55 251Q55 328 112 386T249 444T386 388T444 249Q444 171 388 113T250 55Q170 55 113 112T55 251ZM245 403Q188 403 142 361T96 250Q96 183 141 140T250 96Q284 96 313 109T354 135T375 160Q403 197 403 250Q403 313 360 358T245 403Z"></path><path id="MJX-871-TEX-N-54" d="M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="43" xlink:href="#MJX-871-TEX-N-43"></use></g></g><g data-mml-node="mo" transform="translate(944.2,0)"><use data-c="2218" xlink:href="#MJX-871-TEX-N-2218"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1666.4,0)"><g data-mml-node="mi"><use data-c="54" xlink:href="#MJX-871-TEX-N-54"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">C</mi></mrow><mo>∘</mo><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">T</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">\mathrm{C} \circ  \mathrm{T}</script><span>。我们注意到 ReAct 特有一种频繁出现的错误模式，即模型重复生成之前的想法和行动，我们将其归类为“推理错误”，因为模型无法推理出下一步应采取的恰当行动并跳出循环 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.904ex" role="img" focusable="false" viewBox="0 -841.7 436.6 841.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-421-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="34" xlink:href="#MJX-421-TEX-N-34"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>4</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{4}</script><span>。</span></p><p><span>C) For ReAct, successfully retrieving informative knowledge via search is critical. Noninformative search, which counts for 23% of the error cases, derails the model reasoning and gives it a hard time to recover and reformulate thoughts. This is perhaps an expected trade-off between factuality and flexibility, which motivates our proposed strategies of combining two methods.</span>
<span>C) 对于 ReAct 而言，通过搜索成功检索到信息丰富的知识至关重要。无信息搜索占错误案例的 23%，它会干扰模型的推理，使其难以恢复和重构思路。这或许是事实性与灵活性之间预期的权衡，也激发了我们提出结合两种方法的策略。</span></p><p><span>We provide examples for each success and failure modes in Appendix E.1. We also find some HotpotQA questions may contain outdated answer labels, see Figure 4 for example.</span>
<span>我们在附录 E.1 中提供了每种成功和失败模式的示例。我们还发现某些 HotpotQA 问题可能包含过时的答案标签，示例见图 4。</span></p><p><span>ReAct + CoT-SC perform best for prompting LLMs Also shown in Table 1 the best prompting method on HotpotQA and Fever are ReAct </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-875-TEX-N-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2192" xlink:href="#MJX-875-TEX-N-2192"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\rightarrow</script><span> CoT-SC and CoT-SC </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-875-TEX-N-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2192" xlink:href="#MJX-875-TEX-N-2192"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\rightarrow</script><span> ReAct respectively. Furthermore, Figure 2 shows how different methods perform with respect to the number of CoT-SC samples used. While two ReAct + CoT-SC methods are advantageous at one task each, they both significantly and consistently outperform CoT-SC across different number of samples, reaching CoT-SC performance with 21 samples using merely 3-5 samples. These results indicate the value of properly combining model internal knowledge and external knowledge for reasoning tasks.</span>
<span>ReAct + CoT-SC 在提示 LLM 方面表现最佳：如表 1 所示，在 HotpotQA 和 Fever 上最佳的提示方法分别是 ReAct </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-875-TEX-N-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2192" xlink:href="#MJX-875-TEX-N-2192"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\rightarrow</script><span> CoT-SC 和 CoT-SC </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><defs><path id="MJX-875-TEX-N-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2192" xlink:href="#MJX-875-TEX-N-2192"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">\rightarrow</script><span> ReAct。此外，图 2 显示了不同方法在不同 CoT-SC 样本数量下的表现。虽然两种 ReAct + CoT-SC 方法各在项任务中占优，但它们在不同样本量下均显著且稳定地优于 CoT-SC，仅需 3-5 个样本即可达到 CoT-SC 使用 21 个样本时的性能。这些结果表明，在推理任务中妥善结合模型内部知识与外部知识具有重要价值。</span></p><p><span>ReAct performs best for fine-tuning Figure 3 shows the scaling effect of prompting/finetuning four methods (Standard, CoT, Act, ReAct) on HotpotQA. With PaLM-8/62B, prompting ReAct performs worst among four methods due to the difficulty to learn both reasoning and acting from in-context examples. However, when finetuned with just 3,000 examples, ReAct becomes the best method among the four, with PaLM-8B finetuned ReAct outperforming all PaLM-62B prompting methods, and PaLM-62B finetuned ReAct outperforming all 540B prompting methods. In contrast, finetuning Standard or CoT is significantly worse than finetuning ReAct or Act for both PaLM- 8/62B, as the former essentially teaches models to memorize (potentially halluincated) knowledge facts, and the latter teaches models how to (reason and) act to access information from Wikipedia, a more generalizable skill for knowledge reasoning. As all prompting methods are still significantly far from domain-specific state-of-the-art approaches (Table 1), we believe finetuning with more human-written data might be a better way to unleash the power of ReAct.</span>
<span>ReAct 在微调方面表现最佳：图 3 展示了在 HotpotQA 上对四种方法（Standard, CoT, Act, ReAct）进行提示/微调的扩展效应。对于 PaLM-8/62B，由于难以从上下文示例中同时学习推理和行动，提示 ReAct 在四种方法中表现最差。然而，仅通过 3,000 个示例进行微调后，ReAct 成为四种方法中效果最好的，微调后的 PaLM-8B ReAct 优于所有 PaLM-62B 提示方法，微调后的 PaLM-62B ReAct 优于所有 540B 提示方法。相比之下，对于 PaLM-8/62B，微调 Standard 或 CoT 的效果显著差于微调 ReAct 或 Act，因为前者本质上是教模型记忆（可能存在幻觉的）知识事实，而后者教模型如何通过（推理和）行动从维基百科获取信息，这是一种更通用的知识推理技能。由于所有提示方法仍与领域特定的先进方法（表 1）有显著差距，我们认为使用更多人工编写的数据进行微调可能是释放 ReAct 能力的更好途径。</span></p><hr /><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.904ex" role="img" focusable="false" viewBox="0 -841.7 436.6 841.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-421-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="34" xlink:href="#MJX-421-TEX-N-34"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>4</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{4}</script><span> We suspect that this could be due to the sub-optimal greedy decoding procedure,and future work using better decoding (e.g. beam search) might help address this issue.</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.904ex" role="img" focusable="false" viewBox="0 -841.7 436.6 841.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-421-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="34" xlink:href="#MJX-421-TEX-N-34"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>4</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{4}</script><span> 我们怀疑这可能是由于次优的贪婪解码过程造成的，未来工作使用更好的解码方式（如束搜索）可能有助于解决此问题。</span></p><hr /><p>&nbsp;</p><p><img src="https://raw.githubusercontent.com/Tsuki-Gor/Pic_Bed_Ob/main/Mixed/M2026/02/2026_02_18__00_16_23_41e189.jpg"/></p><p>&nbsp;</p><p><span>Figure 3: Scaling results for prompting and finetuning on HotPotQA with ReAct (ours) and baselines.</span>
<span>图 3：在 HotPotQA 上使用 ReAct（本研究方法）和基准方法进行提示和微调的扩展结果。</span></p><h2 id='4-decision-making-tasks'><span>4 DECISION MAKING TASKS</span></h2><h2 id='4-决策任务'><span>4 决策任务</span></h2><p><span>We also test ReAct on two language-based interactive decision-making tasks, ALFWorld and WebShop, both of which feature complex environments that require agents to act over long horizons with sparse rewards, warranting the need for reasoning to act and explore effectively.</span>
<span>我们还在 ALFWorld 和 WebShop 这两个基于语言的交互式决策任务上对 ReAct 进行了测试。这两个任务都具有复杂的环境，要求智能体在稀疏奖励下进行长期操作，因此需要通过推理来有效地行动和探索。</span></p><p><span>ALFWorld ALFWorld (Shridhar et al. 2020b) (Figure 1(2)) is a synthetic text-based game designed to align with the embodied ALFRED benchmark (Shridhar et al., 2020a). It includes 6 types of tasks in which an agent needs to achieve a high-level goal (e.g. examine paper under desklamp) by navigating and interacting with a simulated household via text actions (e.g. go to coffeetable 1, take paper 2, use desklamp 1). A task instance can have more than 50 locations and take an expert policy more than 50 steps to solve, thus challenging an agent to plan and track subgoals, as well as explore systematically (e.g. check all desks one by one for desklamp). In particular, one challenge built into ALFWorld is the need to determine likely locations for common household items (e.g. desklamps will likely be on desks, shelfs, or dressers), making this environment a good fit for LLMs to exploit their pretrained commonsense knowledge. To prompt ReAct, we randomly annotate three trajectories from the training set for each task type, where each trajectory includes sparse thoughts that (1) decompose the goal, (2) track subgoal completion, (3) determine the next subgoal, and (4) reason via commonsense where to find an object and what to do with it. We show prompts used for ALFWorld in Appendix C.4 Following Shridhar et al. (2020b), we evaluate on 134 unseen evaluation games in a task-specific setup. For robustness, we construct 6 prompts for each task type through each permutation of 2 annotated trajectories from the 3 we annotate. Act prompts are constructed using the same trajectories, but without thoughts - since task instances are randomly chosen from the training set, it favors neither ReAct nor Act and provides a fair and controlled comparison to test the importance of sparse thoughts. For baselines, we use BUTLER (Shridhar et al., 2020b), an imitation learning agent trained on </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.25ex" height="2.005ex" role="img" focusable="false" viewBox="0 -864 1436.6 886" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-877-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-877-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-877-TEX-N-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-877-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-877-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="35" xlink:href="#MJX-877-TEX-N-35"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mrow data-mjx-texclass="ORD"><mn>5</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{10}^{5}</script><span> expert trajectories for each task type</span>
<span>ALFWorld ALFWorld (Shridhar et al. 2020b) (图 1(2)) 是一款合成的文本游戏，旨在与具身智能基准 ALFRED (Shridhar et al., 2020a) 保持一致。它包含 6 类任务，智能体需要通过文本动作（如：go to coffeetable 1, take paper 2, use desklamp 1）在模拟家庭环境中导航并交互，以实现高层目标（如：在台灯下检查纸张）。一个任务实例可能包含超过 50 个地点，且专家策略需执行 50 步以上才能解决，这对智能体规划和追踪子目标以及系统性探索（如：逐一检查所有桌子以寻找台灯）提出了挑战。特别是 ALFWorld 内置的一项挑战是需要确定常见家庭用品的可能位置（如：台灯通常在桌子、架子或梳妆台上），这使得该环境非常适合大语言模型（LLM）利用其预训练的常识知识。为了提示 ReAct，我们为每种任务类型从训练集中随机标注了三个轨迹，每个轨迹包含稀疏的思考，用于：(1) 分解目标，(2) 追踪子目标完成情况，(3) 确定下一个子目标，以及 (4) 通过常识推理在哪里寻找物体以及如何处理。我们在附录 C.4 中展示了用于 ALFWorld 的提示词。遵循 Shridhar et al. (2020b) 的方法，我们在特定任务设置下的 134 个未见过的评估游戏上进行评估。为了保证鲁棒性，我们通过对 3 条标注轨迹中的每 2 条进行排列组合，为每种任务类型构建了 6 个提示词。Act 提示词使用相同的轨迹构建，但不包含思考——由于任务实例是从训练集中随机选择的，它既不偏向 ReAct 也不偏向 Act，为测试稀疏思考的重要性提供了公平且受控的比较。对于基准模型，我们使用了 BUTLER (Shridhar et al., 2020b)，这是一种针对每种任务类型在 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.25ex" height="2.005ex" role="img" focusable="false" viewBox="0 -864 1436.6 886" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-877-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-877-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-877-TEX-N-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-877-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-877-TEX-N-30" transform="translate(500,0)"></use></g></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="35" xlink:href="#MJX-877-TEX-N-35"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"><mn>10</mn></mrow><mrow data-mjx-texclass="ORD"><mn>5</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{10}^{5}</script><span> 条专家轨迹上训练的模仿学习智能体。</span></p><p><span>WebShop Can ReAct also interact with noisy real-world language environments for practical applications? We investigate WebShop (Yao et al., 2022), a recently proposed online shopping website environment with </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.097ex" height="1.595ex" role="img" focusable="false" viewBox="0 -683 2695 705" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-880-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-880-TEX-N-2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path><path id="MJX-880-TEX-N-38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z"></path><path id="MJX-880-TEX-N-4D" d="M132 622Q125 629 121 631T105 634T62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124L562 398Q666 674 668 675Q671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3Q605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546T688 613L687 632Q454 14 450 7Q446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463T175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3Q52 3 37 0H29V46H46Q78 48 98 56T122 69T132 86V622Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-880-TEX-N-31"></use><use data-c="2E" xlink:href="#MJX-880-TEX-N-2E" transform="translate(500,0)"></use><use data-c="31" xlink:href="#MJX-880-TEX-N-31" transform="translate(778,0)"></use><use data-c="38" xlink:href="#MJX-880-TEX-N-38" transform="translate(1278,0)"></use></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1778,0)"><g data-mml-node="mi"><use data-c="4D" xlink:href="#MJX-880-TEX-N-4D"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>1.18</mn></mrow><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">M</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{1.18}\mathrm{M}</script><span> real-world products and </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.457ex" height="1.57ex" role="img" focusable="false" viewBox="0 -694 1528 694" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-881-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-881-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-881-TEX-N-6B" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-881-TEX-N-31"></use><use data-c="32" xlink:href="#MJX-881-TEX-N-32" transform="translate(500,0)"></use></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1000,0)"><g data-mml-node="mi"><use data-c="6B" xlink:href="#MJX-881-TEX-N-6B"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>12</mn></mrow><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">k</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{12}\mathrm{k}</script><span> human instructions. Unlike ALFWorld, Webshop contains a high variety of structured and unstructured texts (e.g. product titles, descriptions, and options crawled from Amazon), and requires an agent to purchase a product based on a user instruction (e.g. &quot;I am looking for a nightstand with drawers. It should have a nickel finish, and priced lower than </span><span>$</span><span>140&quot;) through web interactions (e.g. search &quot;nightstand drawers&quot;, choose buttons such as &quot;color: modern-nickel-white&quot; or &quot;back to search&quot;). This task is evaluated by average score (percentage of desired attributes covered by the chosen product averaged across all episodes) and success rate (percentage of episodes where the chosen product satisfies all requirements) on 500 test instructions. We formulate Act prompts with actions to search, choose product, choose options, and buy, with ReAct prompts additionally reasoning to determine what to explore, when to buy, and what products options are relevant to the instruction. See Table 6 for an example prompt, and Table 10 for model predictions in the Appendix. We compare to an imitation learning (IL) method</span>
<span>WebShop ReAct 是否也能与真实的嘈杂语言环境交互以进行实际应用？我们调查了 WebShop (Yao et al., 2022)，这是一个最近提出的在线购物网站环境，包含 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.097ex" height="1.595ex" role="img" focusable="false" viewBox="0 -683 2695 705" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-880-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-880-TEX-N-2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path><path id="MJX-880-TEX-N-38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z"></path><path id="MJX-880-TEX-N-4D" d="M132 622Q125 629 121 631T105 634T62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124L562 398Q666 674 668 675Q671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3Q605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546T688 613L687 632Q454 14 450 7Q446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463T175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3Q52 3 37 0H29V46H46Q78 48 98 56T122 69T132 86V622Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-880-TEX-N-31"></use><use data-c="2E" xlink:href="#MJX-880-TEX-N-2E" transform="translate(500,0)"></use><use data-c="31" xlink:href="#MJX-880-TEX-N-31" transform="translate(778,0)"></use><use data-c="38" xlink:href="#MJX-880-TEX-N-38" transform="translate(1278,0)"></use></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1778,0)"><g data-mml-node="mi"><use data-c="4D" xlink:href="#MJX-880-TEX-N-4D"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>1.18</mn></mrow><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">M</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{1.18}\mathrm{M}</script><span> 个真实世界产品和 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.457ex" height="1.57ex" role="img" focusable="false" viewBox="0 -694 1528 694" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-881-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-881-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-881-TEX-N-6B" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-881-TEX-N-31"></use><use data-c="32" xlink:href="#MJX-881-TEX-N-32" transform="translate(500,0)"></use></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1000,0)"><g data-mml-node="mi"><use data-c="6B" xlink:href="#MJX-881-TEX-N-6B"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mn>12</mn></mrow><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">k</mi></mrow></math></mjx-assistive-mml></mjx-container><script type="math/tex">{12}\mathrm{k}</script><span> 条人类指令。与 ALFWorld 不同，Webshop 包含大量多样的结构化和非结构化文本（如从亚马逊爬取的产品标题、描述和选项），并要求智能体根据用户指令（如：“我正在寻找一个带抽屉的床头柜。它应该是镍色饰面，价格低于 140 美元”），通过网络交互（如：搜索 “nightstand drawers”，选择 “color: modern-nickel-white” 或 “back to search” 等按钮）购买产品。该任务通过 500 条测试指令的平均得分（所选产品包含的目标属性百分比在所有回合中的平均值）和成功率（所选产品满足所有要求的次数占比）进行评估。我们构建了包含搜索、选择产品、选择选项和购买等动作的 Act 提示词，而 ReAct 提示词则额外增加了推理，以确定探索内容、购买时机以及哪些产品选项与指令相关。示例提示词见表 6，模型预测结果见附录表 10。我们将其与模仿学习 (IL) 方法进行了比较。</span></p><hr /><p>&nbsp;</p><p><span>Micheli &amp; Fleuret (2021) finetuned a GPT-2 model on 3553 task instances and achieved a much improved performance than BUTLER, but it is trained on all task types, thus not included as a baseline.</span>
<span>Micheli </span>&amp;<span> Fleuret (2021) 在 3553 个任务实例上微调了 GPT-2 模型，并取得了比 BUTLER 更好的性能，但由于它是在所有任务类型上训练的，因此未被列为基准模型。</span></p><hr /><p>&nbsp;</p><table><tr><td>Method</td><td>Pick</td><td>Clean</td><td>Heat</td><td>Cool</td><td>Look</td><td>Pick 2</td><td>All</td></tr><tr><td>Act (best of 6)</td><td>88</td><td>42</td><td>74</td><td>67</td><td>72</td><td>41</td><td>45</td></tr><tr><td>ReAct (avg)</td><td>65</td><td>39</td><td>83</td><td>76</td><td>55</td><td>24</td><td>57</td></tr><tr><td>ReAct (best of 6)</td><td>92</td><td>58</td><td>96</td><td>86</td><td>78</td><td>41</td><td>71</td></tr><tr><td>ReAct-IM (avg)</td><td>55</td><td>59</td><td>60</td><td>55</td><td>23</td><td>24</td><td>48</td></tr><tr><td>ReAct-IM (best of 6)</td><td>62</td><td>68</td><td>87</td><td>57</td><td>39</td><td>33</td><td>53</td></tr><tr><td>${\text{ BUTLER }}_{q}$ (best of 8)</td><td>33</td><td>26</td><td>70</td><td>76</td><td>17</td><td>12</td><td>22</td></tr><tr><td>BUTLER (best of 8)</td><td>46</td><td>39</td><td>74</td><td>100</td><td>22</td><td>24</td><td>37</td></tr></table>
<table><tbody><tr><td>方法</td><td>挑选</td><td>清洗</td><td>加热</td><td>冷却</td><td>观察</td><td>挑选 2</td><td>全部</td></tr><tr><td>Act (6次取最佳)</td><td>88</td><td>42</td><td>74</td><td>67</td><td>72</td><td>41</td><td>45</td></tr><tr><td>ReAct (平均)</td><td>65</td><td>39</td><td>83</td><td>76</td><td>55</td><td>24</td><td>57</td></tr><tr><td>ReAct (6次取最佳)</td><td>92</td><td>58</td><td>96</td><td>86</td><td>78</td><td>41</td><td>71</td></tr><tr><td>ReAct-IM (平均)</td><td>55</td><td>59</td><td>60</td><td>55</td><td>23</td><td>24</td><td>48</td></tr><tr><td>ReAct-IM (6次取最佳)</td><td>62</td><td>68</td><td>87</td><td>57</td><td>39</td><td>33</td><td>53</td></tr><tr><td>${\text{ BUTLER }}_{q}$ (8次取最佳)</td><td>33</td><td>26</td><td>70</td><td>76</td><td>17</td><td>12</td><td>22</td></tr><tr><td>BUTLER (8次取最佳)</td><td>46</td><td>39</td><td>74</td><td>100</td><td>22</td><td>24</td><td>37</td></tr></tbody></table><table><tr><td>Method</td><td>Score</td><td>SR</td></tr><tr><td>Act</td><td>62.3</td><td>30.1</td></tr><tr><td>ReAct</td><td>66.6</td><td>40.0</td></tr><tr><td>IL</td><td>59.9</td><td>29.1</td></tr><tr><td>IL+RL</td><td>62.4</td><td>28.7</td></tr><tr><td>Human Expert</td><td>82.1</td><td>59.6</td></tr></table>
<table><tbody><tr><td>方法</td><td>评分</td><td>SR</td></tr><tr><td>Act</td><td>62.3</td><td>30.1</td></tr><tr><td>ReAct</td><td>66.6</td><td>40.0</td></tr><tr><td>IL</td><td>59.9</td><td>29.1</td></tr><tr><td>IL+RL</td><td>62.4</td><td>28.7</td></tr><tr><td>人类专家</td><td>82.1</td><td>59.6</td></tr></tbody></table><p><span>Table 3: AlfWorld task-specific success rates (%). BUTLER and </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="11.607ex" height="2.195ex" role="img" focusable="false" viewBox="0 -683 5130.3 970.2" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.65ex;"><defs><path id="MJX-883-TEX-N-A0" d=""></path><path id="MJX-883-TEX-N-42" d="M131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188Z"></path><path id="MJX-883-TEX-N-55" d="M128 622Q121 629 117 631T101 634T58 637H25V683H36Q57 680 180 680Q315 680 324 683H335V637H302Q262 636 251 634T233 622L232 418V291Q232 189 240 145T280 67Q325 24 389 24Q454 24 506 64T571 183Q575 206 575 410V598Q569 608 565 613T541 627T489 637H472V683H481Q496 680 598 680T715 683H724V637H707Q634 633 622 598L621 399Q620 194 617 180Q617 179 615 171Q595 83 531 31T389 -22Q304 -22 226 33T130 192Q129 201 128 412V622Z"></path><path id="MJX-883-TEX-N-54" d="M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z"></path><path id="MJX-883-TEX-N-4C" d="M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z"></path><path id="MJX-883-TEX-N-45" d="M128 619Q121 626 117 628T101 631T58 634H25V680H597V676Q599 670 611 560T625 444V440H585V444Q584 447 582 465Q578 500 570 526T553 571T528 601T498 619T457 629T411 633T353 634Q266 634 251 633T233 622Q233 622 233 621Q232 619 232 497V376H286Q359 378 377 385Q413 401 416 469Q416 471 416 473V493H456V213H416V233Q415 268 408 288T383 317T349 328T297 330Q290 330 286 330H232V196V114Q232 57 237 52Q243 47 289 47H340H391Q428 47 452 50T505 62T552 92T584 146Q594 172 599 200T607 247T612 270V273H652V270Q651 267 632 137T610 3V0H25V46H58Q100 47 109 49T128 61V619Z"></path><path id="MJX-883-TEX-N-52" d="M130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"></path><path id="MJX-883-TEX-I-1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mtext"><use data-c="A0" xlink:href="#MJX-883-TEX-N-A0"></use><use data-c="42" xlink:href="#MJX-883-TEX-N-42" transform="translate(250,0)"></use><use data-c="55" xlink:href="#MJX-883-TEX-N-55" transform="translate(958,0)"></use><use data-c="54" xlink:href="#MJX-883-TEX-N-54" transform="translate(1708,0)"></use><use data-c="4C" xlink:href="#MJX-883-TEX-N-4C" transform="translate(2430,0)"></use><use data-c="45" xlink:href="#MJX-883-TEX-N-45" transform="translate(3055,0)"></use><use data-c="52" xlink:href="#MJX-883-TEX-N-52" transform="translate(3736,0)"></use><use data-c="A0" xlink:href="#MJX-883-TEX-N-A0" transform="translate(4472,0)"></use></g></g><g data-mml-node="TeXAtom" transform="translate(4755,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45E" xlink:href="#MJX-883-TEX-I-1D45E"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mtext>&nbsp;BUTLER&nbsp;</mtext></mrow><mrow data-mjx-texclass="ORD"><mi>q</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">{\text{ BUTLER }}_{q}</script><span> results are from Table 4 of Shridhar et al. (2020b). All methods use greedy decoding, except that BUTLER uses beam search.</span>
<span>表 3：AlfWorld 特定任务成功率 (%)。BUTLER 与 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="11.607ex" height="2.195ex" role="img" focusable="false" viewBox="0 -683 5130.3 970.2" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.65ex;"><defs><path id="MJX-883-TEX-N-A0" d=""></path><path id="MJX-883-TEX-N-42" d="M131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188Z"></path><path id="MJX-883-TEX-N-55" d="M128 622Q121 629 117 631T101 634T58 637H25V683H36Q57 680 180 680Q315 680 324 683H335V637H302Q262 636 251 634T233 622L232 418V291Q232 189 240 145T280 67Q325 24 389 24Q454 24 506 64T571 183Q575 206 575 410V598Q569 608 565 613T541 627T489 637H472V683H481Q496 680 598 680T715 683H724V637H707Q634 633 622 598L621 399Q620 194 617 180Q617 179 615 171Q595 83 531 31T389 -22Q304 -22 226 33T130 192Q129 201 128 412V622Z"></path><path id="MJX-883-TEX-N-54" d="M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z"></path><path id="MJX-883-TEX-N-4C" d="M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z"></path><path id="MJX-883-TEX-N-45" d="M128 619Q121 626 117 628T101 631T58 634H25V680H597V676Q599 670 611 560T625 444V440H585V444Q584 447 582 465Q578 500 570 526T553 571T528 601T498 619T457 629T411 633T353 634Q266 634 251 633T233 622Q233 622 233 621Q232 619 232 497V376H286Q359 378 377 385Q413 401 416 469Q416 471 416 473V493H456V213H416V233Q415 268 408 288T383 317T349 328T297 330Q290 330 286 330H232V196V114Q232 57 237 52Q243 47 289 47H340H391Q428 47 452 50T505 62T552 92T584 146Q594 172 599 200T607 247T612 270V273H652V270Q651 267 632 137T610 3V0H25V46H58Q100 47 109 49T128 61V619Z"></path><path id="MJX-883-TEX-N-52" d="M130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"></path><path id="MJX-883-TEX-I-1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mtext"><use data-c="A0" xlink:href="#MJX-883-TEX-N-A0"></use><use data-c="42" xlink:href="#MJX-883-TEX-N-42" transform="translate(250,0)"></use><use data-c="55" xlink:href="#MJX-883-TEX-N-55" transform="translate(958,0)"></use><use data-c="54" xlink:href="#MJX-883-TEX-N-54" transform="translate(1708,0)"></use><use data-c="4C" xlink:href="#MJX-883-TEX-N-4C" transform="translate(2430,0)"></use><use data-c="45" xlink:href="#MJX-883-TEX-N-45" transform="translate(3055,0)"></use><use data-c="52" xlink:href="#MJX-883-TEX-N-52" transform="translate(3736,0)"></use><use data-c="A0" xlink:href="#MJX-883-TEX-N-A0" transform="translate(4472,0)"></use></g></g><g data-mml-node="TeXAtom" transform="translate(4755,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45E" xlink:href="#MJX-883-TEX-I-1D45E"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mtext>&nbsp;BUTLER&nbsp;</mtext></mrow><mrow data-mjx-texclass="ORD"><mi>q</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">{\text{ BUTLER }}_{q}</script><span> 的结果来自 Shridhar 等人 (2020b) 的表 4。除 BUTLER 使用束搜索外，所有方法均使用贪婪解码。</span></p><p><span>Table 4: Score and success rate (SR) on Web-shop. IL/IL+RL taken from Yao et al. (2022). trained with 1,012 human annotated trajectories, and a imitation + reinforcement learning (IL + RL) method additionally trained with 10,587 training instructions.</span>
<span>表 4：Web-shop 上的得分与成功率 (SR)。IL/IL+RL 取自 Yao 等人 (2022)，前者使用 1,012 条人类标注轨迹训练，模仿+强化学习 (IL+RL) 方法额外使用了 10,587 条训练指令进行训练。</span></p><p><span>Results ReAct outperforms Act on both ALFWorld (Table 3) and Webshop (Table 4). On ALFWorld, the best ReAct trial achieves an average success rate of 71%, significantly outperforming the best Act (45%) and BUTLER (37%) trials. In fact, even the worse ReAct trial (48%) beats the best trial of both methods. Moreover, the advantage of ReAct over Act is consistent across six controlled trials, with relative performance gain ranging from 33% to 90% and averaging 62%. Qualitatively, we saw that, without any thoughts at all, Act fails to correctly decompose goals into smaller subgoals, or loses track of the current state of the environment. Example trajectories comparing ReAct and Act can be found in Appendix D.2.1 and Appendix D.2.2</span>
<span>结果：ReAct 在 ALFWorld（表 3）和 Webshop（表 4）上均优于 Act。在 ALFWorld 上，ReAct 的最佳试验达到 71% 的平均成功率，显著优于 Act (45%) 和 BUTLER (37%) 的最佳试验。事实上，即使是较差的 ReAct 试验 (48%) 也优于这两种方法的最佳试验。此外，ReAct 相对于 Act 的优势在六次对照试验中保持一致，相对性能提升在 33% 到 90% 之间，平均为 62%。定性来看，我们发现 Act 在没有任何思考的情况下，无法正确将目标分解为较小的子目标，或者会丢失对环境当前状态的追踪。比较 ReAct 和 Act 的示例轨迹可见附录 D.2.1 和 D.2.2。</span></p><p><span>On Webshop, one-shot Act prompting already performs on par with IL and IL+RL methods. With additional sparse reasoning, ReAct achieves significantly better performance, with an absolute 10% improvement over the previous best success rate. By checking examples, we find that ReAct is more likely to identify instruction-relevant products and options by reasoning to bridge the gap between noisy observations and actions (e.g. &quot;For &#39;space-saving ottoman bench for living room&#39;, the item has options &#39;39x18x18inch&#39; and &#39;blue&#39; and seems good to buy.&quot;). However, existing methods are still far from the performance of expert humans (Table 4), who perform significantly more product explorations and query re-formulations that are still challenging for prompting-based methods.</span>
<span>在 Webshop 上，单样本 Act 提示的表现已与 IL 和 IL+RL 方法相当。通过额外的稀疏推理，ReAct 取得了显著更优的性能，成功率较此前最佳水平绝对提升了 10%。通过检查案例，我们发现 ReAct 更有可能通过推理来桥接噪声观测与动作之间的差距，从而识别出与指令相关的产品和选项（例如，“对于‘客厅节省空间的奥斯曼长凳’，该商品有‘39x18x18英寸’和‘蓝色’选项，看起来值得购买”）。然而，现有方法距离专家级人类的表现（表 4）仍有差距，人类进行了更多的产品探索和查询重构，这对于基于提示的方法仍然具有挑战性。</span></p><p><span>On the value of internal reasoning vs. external feedback To our knowledge, ReAct is the first demonstration of combined reasoning and action using an LLM applied to an interactive environment within a closed-loop system. Perhaps the closest prior work is Inner Monologue (IM), from Huang et al. (2022b), in which actions from an embodied agent are motivated by an eponymous &quot;inner monologue&quot;. However, IM&#39;s &quot;inner monologue&quot; is limited to observations of the environment state and what needs to be completed by the agent for the goal to be satisfied. In contrast, the reasoning traces in ReAct for decision making is flexible and sparse, allowing diverse reasoning types (see Section 2) to be induced for different tasks.</span>
<span>关于内部推理与外部反馈的价值：据我们所知，ReAct 是首次在闭环系统内将结合推理与动作的 LLM 应用于交互式环境的演示。或许最接近的前期工作是 Huang 等人 (2022b) 的内省 (Inner Monologue, IM)，其中具身智能体的动作由同名的“内省”驱动。然而，IM 的“内省”仅限于对环境状态的观察以及智能体为实现目标所需完成的内容。相比之下，ReAct 中用于决策的推理轨迹是灵活且稀疏的，允许针对不同任务诱导多样化的推理类型（见第 2 节）。</span></p><p><span>To demonstrate the differences between ReAct and IM, and to highlight the importance of internal reasoning vs. simple reactions to external feedback, we ran an ablation experiment using a thought pattern composed of IM-like dense external feedback. As can be seen in Table 3, ReAct substantially outperforms IM-style prompting (ReAct-IM) (71 vs. 53 overall success rate), with consistent advantages on five out of six tasks. Qualitatively, we observed that ReAct-IM often made mistakes in identifying when subgoals were finished, or what the next subgoal should be, due to a lack of high-level goal decomposition. Additionally, many ReAct-IM trajectories struggled to determine where an item would likely be within the ALFWorld environment, due to a lack of commonsense reasoning. Both shortcomings can be addressed in the ReAct paradigm. More details about ReAct-IM is in Appendix B.2 An example prompt for ReAct-IM can be found in Appendix C.4, and an example trajectory in Appendix D.2.3</span>
<span>为了展示 ReAct 与 IM 的区别，并强调内部推理相对于简单外部反馈反应的重要性，我们使用由类 IM 密集外部反馈组成的思考模式进行了消融实验。如表 3 所示，ReAct 显著优于 IM 风格提示 (ReAct-IM)（总成功率 71 对 53），且在六项任务中的五项具有一致优势。定性来看，我们观察到 ReAct-IM 经常在识别子目标何时完成或下一个子目标应是什么时犯错，这是由于缺乏高层目标分解。此外，许多 ReAct-IM 轨迹由于缺乏常识推理，难以确定物品在 ALFWorld 环境中可能出现的位置。这两个缺点都可以在 ReAct 范式中得到解决。关于 ReAct-IM 的更多细节见附录 B.2，ReAct-IM 的示例提示见附录 C.4，示例轨迹见附录 D.2.3。</span></p><h2 id='5-related-work'><span>5 RELATED WORK</span></h2><h2 id='5-相关工作'><span>5 相关工作</span></h2><p><span>Language model for reasoning Perhaps the most well-known work of using LLMs for reasoning is Chain-of-Thought (CoT) (Wei et al. 2022), which reveals the ability of LLMs to formulate their own &quot;thinking procedure&quot; for problem solving. Several follow-up works have since been performed, including least-to-most prompting for solving complicated tasks (Zhou et al., 2022), zero-shot-CoT (Kojima et al. 2022), and reasoning with self-consistency (Wang et al. 2022a). Recently, (Madaan &amp; Yazdanbakhsh 2022) systematically studied the formulation and structure of CoT, and observed that the presence of symbols, patterns and texts is crucial to the effectiveness of CoT. Other work has also been extended to more sophisticated reasoning architecture beyond simple prompting. For example Selection-Inference (Creswell et al. 2022) divides the reasoning process into two steps of &quot;selection&quot; and &quot;inference&quot;. STaR (Zelikman et al. 2022) bootstraps the reasoning process by finetuning the model on correct rationales generated by the model itself. Faithful reasoning (Creswell &amp; Shanahan, 2022) decomposes multi-step reasoning into three steps, each performed by a dedicated LM respectively. Similar approaches like Scratchpad (Nye et al. 2021), which finetunes a LM on intermediate computation steps, also demonstrate improvement on multi-step computation problems. In contrast to these methods, ReAct performs more than just isolated, fixed reasoning, and integrates model actions and their corresponding observations into a coherent stream of inputs for the model to reason more accurately and tackle tasks beyond reasoning (e.g. interactive decision making).</span>
<span>用于推理的语言模型 使用LLM进行推理最著名的工作或许是思维链（CoT）（Wei et al. 2022），它揭示了LLM为解决问题制定自身“思考过程”的能力。此后开展了多项后续工作，包括用于解决复杂任务的由易到难提示（Zhou et al., 2022）、零样本CoT（Kojima et al. 2022）以及基于自一致性的推理（Wang et al. 2022a）。最近，(Madaan &amp; Yazdanbakhsh 2022)系统地研究了CoT的表述与结构，并观察到符号、模式和文本的存在对CoT的有效性至关重要。其他工作也已扩展到简单提示之外更复杂的推理架构。例如，“选择-推理”（Creswell et al. 2022）将推理过程分为“选择”和“推理”两个步骤。STaR（Zelikman et al. 2022）通过在模型自身生成的正确理由上进行微调来引导推理过程。忠实推理（Creswell &amp; Shanahan, 2022）将多步推理分解为三个步骤，每步分别由专门的LM执行。类似的方法如Scratchpad（Nye et al. 2021），通过在中间计算步骤上微调LM，也展示了在多步计算问题上的提升。与这些方法相比，ReAct不仅执行孤立、固定的推理，还将模型动作及其相应的观察结果整合到连贯的输入流中，使模型能够更准确地推理并处理推理之外的任务（例如交互式决策）。</span></p><p><span>Language model for decision making The strong capability of LLMs has enabled them to perform tasks beyond language generation, and it is becoming more popular to take advantage of LLMs as a policy model for decision making, especially in interactive environments. WebGPT (Nakano et al. 2021) uses an LM to interact with web browsers, navigate through web pages, and infer answers to complicated questions from ELI5 (Fan et al. 2019). In comparison to ReAct, WebGPT does not explicitly model the thinking and reasoning procedure, instead rely on expensive human feedback for reinforcement learning. In conversation modeling, chatbots like BlenderBot (Shuster et al., 2022b) and Sparrow (Glaese et al., 2022) and task-oriented dialogue systems like SimpleTOD (Hosseini-Asl et al. 2020) also train LMs to make decision about API calls. Unlike ReAct, they do not explicitly consider the reasoning procedure either, and also relies on expensive datasets and human feedback collections for policy learning. In contrast, ReAct learns a policy in a much cheaper way, since the decision making process only requires language description of the reasoning procedure </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-505-TEX-N-36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="36" xlink:href="#MJX-505-TEX-N-36"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>6</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{6}</script>
<span>用于决策的语言模型 LLM的强大能力使其能够执行语言生成之外的任务，利用LLM作为决策策略模型（尤其是在交互式环境中）正变得越来越流行。WebGPT（Nakano et al. 2021）使用LM与网络浏览器交互、浏览网页，并根据ELI5（Fan et al. 2019）推断复杂问题的答案。与ReAct相比，WebGPT没有显式地建模思考和推理过程，而是依赖昂贵的人类反馈进行强化学习。在对话建模中，像BlenderBot（Shuster et al., 2022b）和Sparrow（Glaese et al., 2022）这样的聊天机器人，以及像SimpleTOD（Hosseini-Asl et al. 2020）这样的任务导向型对话系统，也训练LM来做出API调用决策。与ReAct不同，它们同样没有显式考虑推理过程，并且依赖昂贵的数据集和人类反馈收集来进行策略学习。相比之下，ReAct学习策略的方式要廉价得多，因为决策过程仅需要推理过程的语言描述 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-505-TEX-N-36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="36" xlink:href="#MJX-505-TEX-N-36"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>6</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{6}</script></p><p><span>LLMS have also been increasingly employed in interactive and embodied environments for planning and decision making. Perhaps most relevant to ReAct in this respect are SayCan (Ahn et al. 2022) and Inner Monologue (Huang et al. 2022b), which use LLMs for robotic action planning and decision making. In SayCan, LLMs were prompted to directly predict possible actions a robot can take, which is then reranked by an affordance model grounded on the visual environments for final prediction. Inner Monologue made further improvements by adding the eponymous &quot;inner monologue&quot;, which is implemented as injected feedback from the environment. To our knowledge, Inner Monologue is the first work that demonstrates such a closed-loop system, which ReAct builds on. However, we argue that Inner Monologue does not truly comprise of inner thoughts - this is elaborated in Section 4 . We also note that leveraging language as semantically-rich inputs in the process of interactive decision making has been shown to be successful under other settings (Abramson et al., 2020, Karamcheti et al., 2021; Huang et al., 2022a) Li et al., 2022). It is becoming more evident that with the help of LLMs, language as a fundamental cognitive mechanism will play a critical role in interaction and decision making. What is more, progress in LLMs has also inspired the development of versatile and generalist agents like Reed et al. (2022).</span>
<span>LLM也越来越多地被应用于交互式和具身环境中的规划与决策。在这方面，与ReAct最相关的或许是SayCan（Ahn et al. 2022）和Inner Monologue（Huang et al. 2022b），它们将LLM用于机器人动作规划和决策。在SayCan中，LLM被提示直接预测机器人可以采取的可能动作，然后由基于视觉环境的可供性模型进行重排序以完成最终预测。Inner Monologue通过增加同名的“内心独白”（实现为从环境注入的反馈）做了进一步改进。据我们所知，Inner Monologue是第一个展示这种闭环系统的工作，ReAct以此为基础。然而，我们认为Inner Monologue并不真正包含内心想法——这将在第4节详述。我们还注意到，在交互式决策过程中利用语言作为语义丰富的输入，在其他设置下已被证明是成功的（Abramson et al., 2020, Karamcheti et al., 2021; Huang et al., 2022a) Li et al., 2022）。越来越明显的是，在LLM的帮助下，语言作为一种基础的认知机制，将在交互和决策中发挥关键作用。此外，LLM的进步也启发了像Reed et al. (2022) 这样多功能和通用型智能体的开发。</span></p><h2 id='6-conclusion'><span>6 CONCLUSION</span></h2><h2 id='6-结论'><span>6 结论</span></h2><p><span>We have proposed ReAct - a simple yet effective method for synergizing reasoning and acting in large language models. Through a diverse set of experiments on multi-hop question-answering, fact checking, and interactive decision-making tasks, we show that ReAct leads to superior performance with interpretable decision traces. Despite the simplicity of our method, complex tasks with large action spaces require more demonstrations to learn well, which unfortunately can easily go beyond the input length limit of in-context learning. We explore the fine-tuning approach on HotpotQA with initial promising results, but learning from more high-quality human annotations will be the desiderata to further improve the performance. Scaling up ReAct with multi-task training and combining it with complementary paradigms like reinforcement learning could result in stronger agents that further unlock the potential of LLMs for more applications.</span>
<span>我们提出了 ReAct——一种在大型语言模型中协同推理与行动的简便且有效的方法。通过在多跳问答、事实核查及交互式决策任务上的一系列实验，我们证明了 ReAct 能够以可解释的决策轨迹实现卓越的性能。尽管我们的方法很简单，但具有大动作空间的复杂任务需要更多演示才能良好学习，这遗憾地容易超出上下文学习的输入长度限制。我们在 HotpotQA 上探索了微调方法，初步结果令人鼓舞，但从更多高质量的人类标注中学习将是进一步提升性能的必要条件。通过多任务训练扩大 ReAct 的规模，并将其与强化学习等互补范式相结合，可能会产生更强大的智能体，从而进一步释放 LLM 在更多应用中的潜力。</span></p><hr /><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-505-TEX-N-36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="36" xlink:href="#MJX-505-TEX-N-36"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>6</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{6}</script><span> Human feedback can also be incorporated in a complementary manner but we leave it for future work.</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-505-TEX-N-36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"></g><g data-mml-node="TeXAtom" transform="translate(33,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="36" xlink:href="#MJX-505-TEX-N-36"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"></mrow><mrow data-mjx-texclass="ORD"><mn>6</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">{}^{6}</script><span> 人类反馈也可以通过互补的方式结合进来，但我们将其留给未来的工作。</span></p><hr /><p>&nbsp;</p><h2 id='acknowledgments'><span>ACKNOWLEDGMENTS</span></h2><h2 id='致谢'><span>致谢</span></h2><p><span>We thank the support and feedback of many people from Google Brain team and Princeton NLP Group. This work was supported in part by the National Science Foundation under Grant No. 2107048. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.</span>
<span>我们感谢来自 Google Brain 团队和普林斯顿 NLP 小组许多人的支持与反馈。这项工作得到了美国国家科学基金会第 2107048 号资助项目的部分支持。本材料中表达的所有观点、发现、结论或建议均为作者个人观点，不一定反映美国国家科学基金会的观点。</span></p><h2 id='reproducibility-statement'><span>REPRODUCIBILITY STATEMENT</span></h2><h2 id='复现性声明'><span>复现性声明</span></h2><p><span>Our main experiments are done on PaLM (Chowdhery et al. 2022), which is not an openly accessible model yet. To increase reproducibility, we have included all used prompts in Appendix C, additional experiments using GPT-3 (Brown et al. 2020) in Appendix A.1 and associated GPT-3 ReAct prompting code at </span><a href='https://anonymous.4open.science/r/ReAct-2268/' target='_blank' class='url'>https://anonymous.4open.science/r/ReAct-2268/</a>
<span>我们的主要实验是在 PaLM (Chowdhery et al. 2022) 上完成的，该模型目前尚未公开。为了提高复现性，我们在附录 C 中包含了所有使用的提示词，在附录 A.1 中包含了使用 GPT-3 (Brown et al. 2020) 的额外实验，并在 </span><a href='https://anonymous.4open.science/r/ReAct-2268/' target='_blank' class='url'>https://anonymous.4open.science/r/ReAct-2268/</a><span> 提供了相关的 GPT-3 ReAct 提示词代码。</span></p><h2 id='ethics-statement'><span>ETHICS STATEMENT</span></h2><h2 id='伦理声明'><span>伦理声明</span></h2><p><span>ReAct prompts large language models to generate more human interpretable, diagnosable, and controllable task-solving trajectories than previous methods. However, hooking up a large language model with an action space to interact with external environments (e.g. the web, physical environments) has potential dangers, e.g. looking up inappropriate or private information, or taking harmful actions in an environment. Our experiments minimize such risks by limiting the interactions to specific websites (Wikipedia or WebShop) that are free of private information, without any dangerous actions in the action space design (i.e. models cannot really buy products on WebShop the research benchmark, or edit Wikipedia). We believe researchers should be aware of such risks before designing more extensive experiments in the future.</span>
<span>与以往的方法相比，ReAct 促使大型语言模型生成更具人类可解释性、可诊断性和可控性的任务解决轨迹。然而，将具有动作空间的大型语言模型与外部环境（如网络、物理环境）连接起来存在潜在风险，例如查询不当或私人信息，或在环境中采取有害行动。我们的实验通过将交互限制在不含私人信息的特定网站（Wikipedia 或 WebShop）来最小化此类风险，且在动作空间设计中不包含任何危险动作（即模型无法在 WebShop 研究基准上真正购买商品，也无法编辑 Wikipedia）。我们认为研究人员在未来设计更广泛的实验之前应意识到此类风险。</span></p><h2 id='references'><span>REFERENCES</span></h2><h2 id='参考文献'><span>参考文献</span></h2><p><span>Josh Abramson, Arun Ahuja, Iain Barr, Arthur Brussee, Federico Carnevale, Mary Cassin, Rachita Chhaparia, Stephen Clark, Bogdan Damoc, Andrew Dudzik, Petko Georgiev, Aurelia Guy, Tim Harley, Felix Hill, Alden Hung, Zachary Kenton, Jessica Landon, Timothy Lillicrap, Kory Mathewson, Soňa Mokrá, Alistair Muldal, Adam Santoro, Nikolay Savinov, Vikrant Varma, Greg Wayne, Duncan Williams, Nathaniel Wong, Chen Yan, and Rui Zhu. Imitating interactive intelligence, 2020.URL</span><a href='https://arxiv.org/abs/2012.05672' target='_blank' class='url'>https://arxiv.org/abs/2012.05672</a>
<span>Josh Abramson, Arun Ahuja, Iain Barr, Arthur Brussee, Federico Carnevale, Mary Cassin, Rachita Chhaparia, Stephen Clark, Bogdan Damoc, Andrew Dudzik, Petko Georgiev, Aurelia Guy, Tim Harley, Felix Hill, Alden Hung, Zachary Kenton, Jessica Landon, Timothy Lillicrap, Kory Mathewson, Soňa Mokrá, Alistair Muldal, Adam Santoro, Nikolay Savinov, Vikrant Varma, Greg Wayne, Duncan Williams, Nathaniel Wong, Chen Yan, and Rui Zhu. Imitating interactive intelligence, 2020. URL </span><a href='https://arxiv.org/abs/2012.05672' target='_blank' class='url'>https://arxiv.org/abs/2012.05672</a></p><p><span>Michael Ahn, Anthony Brohan, Noah Brown, Yevgen Chebotar, Omar Cortes, Byron David, Chelsea Finn, Chuyuan Fu, Keerthana Gopalakrishnan, Karol Hausman, Alex Herzog, Daniel Ho, Jasmine Hsu, Julian Ibarz, Brian Ichter, Alex Irpan, Eric Jang, Rosario Jauregui Ruano, Kyle Jeffrey, Sally Jesmonth, Nikhil J Joshi, Ryan Julian, Dmitry Kalashnikov, Yuheng Kuang, Kuang-Huei Lee, Sergey Levine, Yao Lu, Linda Luu, Carolina Parada, Peter Pastor, Jornell Quiambao, Kanishka Rao, Jarek Rettinghouse, Diego Reyes, Pierre Sermanet, Nicolas Sievers, Clayton Tan, Alexander Toshev, Vincent Vanhoucke, Fei Xia, Ted Xiao, Peng Xu, Sichun Xu, Mengyuan Yan, and Andy Zeng. Do as i can, not as i say: Grounding language in robotic affordances, 2022. URL </span><a href='https://arxiv.org/abs/2204.01691' target='_blank' class='url'>https://arxiv.org/abs/2204.01691</a>
<span>Michael Ahn, Anthony Brohan, Noah Brown, Yevgen Chebotar, Omar Cortes, Byron David, Chelsea Finn, Chuyuan Fu, Keerthana Gopalakrishnan, Karol Hausman, Alex Herzog, Daniel Ho, Jasmine Hsu, Julian Ibarz, Brian Ichter, Alex Irpan, Eric Jang, Rosario Jauregui Ruano, Kyle Jeffrey, Sally Jesmonth, Nikhil J Joshi, Ryan Julian, Dmitry Kalashnikov, Yuheng Kuang, Kuang-Huei Lee, Sergey Levine, Yao Lu, Linda Luu, Carolina Parada, Peter Pastor, Jornell Quiambao, Kanishka Rao, Jarek Rettinghouse, Diego Reyes, Pierre Sermanet, Nicolas Sievers, Clayton Tan, Alexander Toshev, Vincent Vanhoucke, Fei Xia, Ted Xiao, Peng Xu, Sichun Xu, Mengyuan Yan, and Andy Zeng. Do as i can, not as i say: Grounding language in robotic affordances, 2022. URL </span><a href='https://arxiv.org/abs/2204.01691' target='_blank' class='url'>https://arxiv.org/abs/2204.01691</a></p><p><span>Ben Alderson-Day and Charles Fernyhough. Inner speech: development, cognitive functions, phenomenology, and neurobiology. Psychological bulletin, 141(5):931, 2015.</span>
<span>Ben Alderson-Day and Charles Fernyhough. Inner speech: development, cognitive functions, phenomenology, and neurobiology. Psychological bulletin, 141(5):931, 2015.</span></p><hr /><p>&nbsp;</p><p><span>Alan Baddeley. Working memory. Science, 255(5044):556-559, 1992.</span>
<span>Alan Baddeley. Working memory. Science, 255(5044):556-559, 1992.</span></p><hr /><p>&nbsp;</p><p><span>Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et al. Language models are few-shot learners. Advances in neural information processing systems, 33:1877-1901, 2020.</span>
<span>Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, 等. 语言模型是少样本学习者. Advances in neural information processing systems, 33:1877-1901, 2020.</span></p><p><span>Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten Bosma, Gaurav Mishra, Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton, Sebastian Gehrmann, et al. Palm: Scaling language modeling with pathways. arXiv preprint arXiv:2204.02311, 2022.</span>
<span>Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten Bosma, Gaurav Mishra, Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton, Sebastian Gehrmann, 等. PaLM：通过 Pathways 扩展语言建模. arXiv preprint arXiv:2204.02311, 2022.</span></p><p><span>Antonia Creswell and Murray Shanahan. Faithful reasoning using large language models, 2022. URL </span><a href='https://arxiv.org/abs/2208.14271' target='_blank' class='url'>https://arxiv.org/abs/2208.14271</a>
<span>Antonia Creswell 和 Murray Shanahan. 使用大型语言模型进行忠实推理, 2022. URL </span><a href='https://arxiv.org/abs/2208.14271' target='_blank' class='url'>https://arxiv.org/abs/2208.14271</a></p><p><span>Antonia Creswell, Murray Shanahan, and Irina Higgins. Selection-inference: Exploiting large language models for interpretable logical reasoning, 2022. URL </span><a href='https://arxiv.org/abs/' target='_blank' class='url'>https://arxiv.org/abs/</a><span> 2205.09712</span>
<span>Antonia Creswell, Murray Shanahan, 和 Irina Higgins. 选择-推理：利用大型语言模型进行可解释的逻辑推理, 2022. URL </span><a href='https://arxiv.org/abs/2205.09712' target='_blank' class='url'>https://arxiv.org/abs/2205.09712</a></p><p><span>Angela Fan, Yacine Jernite, Ethan Perez, David Grangier, Jason Weston, and Michael Auli. ELI5: Long form question answering. In Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics, pp. 3558-3567, Florence, Italy, July 2019. Association for Computational Linguistics. doi: 10.18653/v1/P19-1346. URL </span><a href='https://aclanthology.org/' target='_blank' class='url'>https://aclanthology.org/</a><span> P19-1346</span>
<span>Angela Fan, Yacine Jernite, Ethan Perez, David Grangier, Jason Weston, 和 Michael Auli. ELI5：长篇问答. In Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics, pp. 3558-3567, Florence, Italy, July 2019. Association for Computational Linguistics. doi: 10.18653/v1/P19-1346. URL </span><a href='https://aclanthology.org/P19-1346' target='_blank' class='url'>https://aclanthology.org/P19-1346</a></p><p><span>Charles Fernyhough. Vygotsky, luria, and the social brain. Self and social regulation: Social interaction and the development of social understanding and executive functions, pp. 56-79, 2010.</span>
<span>Charles Fernyhough. 维果茨基、鲁利亚与社会大脑. Self and social regulation: Social interaction and the development of social understanding and executive functions, pp. 56-79, 2010.</span></p><p><span>Amelia Glaese, Nat McAleese, Maja Trebacz, John Aslanides, Vlad Firoiu, Timo Ewalds, Maribeth Rauh, Laura Weidinger, Martin Chadwick, Phoebe Thacker, Lucy Campbell-Gillingham, Jonathan Uesato, Po-Sen Huang, Ramona Comanescu, Fan Yang, Abigail See, Sumanth Dathathri, Rory Greig, Charlie Chen, Doug Fritz, Jaume Sanchez Elias, Richard Green, Soña Mokrá, Nicholas Fernando, Boxi Wu, Rachel Foley, Susannah Young, Iason Gabriel, William Isaac, John Mellor, Demis Hassabis, Koray Kavukcuoglu, Lisa Anne Hendricks, and Geoffrey Irving. Improving alignment of dialogue agents via targeted human judgements, 2022. URL </span><a href='https://storage.googleapis.com/deepmind-media/DeepMind' target='_blank' class='url'>https://storage.googleapis.com/deepmind-media/DeepMind</a><span> com/Authors-Notes/sparrow/sparrow-final.pdf</span>
<span>Amelia Glaese, Nat McAleese, Maja Trebacz, John Aslanides, Vlad Firoiu, Timo Ewalds, Maribeth Rauh, Laura Weidinger, Martin Chadwick, Phoebe Thacker, Lucy Campbell-Gillingham, Jonathan Uesato, Po-Sen Huang, Ramona Comanescu, Fan Yang, Abigail See, Sumanth Dathathri, Rory Greig, Charlie Chen, Doug Fritz, Jaume Sanchez Elias, Richard Green, Soña Mokrá, Nicholas Fernando, Boxi Wu, Rachel Foley, Susannah Young, Iason Gabriel, William Isaac, John Mellor, Demis Hassabis, Koray Kavukcuoglu, Lisa Anne Hendricks, 和 Geoffrey Irving. 通过定向人类判断改善对话智能体的对齐, 2022. URL </span><a href='https://storage.googleapis.com/deepmind-media/DeepMind.com/Authors-Notes/sparrow/sparrow-final.pdf' target='_blank' class='url'>https://storage.googleapis.com/deepmind-media/DeepMind.com/Authors-Notes/sparrow/sparrow-final.pdf</a></p><p><span>Ehsan Hosseini-Asl, Bryan McCann, Chien-Sheng Wu, Semih Yavuz, and Richard Socher. A simple language model for task-oriented dialogue. Advances in Neural Information Processing Systems, 33:20179-20191, 2020.</span>
<span>Ehsan Hosseini-Asl, Bryan McCann, Chien-Sheng Wu, Semih Yavuz, 和 Richard Socher. 一种用于任务导向对话的简单语言模型. Advances in Neural Information Processing Systems, 33:20179-20191, 2020.</span></p><p><span>Wenlong Huang, Pieter Abbeel, Deepak Pathak, and Igor Mordatch. Language models as zero-shot planners: Extracting actionable knowledge for embodied agents. arXiv preprint arXiv:2201.07207, 2022a.</span>
<span>Wenlong Huang, Pieter Abbeel, Deepak Pathak, 和 Igor Mordatch. 语言模型作为零样本规划器：为具身智能体提取可操作知识. arXiv preprint arXiv:2201.07207, 2022a.</span></p><p><span>Wenlong Huang, Fei Xia, Ted Xiao, Harris Chan, Jacky Liang, Pete Florence, Andy Zeng, Jonathan Tompson, Igor Mordatch, Yevgen Chebotar, et al. Inner monologue: Embodied reasoning through planning with language models. arXiv preprint arXiv:2207.05608, 2022b.</span>
<span>Wenlong Huang, Fei Xia, Ted Xiao, Harris Chan, Jacky Liang, Pete Florence, Andy Zeng, Jonathan Tompson, Igor Mordatch, Yevgen Chebotar, 等. 内部独白：通过语言模型规划进行具身推理. arXiv preprint arXiv:2207.05608, 2022b.</span></p><p><span>Siddharth Karamcheti, Megha Srivastava, Percy Liang, and Dorsa Sadigh. Lila: Language-informed latent actions. In CoRL, pp. 1379-1390, 2021. URL </span><a href='https://proceedings.mlr.press/' target='_blank' class='url'>https://proceedings.mlr.press/</a><span> v164/karamcheti22a.html</span>
<span>Siddharth Karamcheti, Megha Srivastava, Percy Liang, 和 Dorsa Sadigh. LILA：语言告知的潜在动作. In CoRL, pp. 1379-1390, 2021. URL </span><a href='https://proceedings.mlr.press/v164/karamcheti22a.html' target='_blank' class='url'>https://proceedings.mlr.press/v164/karamcheti22a.html</a></p><p><span>Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, and Yusuke Iwasawa. Large language models are zero-shot reasoners. arXiv preprint arXiv:2205.11916, 2022.</span>
<span>Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, 和 Yusuke Iwasawa. 大型语言模型是零样本推理者. arXiv preprint arXiv:2205.11916, 2022.</span></p><p><span>Angeliki Lazaridou, Elena Gribovskaya, Wojciech Stokowiec, and Nikolai Grigorev. Internet-augmented language models through few-shot prompting for open-domain question answering. arXiv preprint arXiv:2203.05115, 2022.</span>
<span>Angeliki Lazaridou, Elena Gribovskaya, Wojciech Stokowiec, 和 Nikolai Grigorev. 通过少样本提示进行互联网增强的语言模型以用于开放域问答. arXiv preprint arXiv:2203.05115, 2022.</span></p><p><span>Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al. Retrieval-augmented generation for knowledge-intensive nlp tasks. Advances in Neural Information Processing Systems, 33: 9459-9474, 2020.</span>
<span>Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al. 知识密集型 NLP 任务的检索增强生成。神经信息处理系统进展 (NeurIPS), 33: 9459-9474, 2020.</span></p><p><span>Shuang Li, Xavier Puig, Chris Paxton, Yilun Du, Clinton Wang, Linxi Fan, Tao Chen, De-An Huang, Ekin Akyürek, Anima Anandkumar, Jacob Andreas, Igor Mordatch, Antonio Torralba, and Yuke Zhu. Pre-trained language models for interactive decision-making, 2022. URL https: //arxiv.org/abs/2202.01771</span>
<span>Shuang Li, Xavier Puig, Chris Paxton, Yilun Du, Clinton Wang, Linxi Fan, Tao Chen, De-An Huang, Ekin Akyürek, Anima Anandkumar, Jacob Andreas, Igor Mordatch, Antonio Torralba, and Yuke Zhu. 用于交互式决策的预训练语言模型, 2022. URL </span><a href='https://arxiv.org/abs/2202.01771' target='_blank' class='url'>https://arxiv.org/abs/2202.01771</a></p><p><span>Aleksandr Romanovich Luria. Ls vygotsky and the problem of localization of functions. Neuropsy-chologia, 3(4):387-392, 1965.</span>
<span>Aleksandr Romanovich Luria. 维果茨基与功能定位问题。神经心理学 (Neuropsychologia), 3(4):387-392, 1965.</span></p><p><span>Aman Madaan and Amir Yazdanbakhsh. Text and patterns: For effective chain of thought, it takes two to tango, 2022. URL</span><a href='https://arxiv.org/abs/2209.07686' target='_blank' class='url'>https://arxiv.org/abs/2209.07686</a>
<span>Aman Madaan and Amir Yazdanbakhsh. 文本与模式：有效的思维链需要双管齐下, 2022. URL </span><a href='https://arxiv.org/abs/2209.07686' target='_blank' class='url'>https://arxiv.org/abs/2209.07686</a></p><p><span>Vincent Micheli and François Fleuret. Language models are few-shot butlers. arXiv preprint arXiv:2104.07972, 2021.</span>
<span>Vincent Micheli and François Fleuret. 语言模型是少样本管家。arXiv 预印本 arXiv:2104.07972, 2021.</span></p><p><span>Reiichiro Nakano, Jacob Hilton, Suchir Balaji, Jeff Wu, Long Ouyang, Christina Kim, Christopher Hesse, Shantanu Jain, Vineet Kosaraju, William Saunders, Xu Jiang, Karl Cobbe, Tyna Eloundou, Gretchen Krueger, Kevin Button, Matthew Knight, Benjamin Chess, and John Schulman. Webgpt: Browser-assisted question-answering with human feedback, 2021. URL </span><a href='https://arxiv' target='_blank' class='url'>https://arxiv</a><span> org/abs/2112.09332</span>
<span>Reiichiro Nakano, Jacob Hilton, Suchir Balaji, Jeff Wu, Long Ouyang, Christina Kim, Christopher Hesse, Shantanu Jain, Vineet Kosaraju, William Saunders, Xu Jiang, Karl Cobbe, Tyna Eloundou, Gretchen Krueger, Kevin Button, Matthew Knight, Benjamin Chess, and John Schulman. WebGPT：结合人类反馈的浏览器辅助问答, 2021. URL </span><a href='https://arxiv.org/abs/2112.09332' target='_blank' class='url'>https://arxiv.org/abs/2112.09332</a></p><p><span>Maxwell Nye, Anders Johan Andreassen, Guy Gur-Ari, Henryk Michalewski, Jacob Austin, David Bieber, David Dohan, Aitor Lewkowycz, Maarten Bosma, David Luan, Charles Sutton, and Augustus Odena. Show your work: Scratchpads for intermediate computation with language models, 2021. URL </span><a href='https://arxiv.org/abs/2112.00114' target='_blank' class='url'>https://arxiv.org/abs/2112.00114</a>
<span>Maxwell Nye, Anders Johan Andreassen, Guy Gur-Ari, Henryk Michalewski, Jacob Austin, David Bieber, David Dohan, Aitor Lewkowycz, Maarten Bosma, David Luan, Charles Sutton, and Augustus Odena. 展示你的工作：语言模型中间计算的草稿本, 2021. URL </span><a href='https://arxiv.org/abs/2112.00114' target='_blank' class='url'>https://arxiv.org/abs/2112.00114</a></p><p><span>Scott Reed, Konrad Zolna, Emilio Parisotto, Sergio Gomez Colmenarejo, Alexander Novikov, Gabriel Barth-Maron, Mai Gimenez, Yury Sulsky, Jackie Kay, Jost Tobias Springenberg, Tom Eccles, Jake Bruce, Ali Razavi, Ashley Edwards, Nicolas Heess, Yutian Chen, Raia Hadsell, Oriol Vinyals, Mahyar Bordbar, and Nando de Freitas. A generalist agent, 2022. URL https: //arxiv.org/abs/2205.06175.</span>
<span>Scott Reed, Konrad Zolna, Emilio Parisotto, Sergio Gomez Colmenarejo, Alexander Novikov, Gabriel Barth-Maron, Mai Gimenez, Yury Sulsky, Jackie Kay, Jost Tobias Springenberg, Tom Eccles, Jake Bruce, Ali Razavi, Ashley Edwards, Nicolas Heess, Yutian Chen, Raia Hadsell, Oriol Vinyals, Mahyar Bordbar, and Nando de Freitas. 通才智能体, 2022. URL </span><a href='https://arxiv.org/abs/2205.06175' target='_blank' class='url'>https://arxiv.org/abs/2205.06175</a><span>.</span></p><p><span>Mohit Shridhar, Jesse Thomason, Daniel Gordon, Yonatan Bisk, Winson Han, Roozbeh Mottaghi, Luke Zettlemoyer, and Dieter Fox. Alfred: A benchmark for interpreting grounded instructions for everyday tasks. In Proceedings of the IEEE/CVF conference on computer vision and pattern recognition, pp. 10740-10749, 2020a.</span>
<span>Mohit Shridhar, Jesse Thomason, Daniel Gordon, Yonatan Bisk, Winson Han, Roozbeh Mottaghi, Luke Zettlemoyer, and Dieter Fox. ALFRED：解释日常任务落地指令的基准。收录于 IEEE/CVF 计算机视觉与模式识别会议论文集 (CVPR), pp. 10740-10749, 2020a.</span></p><p><span>Mohit Shridhar, Xingdi Yuan, Marc-Alexandre Côté, Yonatan Bisk, Adam Trischler, and Matthew Hausknecht. Alfworld: Aligning text and embodied environments for interactive learning. arXiv preprint arXiv:2010.03768, 2020b.</span>
<span>Mohit Shridhar, Xingdi Yuan, Marc-Alexandre Côté, Yonatan Bisk, Adam Trischler, and Matthew Hausknecht. ALFWorld：为交互式学习对齐文本与具身环境。arXiv 预印本 arXiv:2010.03768, 2020b.</span></p><p><span>Kurt Shuster, Mojtaba Komeili, Leonard Adolphs, Stephen Roller, Arthur Szlam, and Jason Weston. Language models that seek for knowledge: Modular search &amp; generation for dialogue and prompt completion. arXiv preprint arXiv:2203.13224, 2022a.</span>
<span>Kurt Shuster, Mojtaba Komeili, Leonard Adolphs, Stephen Roller, Arthur Szlam, and Jason Weston. 寻求知识的语言模型：用于对话和提示补全的模块化搜索与生成。arXiv 预印本 arXiv:2203.13224, 2022a.</span></p><p><span>Kurt Shuster, Jing Xu, Mojtaba Komeili, Da Ju, Eric Michael Smith, Stephen Roller, Megan Ung, Moya Chen, Kushal Arora, Joshua Lane, Morteza Behrooz, William Ngan, Spencer Poff, Naman Goyal, Arthur Szlam, Y-Lan Boureau, Melanie Kambadur, and Jason Weston. Blenderbot 3: a deployed conversational agent that continually learns to responsibly engage, 2022b. URL </span><a href='https://arxiv.org/abs/2208.03188' target='_blank' class='url'>https://arxiv.org/abs/2208.03188</a>
<span>Kurt Shuster, Jing Xu, Mojtaba Komeili, Da Ju, Eric Michael Smith, Stephen Roller, Megan Ung, Moya Chen, Kushal Arora, Joshua Lane, Morteza Behrooz, William Ngan, Spencer Poff, Naman Goyal, Arthur Szlam, Y-Lan Boureau, Melanie Kambadur, and Jason Weston. BlenderBot 3：一个可持续学习负责任互动的已部署对话智能体, 2022b. URL </span><a href='https://arxiv.org/abs/2208.03188' target='_blank' class='url'>https://arxiv.org/abs/2208.03188</a></p><p><span>James Thorne, Andreas Vlachos, Christos Christodoulopoulos, and Arpit Mittal. Fever: a large-scale dataset for fact extraction and verification. arXiv preprint arXiv:1803.05355, 2018.</span>
<span>James Thorne, Andreas Vlachos, Christos Christodoulopoulos, and Arpit Mittal. FEVER：用于证据提取与验证的大规模数据集。arXiv 预印本 arXiv:1803.05355, 2018.</span></p><p><span>Lev S Vygotsky. Thinking and speech. The collected works of LS Vygotsky, 1:39-285, 1987.</span>
<span>Lev S Vygotsky. 思维与语言. LS Vygotsky 全集, 1:39-285, 1987.</span></p><p><span>Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, Sharan Narang, Aakanksha Chowdh-ery, and Denny Zhou. Self-consistency improves chain of thought reasoning in language models, 2022a.URL</span><a href='https://arxiv.org/abs/2203.11171' target='_blank' class='url'>https://arxiv.org/abs/2203.11171</a>
<span>Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, Sharan Narang, Aakanksha Chowdh-ery, 以及 Denny Zhou. 自一致性提升了语言模型中的思维链推理, 2022a. URL </span><a href='https://arxiv.org/abs/2203.11171' target='_blank' class='url'>https://arxiv.org/abs/2203.11171</a></p><p><span>Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, and Denny Zhou. Rationale-augmented ensembles in language models. arXiv preprint arXiv:2207.00747, 2022b.</span>
<span>Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, 以及 Denny Zhou. 语言模型中的原理解释增强集成. arXiv 预印本 arXiv:2207.00747, 2022b.</span></p><p><span>Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Ed Chi, Quoc Le, and Denny Zhou. Chain of thought prompting elicits reasoning in large language models. arXiv preprint arXiv:2201.11903, 2022.</span>
<span>Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Ed Chi, Quoc Le, 以及 Denny Zhou. 思维链提示诱导了大型语言模型中的推理. arXiv 预印本 arXiv:2201.11903, 2022.</span></p><p><span>Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William W Cohen, Ruslan Salakhutdinov, and Christopher D Manning. Hotpotqa: A dataset for diverse, explainable multi-hop question answering. arXiv preprint arXiv:1809.09600, 2018.</span>
<span>Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William W Cohen, Ruslan Salakhutdinov, 以及 Christopher D Manning. Hotpotqa：一个用于多样化、可解释多跳问答的数据集. arXiv 预印本 arXiv:1809.09600, 2018.</span></p><p><span>Shunyu Yao, Rohan Rao, Matthew Hausknecht, and Karthik Narasimhan. Keep CALM and explore: Language models for action generation in text-based games. In Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP), pp. 8736-8754, Online, November 2020. Association for Computational Linguistics. doi: 10.18653/v1/2020.emnlp-main.704. URL</span><a href='https://aclanthology.org/2020.emnlp-main.704' target='_blank' class='url'>https://aclanthology.org/2020.emnlp-main.704</a><span>.</span>
<span>Shunyu Yao, Rohan Rao, Matthew Hausknecht, 以及 Karthik Narasimhan. 保持 CALM 并探索：用于文本游戏动作生成的语言模型. 收录于 2020 年自然语言处理实证方法会议 (EMNLP) 论文集, pp. 8736-8754, 在线, 2020 年 11 月. 计算语言学协会. doi: 10.18653/v1/2020.emnlp-main.704. URL </span><a href='https://aclanthology.org/2020.emnlp-main.704' target='_blank' class='url'>https://aclanthology.org/2020.emnlp-main.704</a><span>.</span></p><p><span>Shunyu Yao, Howard Chen, John Yang, and Karthik Narasimhan. Webshop: Towards scalable real-world web interaction with grounded language agents. arXiv preprint arXiv:2207.01206, 2022.</span>
<span>Shunyu Yao, Howard Chen, John Yang, 以及 Karthik Narasimhan. Webshop：面向具备接地语言智能体的可扩展现实世界网络交互. arXiv 预印本 arXiv:2207.01206, 2022.</span></p><p><span>Eric Zelikman, Yuhuai Wu, Jesse Mu, and Noah D. Goodman. Star: Bootstrapping reasoning with reasoning, 2022. URL </span><a href='https://arxiv.org/abs/2203.14465' target='_blank' class='url'>https://arxiv.org/abs/2203.14465</a>
<span>Eric Zelikman, Yuhuai Wu, Jesse Mu, 以及 Noah D. Goodman. Star：通过推理自我引导推理, 2022. URL </span><a href='https://arxiv.org/abs/2203.14465' target='_blank' class='url'>https://arxiv.org/abs/2203.14465</a></p><p><span>Denny Zhou, Nathanael Schärli, Le Hou, Jason Wei, Nathan Scales, Xuezhi Wang, Dale Schuurmans, Olivier Bousquet, Quoc Le, and Ed Chi. Least-to-most prompting enables complex reasoning in large language models, 2022. URL </span><a href='https://arxiv.org/abs/2205.10625' target='_blank' class='url'>https://arxiv.org/abs/2205.10625</a><span>.</span>
<span>Denny Zhou, Nathanael Schärli, Le Hou, Jason Wei, Nathan Scales, Xuezhi Wang, Dale Schuurmans, Olivier Bousquet, Quoc Le, 以及 Ed Chi. 从易到难的提示开启了大型语言模型中的复杂推理, 2022. URL </span><a href='https://arxiv.org/abs/2205.10625' target='_blank' class='url'>https://arxiv.org/abs/2205.10625</a><span>.</span></p><p><span>Yunchang Zhu, Liang Pang, Yanyan Lan, Huawei Shen, and Xueqi Cheng. Adaptive information seeking for open-domain question answering. arXiv preprint arXiv:2109.06747, 2021.</span>
<span>Yunchang Zhu, Liang Pang, Yanyan Lan, Huawei Shen, 以及 Xueqi Cheng. 面向开放域问答的自适应信息检索. arXiv 预印本 arXiv:2109.06747, 2021.</span></p><h2 id='a-additional-results'><span>A ADDITIONAL RESULTS</span></h2><h2 id='a-附加结果'><span>A 附加结果</span></h2><h3 id='a1-gpt-3-experiments'><span>A.1 GPT-3 EXPERIMENTS</span></h3><h3 id='a1-gpt-3-实验'><span>A.1 GPT-3 实验</span></h3><table><tr><td></td><td>PaLM-540B</td><td>GPT-3</td></tr><tr><td>HotpotQA (exact match)</td><td>29.4</td><td>30.8</td></tr><tr><td>ALFWorld (success rate %)</td><td>70.9</td><td>78.4</td></tr></table>
<table><tbody><tr><td></td><td>PaLM-540B</td><td>GPT-3</td></tr><tr><td>HotpotQA (完全匹配)</td><td>29.4</td><td>30.8</td></tr><tr><td>ALFWorld (成功率 %)</td><td>70.9</td><td>78.4</td></tr></tbody></table><p><span>Table 5: ReAct prompting results using PaLM-540B vs. GPT-3 (text-davinci-002, greedy decoding). On HotpotQA, we randomly sample a subset of 500 validation questions. On ALFWorld, we use all 134 unseen validation task instances, and use the best prompt set according to PaLM-540B.</span>
<span>表 5：PaLM-540B 与 GPT-3 (text-davinci-002, 贪婪解码) 的 ReAct 提示结果。在 HotpotQA 上，我们随机抽取了 500 个验证问题子集。在 ALFWorld 上，我们使用了全部 134 个未见过的验证任务实例，并采用了 PaLM-540B 的最佳提示集。</span></p><p><span>We run additional GPT-3 (Brown et al. 2020) experiments to confirm ReAct prompting performance is general across different large language models. As shown in Table 5, GPT-3 (text-davinci-002, greedy decoding) consistently outperforms PaLM-540B on HotpotQA and ALFWorld, possibly because it is finetuned with human instruction following. This indicates ReAct prompting is effective across different large language models on different tasks. The code for these experiments are at </span><a href='https://react-lm.github.io/' target='_blank' class='url'>https://react-lm.github.io/</a>
<span>我们运行了额外的 GPT-3 (Brown et al. 2020) 实验，以确认 ReAct 提示性能在不同的语言大模型中具有通用性。如表 5 所示，GPT-3 (text-davinci-002, 贪婪解码) 在 HotpotQA 和 ALFWorld 上的表现一致优于 PaLM-540B，这可能是因为它经过了遵循人类指令的微调。这表明 ReAct 提示在不同任务上的不同语言大模型中均有效。这些实验的代码见 </span><a href='https://react-lm.github.io/' target='_blank' class='url'>https://react-lm.github.io/</a></p><p><span>A. 2 REACT OBTAINS UP-TO-DATE KNOWLEDGE ON HOTPOTQA</span>
<span>A. 2 REACT 在 HOTPOTQA 上获取最新知识</span></p><p><img src="https://raw.githubusercontent.com/Tsuki-Gor/Pic_Bed_Ob/main/Mixed/M2026/02/2026_02_18__00_16_23_3d35e5.jpg"/></p><p>&nbsp;</p><p><span>Figure 4: Another example HotpotQA question, where the original label is outdated. Only ReAct is able to obtain the up-to-date answer thanks to real-world web interaction plus reasoning.</span>
<span>图 4：另一个 HotpotQA 问题示例，其中原始标签已过时。得益于真实的 Web 交互及推理，只有 ReAct 能够获得最新的答案。</span></p><p><span>During trajectory inspection, we also find that sometimes ReAct does not agree with dataset labels as the labels themselves could be outdated. For example, as shown in Figure 4, the question asks about the size of a hotel, which increased from the HotpotQA construction time. While Standard and CoT give wrong answers due to hallucination, Act fails despite the access of real-world web interaction, due to a lack of reasoning to guide how to interact with the Internet for QA. Only ReAct is able to retrieve up-to-date information from the Internet and provide a reasonable answer. Therefore, better incorporation of reasoning abilities might benefit recent Internet-augmented language models (Nakano et al. 2021, Lazaridou et al. 2022, Shuster et al. 2022a) for up-to-date task solving.</span>
<span>在轨迹检查期间，我们还发现 ReAct 有时与数据集标签不一致，因为标签本身可能已过时。例如，如图 4 所示，问题询问一家酒店的大小，该酒店自 HotpotQA 构建以来有所扩建。虽然 Standard 和 CoT 由于幻觉给出错误答案，但 Act 尽管可以访问真实的 Web 交互，却由于缺乏引导如何与互联网进行问答交互的推理而失败。只有 ReAct 能够从互联网检索最新信息并提供合理的答案。因此，更好地融合推理能力可能有益于近期基于互联网增强的语言模型 (Nakano et al. 2021, Lazaridou et al. 2022, Shuster et al. 2022a) 以解决最新任务。</span></p><h3 id='a3-human-in-the-loop-behavior-correction-on-alfworld'><span>A.3 HUMAN-IN-THE-LOOP BEHAVIOR CORRECTION ON ALFWORLD</span></h3><h3 id='a3-alfworld-上的人在回路行为修正'><span>A.3 ALFWORLD 上的“人在回路”行为修正</span></h3><p><span>We also explore human-in-the-loop interaction with ReAct, to allow a human to inspect and edit ReAct&#39;s reasoning traces. Figure 5 shows that by simply removing a hallucinating sentence in Act 17 and adding some hints in Act 23, ReAct can be made to change its behavior drastically to align with these human thought edits and succeed in the task. From a human perspective, solving such a task becomes significantly easier, from typing tens of actions to only editing a couple of thoughts, which enables new forms of human-machine collaboration. We note that such a policy edit on-the-go</span>
<span>我们还探索了与 ReAct 的“人在回路”交互，允许人类检查和编辑 ReAct 的推理轨迹。图 5 显示，只需删除 Act 17 中的一句幻觉并增加 Act 23 中的一些提示，即可使 ReAct 大幅改变其行为以匹配这些人工思维编辑并成功完成任务。从人类的角度来看，解决此类任务变得显著简单，从输入数十个动作变为仅编辑几个思维，这开启了人机协作的新形式。我们注意到，这种实时的策略编辑</span></p><p><img src="https://raw.githubusercontent.com/Tsuki-Gor/Pic_Bed_Ob/main/Mixed/M2026/02/2026_02_18__00_16_23_30b1ee.jpg"/></p><p>&nbsp;</p><p><span>Figure 5: A human-in-the-loop behavior correction example with ReAct in AlfWorld. (a) ReAct trajectory fails due to a hallucinating thought (Act 17). (b) By a human simply editing two thoughts (Act 17, 23), the ReAct trajectory produces desirable reasoning traces and actions and succeeds.</span>
<span>图 5：ReAct 在 AlfWorld 中的一个“人在回路”行为修正示例。(a) ReAct 轨迹由于思维幻觉 (Act 17) 而失败。(b) 通过人类简单编辑两个思维 (Act 17, 23)，ReAct 轨迹产生了理想的推理迹象和动作并取得成功。</span></p><p><span>is difficult for Act and previous RL methods, as a human cannot change the model parameters, and changing a few actions might not edit the rest of the model behavior. This paradigm is also more than human dialogue to update the goal or subgoal as in Huang et al. (2022b) - while editing ReAct thoughts can do these, it can also modify the model&#39;s internal belief, reasoning styles, or anything the flexible thought space supports, for better task solving. We believe this is an exciting direction for human alignment and leave more systematic study as future work.</span>
<span>对于 Act 和之前的 RL 方法来说是困难的，因为人类无法更改模型参数，且更改少量动作可能无法修改其余的模型行为。这种范式也超越了 Huang et al. (2022b) 中用于更新目标或子目标的人类对话——虽然编辑 ReAct 思维可以做到这些，但它还可以修改模型的内部信念、推理风格或灵活思维空间支持的任何内容，以更好地解决任务。我们认为这是人类对齐的一个令人兴奋的方向，并将更系统的研究留作未来工作。</span></p><h2 id='b-experiment-details'><span>B EXPERIMENT DETAILS</span></h2><h2 id='b-实验细节'><span>B 实验细节</span></h2><h3 id='b1-hotpotqa-finetuning-details'><span>B.1 HotPOTQA FINETUNING DETAILS</span></h3><h3 id='b1-hotpotqa-微调细节'><span>B.1 HOTPOTQA 微调细节</span></h3><p><span>For all finetuning we use a batch size of 64. On PaLM-8B, we finetune ReAct and Act methods for 4,000 steps and Standard and CoT methods for 2,000 steps. On PaLM-62B, we finetune ReAct and Act methods for 4,000 steps and Standard and CoT methods for 1,000 steps. We find ReAct and Act methods generally benefit from more training steps (and more training data), while Standard and CoT methods degrade soon after finetuning.</span>
<span>对于所有微调，我们使用 64 的批处理大小。在 PaLM-8B 上，我们将 ReAct 和 Act 方法微调 4,000 步，Standard 和 CoT 方法微调 2,000 步。在 PaLM-62B 上，我们将 ReAct 和 Act 方法微调 4,000 步，Standard 和 CoT 方法微调 1,000 步。我们发现 ReAct 和 Act 方法通常受益于更多的训练步骤（和更多的训练数据），而 Standard 和 CoT 方法在微调后不久性能就会下降。</span></p><h3 id='b2-alfworld-im-style-details'><span>B.2 ALFWORLD IM-STYLE DETAILS</span></h3><h3 id='b2-alfworld-im-风格细节'><span>B.2 ALFWORLD IM 风格细节</span></h3><p><span>For the IM-style ablation, the same expert trajectories used in ReAct are reannotated with dense external feedback thoughts within these trajectories, that limit ReAct-IM to only think about (1) decomposing the current goal and (2) the current subgoal that needs to be completed. In particular, ReAct-IM lacks thoughts that (1) determine when a subgoal is completed (2) determine what the next subgoal should be (3) inducing the LLM to refer to its internal pretraining knowledge to identify where items can be within the environment.</span>
<span>对于 IM 风格的消融实验，ReAct 中使用的相同专家轨迹在这些轨迹内被重新标注了密集的外部反馈思维，这将 ReAct-IM 限制为仅思考 (1) 分解当前目标和 (2) 需要完成的当前子目标。特别是，ReAct-IM 缺乏用于以下目的的思维：(1) 确定子目标何时完成；(2) 确定下一个子目标应该是什么；(3) 引导 LLM 参考其内部预训练知识以识别物品在环境中的位置。</span></p><h2 id='c-prompts'><span>C PROMPTS</span></h2><h2 id='c-提示词'><span>C 提示词</span></h2><h3 id='c1-hotpotqa'><span>C.1 HOTPOTQA</span></h3><h3 id='c1-hotpotqa-2'><span>C.1 HOTPOTQA</span></h3><table><tr><td colspan="2">Hotpot QA Prompts</td></tr><tr><td>Original</td><td></td></tr><tr><td>Question <br> Answer</td><td>What is the elevation range for the area that the eastern sector of the Colorado orogeny extends into? <br> 1,800 to 7,000 ft</td></tr><tr><td>Question <br> Answer</td><td>Musician and satirist Allie Goertz wrote a song about the "The Simpsons" character Milhouse, who Matt Groening named after who? Richard Nixon</td></tr><tr><td>Question</td><td>Which documentary is about Finnish rock groups, Adam Clayton Powell or The Saimaa Gesture?</td></tr><tr><td>Answer</td><td>The Saimaa Gesture</td></tr><tr><td>Question Answer</td><td>What profession does Nicholas Ray and Elia Kazan have in common? director, screenwriter, actor</td></tr><tr><td>Question Answer</td><td>Which magazine was started first Arthur's Magazine or First for Women? Arthur's Magazine</td></tr><tr><td>Question Answer</td><td>Were Pavel Urysohn and Leonid Levin known for the same type of work? Yes</td></tr><tr><td colspan="2">Act</td></tr><tr><td>Question</td><td>What is the elevation range for the area that the eastern sector of the Colorado orogeny extends into?</td></tr><tr><td>Action 1 <br> Observation 1</td><td>Search [Colorado orogeny] <br> The Colorado orogeny was an episode of mountain building (an orogeny) in Colorado and surrounding areas.</td></tr><tr><td>Action 2 Observation 2 <br> Action 3 Observation 3 Action 4</td><td>Lookup [eastern sector] <br> (Result 1 / 1) The eastern sector extends into the High Plains and is called the Central Plains orogeny. <br> Search [High Plains] <br> High Plains refers to one of two distinct land regions: <br> Search [High Plains (United States)]</td></tr><tr><td>Observation 4 <br> Action 5</td><td>The High Plains are a subregion of the Great Plains. From east to west, the High Plains rise in elevation from around 1,800 to 7,000 ft (550 to 2,130 m). [3] <br> Finish [1,800 to 7,000 ft]</td></tr><tr><td>Question <br> Action 1</td><td>Musician and satirist Allie Goertz wrote a song about the "The Simpsons" character Milhouse, who Matt Groening named after who? Search [Milhouse]</td></tr><tr><td>Observation 1</td><td>Milhouse Mussolini Van Houten is a recurring character in the Fox animated television series The Simpsons voiced by Pamela Hayden and created by Matt Groening.</td></tr><tr><td>Action 2 Observation 2 <br> Action 3</td><td>Lookup [named after] <br> (Result 1 / 1) Milhouse was named after U.S. president Richard Nixon, whose middle name was Milhous. <br> Finish[Richard Nixon]</td></tr><tr><td>Question</td><td>Which documentary is about Finnish rock groups, Adam Clayton Powell or The Saimaa Gesture?</td></tr><tr><td>Action 1 Observation 1</td><td>Search [Adam Clayton Powell] <br> Could not find [Adam Clayton Powell]. Similar: ['Adam Clayton Powell III', 'Seventh Avenue (Manhattan)', 'Adam Clayton Powell Jr. State Office Building', 'Isabel Washington Powell', 'Adam Powell', 'Adam Clayton Powell (film)', 'Giancarlo Esposito'].</td></tr><tr><td>Action 2 Observation 2 <br> Action 3</td><td>Search [Adam Clayton Powell (film)] <br> Adam Clayton Powell is a 1989 American documentary film directed by Richard Kilberg. The film is about the rise and fall of influential African-American politician Adam Clayton Powell Jr. [3][4] It was later aired as part of the PBS series The American Experience. <br> Finish [The Saimaa Gesture]</td></tr><tr><td>Question <br> Action 1</td><td>What profession does Nicholas Ray and Elia Kazan have in common? Search[Nicholas Ray]</td></tr><tr><td>Observation 1</td><td>Nicholas Ray (born Raymond Nicholas Kienzle Jr., August 7, 1911 - June 16, 1979) was an American film director, screenwriter, and actor best known for the 1955 film Rebel Without a Cause.</td></tr><tr><td>Action 2 Observation 2</td><td>Search [Elia Kazan] <br> Elia Kazan was an American film and theatre director, producer, screenwriter and actor.</td></tr></table>
<table><tbody><tr><td colspan="2">Hotpot QA 提示词</td></tr><tr><td>原文</td><td></td></tr><tr><td>问题 <br/> 回答</td><td>科罗拉多造山带东段延伸区域的海拔范围是多少？ <br/> 1,800 至 7,000 英尺</td></tr><tr><td>问题 <br/> 回答</td><td>音乐家兼讽刺作家艾莉·格茨写了一首关于《辛普森一家》角色米尔豪斯的歌，马特·格勒宁是以谁的名字为该角色命名的？理查德·尼克松</td></tr><tr><td>问题</td><td>哪部纪录片是关于芬兰摇滚乐队的，《亚当·克莱顿·鲍威尔》还是《塞马湖手势》？</td></tr><tr><td>回答</td><td>《塞马湖手势》</td></tr><tr><td>问题 回答</td><td>尼古拉斯·雷和伊利亚·卡赞有什么共同职业？导演、编剧、演员</td></tr><tr><td>问题 回答</td><td>哪本杂志创刊更早，《亚瑟杂志》还是《女性第一》？《亚瑟杂志》</td></tr><tr><td>问题 回答</td><td>帕维尔·乌雷松和列昂尼德·列文是否以同类型的工作闻名？是的</td></tr><tr><td colspan="2">行动</td></tr><tr><td>问题</td><td>科罗拉多造山带东段延伸区域的海拔范围是多少？</td></tr><tr><td>行动 1 <br/> 观察 1</td><td>搜索 [科罗拉多造山运动] <br/> 科罗拉多造山运动是发生在科罗拉多及其周边地区的一次造山事件。</td></tr><tr><td>行动 2 观察 2 <br/> 行动 3 观察 3 行动 4</td><td>查找 [东段] <br/> （结果 1 / 1）东段延伸至高地平原，被称为中平原造山运动。 <br/> 搜索 [高地平原] <br/> 高地平原指两个不同的地理区域之一： <br/> 搜索 [高地平原（美国）]</td></tr><tr><td>观察 4 <br/> 行动 5</td><td>高地平原是大平原的一个子区域。从东到西，高地平原的海拔从约 1,800 英尺上升到 7,000 英尺（550 至 2,130 米）。[3] <br/> 结束 [1,800 至 7,000 英尺]</td></tr><tr><td>问题 <br/> 行动 1</td><td>音乐家兼讽刺作家艾莉·格茨写了一首关于《辛普森一家》角色米尔豪斯的歌，马特·格勒宁是以谁的名字为该角色命名的？搜索 [米尔豪斯]</td></tr><tr><td>观察 1</td><td>米尔豪斯·墨索里尼·范·霍滕是福克斯动画系列剧《辛普森一家》中的常驻角色，由帕梅拉·海登配音，马特·格勒宁创作。</td></tr><tr><td>行动 2 观察 2 <br/> 行动 3</td><td>查找 [以...命名] <br/> （结果 1 / 1）米尔豪斯是以美国总统理查德·尼克松的名字命名的，尼克松的中间名是米尔豪斯。 <br/> 结束 [理查德·尼克松]</td></tr><tr><td>问题</td><td>哪部纪录片是关于芬兰摇滚乐队的，《亚当·克莱顿·鲍威尔》还是《塞马湖手势》？</td></tr><tr><td>行动 1 观察 1</td><td>搜索 [亚当·克莱顿·鲍威尔] <br/> 未找到 [亚当·克莱顿·鲍威尔]。相似结果：['亚当·克莱顿·鲍威尔三世', '第七大道（曼哈顿）', '小亚当·克莱顿·鲍威尔州办公大楼', '伊莎贝尔·华盛顿·鲍威尔', '亚当·鲍威尔', '亚当·克莱顿·鲍威尔（电影）', '詹卡洛·埃斯波西托']。</td></tr><tr><td>行动 2 观察 2 <br/> 行动 3</td><td>搜索 [亚当·克莱顿·鲍威尔（电影）] <br/> 《亚当·克莱顿·鲍威尔》是一部 1989 年由理查德·基尔伯格执导的美国纪录片。该片讲述了极具影响力的非裔美国政治家小亚当·克莱顿·鲍威尔的兴衰。[3][4] 此后作为 PBS 系列剧《美国印象》的一部分播出。 <br/> 结束 [《塞马湖手势》]</td></tr><tr><td>问题 <br/> 行动 1</td><td>尼古拉斯·雷和伊利亚·卡赞有什么共同职业？搜索 [尼古拉斯·雷]</td></tr><tr><td>观察 1</td><td>尼古拉斯·雷（原名小雷蒙德·尼古拉斯·金兹尔，1911年8月7日 - 1979年6月16日）是美国电影导演、编剧和演员，以 1955 年的电影《无因的反叛》最为著名。</td></tr><tr><td>行动 2 观察 2</td><td>搜索 [伊利亚·卡赞] <br/> 伊利亚·卡赞是美国电影和戏剧导演、制片人、编剧及演员。</td></tr></tbody></table><p><span>Continued on next page</span>
<span>续下页</span></p><table><tr><td></td><td>Hotpot QA Prompts - Continued from previous page</td></tr><tr><td>Action 3 <br> Question</td><td>Finish [director, screenwriter, actor] <br> Which magazine was started first Arthur's Magazine or First for Women?</td></tr><tr><td>Action 1 <br> Observation 1 <br> Action 2</td><td>Search [Arthur's Magazine] <br> Arthur's Magazine (1844-1846) was an American literary periodical published in Philadelphia in the 19th century. <br> Search[First for Women]</td></tr><tr><td>Observation 2 <br> Action 3 <br> Question Action 1</td><td>First for Women is a woman's magazine published by Bauer Media Group in the USA. [1] The magazine was started in 1989. <br> Finish[Arthur's Magazine] <br> Were Pavel Urysohn and Leonid Levin known for the same type of work? Search [Pavel Urysohn]</td></tr><tr><td>Observation 1 <br> Action 2 Observation 2 <br> Action 3</td><td>Pavel Samuilovich Urysohn (February 3, 1898 - August 17, 1924) was a Soviet mathematician who is best known for his contributions in dimension theory. Search [Leonid Levin] <br> Leonid Anatolievich Levin is a Soviet-American mathematician and computer scientist. <br> Finish [yes]</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>Question <br> Thought</td><td>What is the elevation range for the area that the eastern sector of the Colorado orogeny extends into? <br> Let's think step by step. The eastern sector of Colorado orogeny extends <br> into the High Plains. High Plains rise in elevation from around 1,800 to</td></tr><tr><td>Answer <br> Question <br> Thought <br> Answer</td><td>7,000 ft, so the answer is 1,800 to 7,000 ft. <br> 1,800 to 7,000 ft <br> Musician and satirist Allie Goertz wrote a song about the "The Simpsons" character Milhouse, who Matt Groening named after who? <br> Let's think step by step. Milhouse was named after U.S. president Richard Nixon, so the answer is Richard Nixon. <br> Richard Nixon</td></tr><tr><td>Question <br> Thought <br> Answer</td><td>Which documentary is about Finnish rock groups, Adam Clayton Powell or The Saimaa Gesture? <br> Let's think step by step. Adam Clayton Powell (film) is a documentary about an African-American politician, not Finnish rock groups. So the documentary about Finnish rock groups must instead be The Saimaa Gesture. <br> The Saimaa Gesture</td></tr><tr><td>Question Thought <br> Answer</td><td>What profession does Nicholas Ray and Elia Kazan have in common? <br> Let's think step by step. Professions of Nicholas Ray are director, <br> screenwriter, and actor. Professions of Elia Kazan are director, producer, screenwriter, and actor. So profession Nicholas Ray and Elia Kazan have in common is director, screenwriter, and actor. <br> director, screenwriter, actor</td></tr><tr><td>Question Thought <br> Answer</td><td>Which magazine was started first Arthur's Magazine or First for Women? Let's think step by step. Arthur's Magazine was started in 1844. First for Women was started in 1989. 1844 (Arthur's Magazine) < 1989 (First for Women), so Arthur's Magazine was started first. <br> Arthur's Magazine</td></tr><tr><td>Question Thought <br> Answer</td><td>Were Pavel Urysohn and Leonid Levin known for the same type of work? Let's think step by step. Pavel Urysohn is a mathematician. Leonid Levi is a mathematician and computer scientist. So Pavel Urysohn and Leonid Levin have the same type of work. <br> Yes</td></tr><tr><td colspan="2">ReAct</td></tr><tr><td>Question</td><td>What is the elevation range for the area that the eastern sector of the Colorado orogeny extends into?</td></tr><tr><td>Thought 1</td><td>I need to search Colorado orogeny, find the area that the eastern sector of the Colorado orogeny extends into, then find the elevation range of the area.</td></tr><tr><td>Action 1 Observation 1 <br> Thought 2</td><td>Search [Colorado orogeny] <br> The Colorado orogeny was an episode of mountain building (an orogeny) in Colorado and surrounding areas. <br> It does not mention the eastern sector. So I need to look up eastern sector.</td></tr><tr><td>Action 2 Observation 2 <br> Thought 3 <br> Action 3</td><td>Lookup [eastern sector] <br> (Result 1 / 1) The eastern sector extends into the High Plains and is called the Central Plains orogeny. <br> The eastern sector of Colorado orogeny extends into the High Plains. So I need to search High Plains and find its elevation range. <br> Search [High Plains]</td></tr><tr><td>Observation 3 <br> Thought 4 <br> Action 4</td><td>High Plains refers to one of two distinct land regions <br> I need to instead search High Plains (United States). <br> Search[High Plains (United States)]</td></tr></table>
<table><tbody><tr><td></td><td>Hotpot QA 提示词 - 接上页</td></tr><tr><td>动作 3 <br/> 问题</td><td>完成 [导演, 编剧, 演员] <br/> Arthur's Magazine 和 First for Women 哪本杂志创刊更早？</td></tr><tr><td>动作 1 <br/> 观察 1 <br/> 动作 2</td><td>搜索 [Arthur's Magazine] <br/> Arthur's Magazine (1844-1846) 是 19 世纪在费城出版的一份美国文学期刊。 <br/> 搜索 [First for Women]</td></tr><tr><td>观察 2 <br/> 动作 3 <br/> 问题 动作 1</td><td>First for Women 是由鲍尔媒体集团在美国出版的一本女性杂志。[1] 该杂志创刊于 1989 年。 <br/> 完成 [Arthur's Magazine] <br/> Pavel Urysohn 和 Leonid Levin 是因同类型的工作而闻名吗？搜索 [Pavel Urysohn]</td></tr><tr><td>观察 1 <br/> 动作 2 观察 2 <br/> 动作 3</td><td>Pavel Samuilovich Urysohn (1898年2月3日 - 1924年8月17日) 是一位苏联数学家，以在维数理论方面的贡献而闻名。搜索 [Leonid Levin] <br/> Leonid Anatolievich Levin 是一位苏联裔美国数学家和计算机科学家。 <br/> 完成 [是]</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>问题 <br/> 想法</td><td>科罗拉多造山带东段延伸区域的海拔范围是多少？ <br/> 让我们一步步思考。科罗拉多造山带的东段延伸 <br/> 至高地平原。高地平原的海拔从大约 1,800 上升至</td></tr><tr><td>回答 <br/> 问题 <br/> 想法 <br/> 回答</td><td>7,000 英尺，所以答案是 1,800 到 7,000 英尺。 <br/> 1,800 到 7,000 英尺 <br/> 音乐家兼讽刺作家 Allie Goertz 写了一首关于《辛普森一家》角色 Milhouse 的歌，马特·格勒宁是以谁的名字为他命名的？ <br/> 让我们一步步思考。Milhouse 是以美国总统理查德·尼克松的名字命名的，所以答案是理查德·尼克松。 <br/> 理查德·尼克松</td></tr><tr><td>问题 <br/> 想法 <br/> 回答</td><td>哪部纪录片是关于芬兰摇滚乐队的，是《Adam Clayton Powell》还是《The Saimaa Gesture》？ <br/> 让我们一步步思考。《Adam Clayton Powell》（电影）是一部关于非裔美国政治家的纪录片，不是关于芬兰摇滚乐队的。因此，关于芬兰摇滚乐队的纪录片必然是《The Saimaa Gesture》。 <br/> The Saimaa Gesture</td></tr><tr><td>问题 想法 <br/> 回答</td><td>Nicholas Ray 和 Elia Kazan 有什么共同职业？ <br/> 让我们一步步思考。Nicholas Ray 的职业是导演、 <br/> 编剧和演员。Elia Kazan 的职业是导演、制片人、编剧和演员。所以 Nicholas Ray 和 Elia Kazan 的共同职业是导演、编剧和演员。 <br/> 导演, 编剧, 演员</td></tr><tr><td>问题 想法 <br/> 回答</td><td>Arthur's Magazine 和 First for Women 哪本杂志创刊更早？让我们一步步思考。Arthur's Magazine 创刊于 1844 年。First for Women 创刊于 1989 年。1844 (Arthur's Magazine) < 1989 (First for Women)，所以 Arthur's Magazine 创刊更早。 <br/> Arthur's Magazine</td></tr><tr><td>问题 想法 <br/> 回答</td><td>Pavel Urysohn 和 Leonid Levin 是因同类型的工作而闻名吗？让我们一步步思考。Pavel Urysohn 是一位数学家。Leonid Levin 是一位数学家和计算机科学家。所以 Pavel Urysohn 和 Leonid Levin 从事同类型的工作。 <br/> 是</td></tr><tr><td colspan="2">ReAct</td></tr><tr><td>问题</td><td>科罗拉多造山带东段延伸区域的海拔范围是多少？</td></tr><tr><td>想法 1</td><td>我需要搜索科罗拉多造山带，找到科罗拉多造山带东段延伸的区域，然后找到该区域的海拔范围。</td></tr><tr><td>动作 1 观察 1 <br/> 想法 2</td><td>搜索 [科罗拉多造山带] <br/> 科罗拉多造山运动是科罗拉多州及周边地区的一次造山活动。 <br/> 其中没有提到东段。所以我需要查找东段。</td></tr><tr><td>动作 2 观察 2 <br/> 想法 3 <br/> 动作 3</td><td>查找 [东段] <br/> (结果 1 / 1) 东段延伸至高地平原，被称为中平原造山带。 <br/> 科罗拉多造山带的东段延伸至高地平原。所以我需要搜索高地平原并找到其海拔范围。 <br/> 搜索 [高地平原]</td></tr><tr><td>观察 3 <br/> 想法 4 <br/> 动作 4</td><td>High Plains 指的是两个不同陆地区域之一 <br/> 我需要改为搜索 High Plains (United States)。 <br/> Search[High Plains (United States)]</td></tr></tbody></table><p><span>Continued on next page</span>
<span>续下页</span></p><table><tr><td></td><td>Hotpot QA Prompts - Continued from previous page</td></tr><tr><td>Observation 4 <br> Thought 5 <br> Action 5</td><td>The High Plains are a subregion of the Great Plains. From east to west, the High Plains rise in elevation from around 1,800 to 7,000 ft (550 to 2,130 m). [3] <br> High Plains rise in elevation from around 1,800 to 7,000 ft, so the answer is 1,800 to 7,000 ft. <br> Finish [1,800 to 7,000 ft] <br> Musician and satirist Allie Goertz wrote a song about the "The Simpsons"</td></tr><tr><td>Question <br> Thought 1 <br> Action 1 Observation 1</td><td>character Milhouse, who Matt Groening named after who? <br> The question simplifies to "The Simpsons" character Milhouse is named after who. I only need to search Milhouse and find who it is named after. Search [Milhouse] <br> Milhouse Mussolini Van Houten is a recurring character in the Fox animated <br> television series The Simpsons voiced by Pamela Hayden and created by Matt <br> Groening.</td></tr><tr><td>Thought 2</td><td>The paragraph does not tell who Milhouse is named after, maybe I can look up <br> "named after".</td></tr><tr><td>Action 2 <br> Observation 2 <br> Thought 3</td><td>Lookup [named after] <br> (Result 1 / 1) Milhouse was named after U.S. president Richard Nixon, whose <br> middle name was Milhous. <br> Milhouse was named after U.S. president Richard Nixon, so the answer is <br> Richard Nixon.</td></tr><tr><td>Action 3 <br> Question</td><td>Finish[Richard Nixon] <br> Which documentary is about Finnish rock groups, Adam Clayton Powell or The Saimaa Gesture?</td></tr><tr><td>Thought 1 <br> Action 1</td><td>I need to search Adam Clayton Powell and The Saimaa Gesture, and find which documentary is about Finnish rock groups.</td></tr><tr><td>Observation 1</td><td>Search [Adam Clayton Powell] <br> Could not find [Adam Clayton Powell]. Similar: ['Adam Clayton Powell III', 'Seventh Avenue (Manhattan)', 'Adam Clayton Powell Jr. State Office Building', 'Isabel Washington Powell', 'Adam Powell', 'Adam Clayton Powell (film)', 'Giancarlo Esposito'].</td></tr><tr><td>Thought 2 Action 2 Observation 2 <br> Thought 3</td><td>To find the documentary, I can search Adam Clayton Powell (film). Search [Adam Clayton Powell (film)] <br> Adam Clayton Powell is a 1989 American documentary film directed by Richard Kilberg. The film is about the rise and fall of influential African-American politician Adam Clayton Powell Jr.[3][4] It was later aired as part of the PBS series The American Experience. <br> Adam Clayton Powell (film) is a documentary about an African-American politician, not Finnish rock groups. So the documentary about Finnish rock groups must instead be The Saimaa Gesture.</td></tr><tr><td>Action 3 <br> Question Thought 1 <br> Action 1</td><td>Finish [The Saimaa Gesture] <br> What profession does Nicholas Ray and Elia Kazan have in common? <br> I need to search Nicholas Ray and Elia Kazan, find their professions, then find the profession they have in common. <br> Search [Nicholas Ray]</td></tr><tr><td>Observation 1</td><td>Nicholas Ray (born Raymond Nicholas Kienzle Jr., August 7, 1911 - June 16, 1979) was an American film director, screenwriter, and actor best known for the 1955 film Rebel Without a Cause.</td></tr><tr><td>Thought 2 <br> Action 2</td><td>Professions of Nicholas Ray are director, screenwriter, and actor. I need to search Elia Kazan next and find his professions. <br> Search [Elia Kazan]</td></tr><tr><td>Observation 2</td><td>Elia Kazan was an American film and theatre director, producer, screenwriter <br> and actor.</td></tr><tr><td>Thought 3 <br> Action 3</td><td>Professions of Elia Kazan are director, producer, screenwriter, and actor. <br> So profession Nicholas Ray and Elia Kazan have in common is director, screenwriter, and actor. <br> Finish [director, screenwriter, actor]</td></tr><tr><td>Question <br> Thought 1</td><td>Which magazine was started first Arthur's Magazine or First for Women? <br> I need to search Arthur's Magazine and First for Women, and find which was started first.</td></tr><tr><td>Action 1 <br> Observation 1 <br> Thought 2</td><td>Search [Arthur's Magazine] <br> Arthur's Magazine (1844-1846) was an American literary periodical published <br> in Philadelphia in the 19th century. <br> Arthur's Magazine was started in 1844. I need to search First for Women next.</td></tr><tr><td>Action 2</td><td>Search [First for Women]</td></tr><tr><td>Observation 2 <br> Thought 3 <br> Action 3</td><td>First for Women is a woman's magazine published by Bauer Media Group in the USA. [1] The magazine was started in 1989. <br> First for Women was started in 1989. 1844 (Arthur's Magazine) < 1989 (First for Women), so Arthur's Magazine was started first. <br> Finish [Arthur's Magazine]</td></tr><tr><td>Question Thought 1 <br> Action 1</td><td>Were Pavel Urysohn and Leonid Levin known for the same type of work? <br> I need to search Pavel Urysohn and Leonid Levin, find their types of work, then find if they are the same. <br> Search [Pavel Urysohn]</td></tr></table>
<table><tbody><tr><td></td><td>Hotpot QA 提示词 - 接上页</td></tr><tr><td>观察 4 <br/> 思考 5 <br/> 行动 5</td><td>高地平原是大大平原的一个次级区域。自东向西，高地平原的海拔从约 1,800 英尺升至 7,000 英尺（550 至 2,130 米）。[3] <br/> 高地平原海拔从约 1,800 英尺升至 7,000 英尺，因此答案是 1,800 到 7,000 英尺。 <br/> 完成 [1,800 到 7,000 英尺] <br/> 音乐家兼讽刺作家 Allie Goertz 写了一首关于《辛普森一家》的歌</td></tr><tr><td>问题 <br/> 思考 1 <br/> 行动 1 观察 1</td><td>角色米尔豪斯，马特·格勒宁是以谁的名字命名的？ <br/> 问题简化为《辛普森一家》中的角色米尔豪斯是以谁的名字命名的。我只需要搜索米尔豪斯并找出其命名来源。搜索 [Milhouse] <br/> 米尔豪斯·墨索里尼·范霍滕是福克斯动画 <br/> 电视剧《辛普森一家》中的常驻角色，由帕梅拉·海登配音，马特·格勒宁 <br/> 创作。</td></tr><tr><td>思考 2</td><td>段落中没有说明米尔豪斯是以谁的名字命名的，也许我可以查找 <br/> “命名自”。</td></tr><tr><td>行动 2 <br/> 观察 2 <br/> 思考 3</td><td>查找 [named after] <br/> （结果 1 / 1）米尔豪斯是以美国总统理查德·尼克松的名字命名的，他的 <br/> 中间名是米尔豪斯。 <br/> 米尔豪斯是以美国总统理查德·尼克松的名字命名的，所以答案是 <br/> 理查德·尼克松。</td></tr><tr><td>行动 3 <br/> 问题</td><td>完成 [理查德·尼克松] <br/> 哪部纪录片是关于芬兰摇滚乐队的，《亚当·克莱顿·鲍威尔》还是《塞马湖姿态》？</td></tr><tr><td>思考 1 <br/> 行动 1</td><td>我需要搜索亚当·克莱顿·鲍威尔和《塞马湖姿态》，并找出哪部纪录片是关于芬兰摇滚乐队的。</td></tr><tr><td>观察 1</td><td>搜索 [Adam Clayton Powell] <br/> 无法找到 [Adam Clayton Powell]。相似项：['Adam Clayton Powell III', 'Seventh Avenue (Manhattan)', 'Adam Clayton Powell Jr. State Office Building', 'Isabel Washington Powell', 'Adam Powell', 'Adam Clayton Powell (film)', 'Giancarlo Esposito']。</td></tr><tr><td>思考 2 行动 2 观察 2 <br/> 思考 3</td><td>为了找到这部纪录片，我可以搜索 Adam Clayton Powell (film)。搜索 [Adam Clayton Powell (film)] <br/> 《亚当·克莱顿·鲍威尔》是一部 1989 年的美国纪录片，由理查德·基尔伯格执导。该片讲述了有影响力的非裔美国政治家小亚当·克莱顿·鲍威尔的兴衰。[3][4] 该片后来作为 PBS 系列节目《美国印象》的一部分播出。 <br/> 《亚当·克莱顿·鲍威尔》（电影）是一部关于非裔美国政治家的纪录片，不是关于芬兰摇滚乐队的。因此，关于芬兰摇滚乐队的纪录片必然是《塞马湖姿态》。</td></tr><tr><td>行动 3 <br/> 问题 思考 1 <br/> 行动 1</td><td>完成 [The Saimaa Gesture] <br/> 尼古拉斯·雷和伊利亚·卡赞有什么共同职业？ <br/> 我需要搜索尼古拉斯·雷和伊利亚·卡赞，找到他们的职业，然后找到他们的共同职业。 <br/> 搜索 [Nicholas Ray]</td></tr><tr><td>观察 1</td><td>尼古拉斯·雷（原名 Raymond Nicholas Kienzle Jr.，1911年8月7日 - 1979年6月16日）是美国电影导演、编剧和演员，以 1955 年的电影《无因的反叛》而闻名。</td></tr><tr><td>思考 2 <br/> 行动 2</td><td>尼古拉斯·雷的职业是导演、编剧和演员。接下来我需要搜索伊利亚·卡赞并找到他的职业。 <br/> 搜索 [Elia Kazan]</td></tr><tr><td>观察 2</td><td>伊利亚·卡赞是美国电影和戏剧导演、制片人、编剧 <br/> 和演员。</td></tr><tr><td>思考 3 <br/> 行动 3</td><td>伊利亚·卡赞的职业是导演、制片人、编剧和演员。 <br/> 因此尼古拉斯·雷和伊利亚·卡赞共同的职业是导演、编剧和演员。 <br/> 完成 [导演, 编剧, 演员]</td></tr><tr><td>问题 <br/> 思考 1</td><td>《亚瑟杂志》和《女性首选》哪本创刊更早？ <br/> 我需要搜索《亚瑟杂志》和《女性首选》，找出哪本创刊更早。</td></tr><tr><td>行动 1 <br/> 观察 1 <br/> 思考 2</td><td>搜索 [Arthur's Magazine] <br/> 《亚瑟杂志》（1844-1846）是 19 世纪在费城出版的 <br/> 美国文学期刊。 <br/> 《亚瑟杂志》创刊于 1844 年。接下来我需要搜索《女性首选》。</td></tr><tr><td>行动 2</td><td>搜索 [First for Women]</td></tr><tr><td>观察 2 <br/> 思考 3 <br/> 行动 3</td><td>First for Women 是由美国鲍尔媒体集团出版的女性杂志。[1] 该杂志创刊于 1989 年。<br/> First for Women 创刊于 1989 年。1844 年（Arthur's Magazine）< 1989 年（First for Women），因此 Arthur's Magazine 创刊更早。<br/> 结束 [Arthur's Magazine]</td></tr><tr><td>问题 思考 1 <br/> 行动 1</td><td>Pavel Urysohn 和 Leonid Levin 是否因同类工作而闻名？<br/> 我需要搜索 Pavel Urysohn 和 Leonid Levin，找到他们的工作类型，然后判断是否相同。<br/> 搜索 [Pavel Urysohn]</td></tr></tbody></table><table><tr><td>Observation 1</td><td>Pavel Samuilovich Urysohn (February 3, 1898 - August 17, 1924) was a Soviet <br> mathematician who is best known for his contributions in dimension theory.</td></tr><tr><td>Thought 2</td><td>Pavel Urysohn is a mathematician. I need to search Leonid Levin next and <br> find its type of work.</td></tr><tr><td>Action 2</td><td>Search [Leonid Levin]</td></tr><tr><td>Observation 2</td><td>Leonid Anatolievich Levin is a Soviet-American mathematician and computer scientist.</td></tr><tr><td>Thought 3</td><td>Leonid Levin is a mathematician and computer scientist. So Pavel Urysohn and Leonid Levin have the same type of work.</td></tr><tr><td>Action 3</td><td>Finish [yes]</td></tr></table>
<table><tbody><tr><td>观察 1</td><td>帕维尔·萨穆伊洛维奇·乌雷松（1898年2月3日-1924年8月17日）是一位苏联<br/>数学家，以其在维数理论方面的贡献而闻名。</td></tr><tr><td>思考 2</td><td>帕维尔·乌雷松是一位数学家。我接下来需要搜索列昂尼德·列文并<br/>寻找他的工作类型。</td></tr><tr><td>操作 2</td><td>搜索 [Leonid Levin]</td></tr><tr><td>观察 2</td><td>列昂尼德·阿纳托利耶维奇·列文是一位苏联裔美国数学家和计算机科学家。</td></tr><tr><td>思考 3</td><td>列昂尼德·列文是一位数学家和计算机科学家。因此帕维尔·乌雷松和列昂尼德·列文的工作类型相同。</td></tr><tr><td>操作 3</td><td>完成 [是]</td></tr></tbody></table><h3 id='c2-fever'><span>C.2 Fever</span></h3><h3 id='c2-发热'><span>C.2 发热</span></h3><table><tr><td></td><td>FEVER Prompts</td></tr><tr><td>Original</td><td>Determine if there is Observation that SUPPORTS or REFUTES a Claim, or if there is NOT ENOUGH INFORMATION.</td></tr><tr><td>Claim Answer</td><td>Nikolaj Coster-Waldau worked with the Fox Broadcasting Company. SUPPORTS</td></tr><tr><td>Claim Answer</td><td>Stranger Things is set in Bloomington, Indiana. REFUTES</td></tr><tr><td>Claim Answer</td><td>Beautiful reached number two on the Billboard Hot 100 in 2003. NOT ENOUGH INFO</td></tr><tr><td></td><td>Determine if there is Observation that SUPPORTS or REFUTES a Claim, or if there is NOT ENOUGH INFORMATION.</td></tr><tr><td>Claim Action2 Observation 1</td><td>Nikolaj Coster-Waldau worked with the Fox Broadcasting Company. Search[Nikolaj Coster-Waldau] <br> Nikolaj William Coster-Waldau (born 27 July 1970) is a Danish actor and producer. He graduated from the Danish National School of Performing Arts in Copenhagen in 1993, [1] and had his breakthrough role in Denmark with the film Nightwatch (1994). He played Jaime Lannister in the HBO fantasy drama series Game of Thrones, for which he received two Primetime Emmy Award nominations for Outstanding Supporting Actor in a Drama Series.. Coster-Waldau has appeared in numerous films in his native Denmark and Scandinavia, including Headhunters (2011) and A Thousand Times Good Night (2013). In the U.S, his debut film role was in the war film Black Hawk Down (2001), playing Medal of Honor recipient Gary Gordon.[2] He then played a detective in the short-lived Fox television series New Amsterdam (2008), and appeared in the 2009 Fox television film Virtuality, originally intended as a pilot.</td></tr><tr><td>Action 2</td><td>Finish [SUPPORTS]</td></tr><tr><td></td><td></td></tr><tr><td>Claim <br> Action 1</td><td>Stranger Things is set in Bloomington, Indiana. <br> Search [Stranger Things]</td></tr><tr><td>Observation 1 <br> Action 2</td><td>Stranger Things is an American science fiction horror drama television series created by the Duffer Brothers. Set in the 1980s, primarily in the fictional town of Hawkins, Indiana, the series centers on a number of mysteries and supernatural events occurring around the town and their impact on an ensemble of child and adult characters. <br> Finish [REFUTES]</td></tr><tr><td></td><td></td></tr><tr><td>Claim <br> Action 1</td><td>Beautiful reached number two on the Billboard Hot 100 in 2003. <br> Search [Beautiful]</td></tr><tr><td>Observation 1</td><td>Could not find [Beautiful]. Similar: ['Beautiful', 'Beautiful', Beautiful', 'A Beautiful Mind (film)', 'Beautiful (Christina Aguilera song)', 'Life Is Beautiful'].</td></tr><tr><td>Action 2 Observation 2</td><td>Search [Beautiful (Christina Aguilera song) <br> "Beautiful" is a song recorded by American singer Christina Aguilera for her fourth studio album, Stripped (2002).</td></tr><tr><td>Action 3 <br> Observation 3 <br> Action 4</td><td>Lookup [Billboard Hot 100] <br> (Result 1 / 3) The song peaked at number two on the Billboard Hot 100 in the United States, where it was certified Gold for 500,000 units shipped. Finish[NOT ENOUGH INFO]</td></tr><tr><td>CoT</td><td>Determine if there is Observation that SUPPORTS or REFUTES a Claim, or if there is NOT ENOUGH INFORMATION.</td></tr><tr><td>Claim Thought <br> Answer</td><td>Nikolaj Coster-Waldau worked with the Fox Broadcasting Company. <br> Nikolaj William Coster-Waldau appeared in the 2009 Fox television film <br> Virtuality, so he has worked with the Fox Broadcasting Company. <br> SUPPORTS</td></tr><tr><td>Claim Thought <br> Answer</td><td>Stranger Things is set in Bloomington, Indiana. <br> Stranger Things is in the fictional town of Hawkins, Indiana, not in Bloomington, Indiana. <br> REFUTES</td></tr></table>
<table><tbody><tr><td></td><td>FEVER 提示词</td></tr><tr><td>原文</td><td>判定是否存在支持 (SUPPORTS) 或反驳 (REFUTES) 某项主张的观察结果，或者是否存在信息不足 (NOT ENOUGH INFORMATION)。</td></tr><tr><td>主张 答案</td><td>尼古拉·科斯特-瓦尔道曾与福斯广播公司合作。支持</td></tr><tr><td>主张 答案</td><td>《怪奇物语》的背景设定在印第安纳州的布卢明顿。反驳</td></tr><tr><td>主张 答案</td><td>《Beautiful》在 2003 年登上了公告牌百强单曲榜第二名。信息不足</td></tr><tr><td></td><td>判定是否存在支持 (SUPPORTS) 或反驳 (REFUTES) 某项主张的观察结果，或者是否存在信息不足 (NOT ENOUGH INFORMATION)。</td></tr><tr><td>主张 操作2 观察1</td><td>尼古拉·科斯特-瓦尔道曾与福斯广播公司合作。搜索[尼古拉·科斯特-瓦尔道] <br/> 尼古拉·威廉·科斯特-瓦尔道（生于 1970 年 7 月 27 日）是丹麦演员和制片人。他于 1993 年毕业于哥本哈根的丹麦国家表演艺术学院，[1] 并凭借电影《看夜守》(1994) 在丹麦取得了突破。他在 HBO 奇幻剧集《权力的游戏》中饰演詹姆·兰尼斯特，并因此两次获得黄金时段艾美奖剧情类最佳男配角提名。科斯特-瓦尔道曾出演过家乡丹麦及斯堪的纳维亚的多部电影，包括《猎头游戏》(2011) 和《一千次晚安》(2013)。在美国，他的首部电影作品是战争片《黑鹰坠落》(2001)，饰演荣誉勋章获得者加里·戈登。[2] 随后，他在福斯电视短剧《永恒传说》(2008) 中饰演一名侦探，并出演了 2009 年的福斯电视电影《虚拟现实》，该片最初拟作为试播集。</td></tr><tr><td>操作 2</td><td>完成 [支持]</td></tr><tr><td></td><td></td></tr><tr><td>主张 <br/> 操作 1</td><td>《怪奇物语》的背景设定在印第安纳州的布卢明顿。 <br/> 搜索 [怪奇物语]</td></tr><tr><td>观察 1 <br/> 操作 2</td><td>《怪奇物语》是由达菲兄弟创作的美国科幻恐怖剧集。该剧背景设定在 20 世纪 80 年代，主要发生在一个虚构的印第安纳州小镇霍金斯，围绕该镇发生的一系列神秘和超自然事件及其对一群孩子和成人角色的影响展开。 <br/> 完成 [反驳]</td></tr><tr><td></td><td></td></tr><tr><td>主张 <br/> 操作 1</td><td>《Beautiful》在 2003 年登上了公告牌百强单曲榜第二名。 <br/> 搜索 [Beautiful]</td></tr><tr><td>观察 1</td><td>无法找到 [Beautiful]。相似项：['Beautiful', 'Beautiful', Beautiful', '美丽心灵 (电影)', 'Beautiful (克里斯蒂娜·阿奎莱拉歌曲)', '美丽人生']。</td></tr><tr><td>操作 2 观察 2</td><td>搜索 [Beautiful (克里斯蒂娜·阿奎莱拉歌曲) <br/> “Beautiful”是美国歌手克里斯蒂娜·阿奎莱拉为其第四张录音室专辑《裸》(2002) 录制的一首歌曲。</td></tr><tr><td>操作 3 <br/> 观察 3 <br/> 操作 4</td><td>查找 [公告牌百强单曲榜] <br/> (结果 1 / 3) 这首歌在美国公告牌百强单曲榜上最高排名第二，因出货量达 50 万张被认证为金唱片。完成[信息不足]</td></tr><tr><td>思维链</td><td>判定是否存在支持 (SUPPORTS) 或反驳 (REFUTES) 某项主张的观察结果，或者是否存在信息不足 (NOT ENOUGH INFORMATION)。</td></tr><tr><td>主张 思考 <br/> 答案</td><td>尼古拉·科斯特-瓦尔道曾与福斯广播公司合作。 <br/> 尼古拉·威廉·科斯特-瓦尔道曾出演 2009 年福斯电视电影 <br/> 《虚拟现实》，因此他曾与福斯广播公司合作。 <br/> 支持</td></tr><tr><td>主张 思考 <br/> 答案</td><td>《怪奇物语》的背景设定在印第安纳州的布卢明顿。 <br/> 《怪奇物语》设定在虚构的印第安纳州小镇霍金斯，而非印第安纳州布卢明顿。 <br/> 反驳</td></tr></tbody></table><p><span>Continued on next page</span>
<span>续下页</span></p><table><tr><td></td><td>Fever Prompts - Continued from previous page</td></tr><tr><td>Claim Thought <br> Answer</td><td>Beautiful reached number two on the Billboard Hot 100 in 2003. <br> The song peaked at number two on the Billboard Hot 100 in the United States, but not sure if it was in 2003. <br> NOT ENOUGH INFO</td></tr><tr><td>ReAct</td><td>Determine if there is Observation that SUPPORTS or REFUTES a Claim, or if there is NOT ENOUGH INFORMATION.</td></tr><tr><td colspan="2"></td></tr><tr><td>Claim Thought 1</td><td>Nikolaj Coster-Waldau worked with the Fox Broadcasting Company. <br> I need to search Nikolaj Coster-Waldau and find if he has worked with the Fox Broadcasting Company.</td></tr><tr><td>Action 1 Observation 1</td><td>Search [Nikolaj Coster-Waldau] <br> Nikolaj William Coster-Waldau (born 27 July 1970) is a Danish actor and producer. He graduated from the Danish National School of Performing Arts in Copenhagen in 1993, [1] and had his breakthrough role in Denmark with the film Nightwatch (1994). He played Jaime Lannister in the HBO fantasy drama series Game of Thrones, for which he received two Primetime Emmy Award nominations for Outstanding Supporting Actor in a Drama Series.. Coster-Waldau has appeared in numerous films in his native Denmark and Scandinavia, including Headhunters (2011) and A Thousand Times Good Night (2013). In the U.S, his debut film role was in the war film Black Hawk Down (2001), playing Medal of Honor recipient Gary Gordon.[2] He then played a detective in the short-lived Fox television series New Amsterdam (2008), and appeared in the 2009 Fox television film Virtuality, originally intended as a pilot.</td></tr><tr><td>Thought 2 <br> Action 2</td><td>Because he "appeared in the 2009 Fox television film Virtuality", he should have worked with the Fox Broadcasting Company. <br> Finish [SUPPORTS]</td></tr><tr><td></td><td></td></tr><tr><td>Claim Thought 1</td><td>Stranger Things is set in Bloomington, Indiana. <br> I should search for Stranger Things, and see if it is set in Bloomington, Indiana.</td></tr><tr><td>Action 1</td><td>Search [Stranger Things]</td></tr><tr><td>Observation 1</td><td>Stranger Things is an American science fiction horror drama television <br> series created by the Duffer Brothers. Set in the 1980s, primarily in <br> the fictional town of Hawkins, Indiana, the series centers on a number of <br> mysteries and supernatural events occurring around the town and their impact <br> on an ensemble of child and adult characters.</td></tr><tr><td>Thought 2</td><td>The observation says that it is set in a "fictional town of Hawkins, Indiana", so it is not set in Bloomington.</td></tr><tr><td>Action 2</td><td>Finish [REFUTES]</td></tr><tr><td>Claim</td><td>Beautiful reached number two on the Billboard Hot 100 in 2003.</td></tr><tr><td>Thought 1</td><td>I need to search the song Beautiful and find if it reached number two on the Billboard Hot 100 in 2003.</td></tr><tr><td>Action 1</td><td>Search [Beautiful]</td></tr><tr><td>Observation 1</td><td>Could not find [Beautiful]. Similar: ['Beautiful', 'Beautiful, Beautiful', 'A Beautiful Mind (film)', 'Beautiful (Christina Aguilera song)', 'Life Is Beautiful'].</td></tr><tr><td>Thought 2</td><td>From suggestions, I should search "Beautiful (Christina Aguilera song)" to find the song.</td></tr><tr><td>Action 2</td><td>Search[Beautiful (Christina Aguilera song)]</td></tr><tr><td>Observation 2</td><td>"Beautiful" is a song recorded by American singer Christina Aguilera for her fourth studio album, Stripped (2002).</td></tr><tr><td>Thought 3</td><td>It does not mention Billboard, so I need to look up "Billboard Hot 100" to find if it reached number two on it in 2003.</td></tr><tr><td>Action 3</td><td>Lookup [Billboard Hot 100]</td></tr><tr><td>Observation 3</td><td>(Result 1 / 3) The song peaked at number two on the Billboard Hot 100 in the United States, where it was certified Gold for 500,000 units shipped.</td></tr><tr><td>Thought 4</td><td>It only says the song peaked at number two on the Billboard Hot 100, but not if it was in 2003. I am not sure if this claim is true or not.</td></tr><tr><td>Action 4</td><td>Finish [NOT ENOUGH INFO]</td></tr></table>
<table><tbody><tr><td></td><td>Fever 提示词 - 续前页</td></tr><tr><td>主张 思维 <br/> 回答</td><td>《Beautiful》在 2003 年位列公告牌百强单曲榜第二名。 <br/> 该曲在美国公告牌百强单曲榜最高排名第二，但不确定是否是在 2003 年。 <br/> 信息不足</td></tr><tr><td>ReAct</td><td>判断是否存在支持或反驳主张的观察结果，或者信息不足。</td></tr><tr><td colspan="2"></td></tr><tr><td>主张 思维 1</td><td>尼古拉·科斯特-瓦尔道曾就职于福克斯广播公司。 <br/> 我需要搜索尼古拉·科斯特-瓦尔道，查看他是否曾就职于福克斯广播公司。</td></tr><tr><td>操作 1 观察 1</td><td>搜索 [尼古拉·科斯特-瓦尔道] <br/> 尼古拉·威廉·科斯特-瓦尔道（生于 1970 年 7 月 27 日）是丹麦演员兼制片人。他 1993 年毕业于哥本哈根丹麦国家表演艺术学院，[1] 凭借电影《看门人》（1994 年）在丹麦实现突破。他在 HBO 奇幻剧集《权力的游戏》中饰演詹姆·兰尼斯特，并因此获得两项黄金时段艾美奖剧情类最佳男配角提名。科斯特-瓦尔道曾出演家乡丹麦及斯堪的纳维亚的多部电影，包括《猎头游戏》（2011 年）和《一千次晚安》（2013 年）。在美国，他的银幕处女作是战争片《黑鹰坠落》（2001 年），饰演荣誉勋章获得者加里·戈登。[2] 随后，他在福克斯短播电视剧《新阿姆斯特丹》（2008 年）中饰演一名侦探，并出演了 2009 年福克斯电视电影《虚拟现实》，该片原计划作为试播集。</td></tr><tr><td>思维 2 <br/> 操作 2</td><td>由于他“出演了 2009 年福克斯电视电影《虚拟现实》”，他应该曾就职于福克斯广播公司。 <br/> 结束 [支持]</td></tr><tr><td></td><td></td></tr><tr><td>主张 思维 1</td><td>《怪奇物语》的背景设定在印第安纳州布卢明顿。 <br/> 我应该搜索《怪奇物语》，查看其背景是否设定在印第安纳州布卢明顿。</td></tr><tr><td>操作 1</td><td>搜索 [怪奇物语]</td></tr><tr><td>观察 1</td><td>《怪奇物语》是由达菲兄弟创作的美国科幻恐怖剧情电视剧。 <br/> 该剧背景设定在 20 世纪 80 年代，主要发生在印第安纳州一个名为霍金斯的虚构小镇， <br/> 故事围绕该镇发生的一系列神秘和超自然事件及其对 <br/> 一群儿童和成人角色的影响展开。</td></tr><tr><td>思维 2</td><td>观察结果显示其背景设定在“印第安纳州虚构的霍金斯小镇”，因此并非设定在布卢明顿。</td></tr><tr><td>操作 2</td><td>结束 [反驳]</td></tr><tr><td>主张</td><td>《Beautiful》在 2003 年位列公告牌百强单曲榜第二名。</td></tr><tr><td>思维 1</td><td>我需要搜索歌曲《Beautiful》，查看它是否在 2003 年位列公告牌百强单曲榜第二名。</td></tr><tr><td>操作 1</td><td>搜索 [Beautiful]</td></tr><tr><td>观察 1</td><td>未找到 [Beautiful]。相似结果：['Beautiful', 'Beautiful, Beautiful', '美丽心灵 (电影)', 'Beautiful (克里斯蒂娜·阿奎莱拉歌曲)', '美丽人生']。</td></tr><tr><td>思维 2</td><td>根据建议，我应该搜索“Beautiful (Christina Aguilera song)”来寻找这首歌。</td></tr><tr><td>操作 2</td><td>搜索 [Beautiful (Christina Aguilera song)]</td></tr><tr><td>观察 2</td><td>《Beautiful》是美国歌手克里斯蒂娜·阿奎莱拉为她的第四张录音室专辑《Stripped》（2002 年）录制的歌曲。</td></tr><tr><td>思维 3</td><td>文中未提及公告牌，所以我需要查阅“公告牌百强单曲榜”，查看它是否在 2003 年位列该榜单第二名。</td></tr><tr><td>操作 3</td><td>查阅 [公告牌百强单曲榜]</td></tr><tr><td>观察 3</td><td>(结果 1 / 3) 该曲在美国公告牌百强单曲榜最高排名第二，并因出货量达 50 万张获得金唱片认证。</td></tr><tr><td>思维 4</td><td>文中仅提到该曲在公告牌百强单曲榜最高排名第二，但未说明是否在 2003 年。我不确定这一主张是否真实。</td></tr><tr><td>操作 4</td><td>结束 [信息不足]</td></tr></tbody></table><p><span>Table 6: Prompts used for the Webshop experiments in Section 4. We use the prompt on the left for Act, and use the prompt on the right (add reasoning) for ReAct.</span>
<span>表 6：第 4 节中 Webshop 实验所使用的提示词。左侧为 Act 的提示词，右侧（添加了推理）为 ReAct 的提示词。</span></p><p><span>Instruction: i would like a 3 ounce bottle of bright citrus deodorant for sensitive skin, and price lower than 50.00 dollars</span>
<span>指令：我想要一瓶 3 盎司的明亮柑橘味敏感肌止汗剂，且价格低于 50.00 美元</span></p><p><span>Act ReAct</span>
<span>Act ReAct</span></p><p><span>Action: search [3 ounce bright citrus deodorant sensitive skin] Action: search 3 ounce bright citrus deodorant sensitive skin</span>
<span>动作：搜索 [3 盎司 明亮柑橘味 止汗剂 敏感肌] 动作：搜索 3 盎司 明亮柑橘味 止汗剂 敏感肌</span></p><p><span>Observation: Observation:</span>
<span>观察： 观察：</span></p><p><span>Back to Search Back to Search</span>
<span>返回搜索 返回搜索</span></p><p><span>Page 1 (Total results: 50) Page 1 (Total results: 50)</span>
<span>第 1 页（总结果：50） 第 1 页（总结果：50）</span></p><p><span>[Next] [Next]</span>
<span>[下一页] [下一页]</span></p><p><span>[B078GWRC1J] [B078GWRC1J]</span>
<span>[B078GWRC1J] [B078GWRC1J]</span></p><p><span>Bright Citrus Deodorant by Earth Mama | Natural and Safe for Bright Citrus Deodorant by Earth Mama | Natural and Safe for</span>
<span>Earth Mama 明亮柑橘止汗剂 | 天然安全，适用于 Earth Mama 明亮柑橘止汗剂 | 天然安全，适用于</span></p><p><span>Sensitive Skin, Pregnancy and Breastfeeding, Contains Organic Calendula 3-Ounce Sensitive Skin, Pregnancy and Breastfeeding, Contains Organic</span>
<span>敏感肌、孕期及哺乳期，含有机金盏花 3 盎司 敏感肌、孕期及哺乳期，含有机</span></p><p><span>Calendula 3-Ounce</span>
<span>金盏花 3 盎司</span></p><p><span>$</span><span>10.99 </span><span>$</span><span>10.99</span></p><p>&nbsp;</p><p><span>[B078GTKVXY]</span>
<span>[B078GTKVXY]</span></p><p><span>[B078GTKVXY]</span>
<span>[B078GTKVXY]</span></p><p><span>Ginger Fresh Deodorant by Earth Mama | Natural and Safe for Sensitive Skin, Pregnancy and Breastfeeding, Contains Organic Calendula 3-Ounce</span>
<span>Earth Mama 鲜姜止汗剂 | 天然安全，适用于敏感肌、孕期及哺乳期，含有机金盏花 3 盎司</span></p><p><span>Ginger Fresh Deodorant by Earth Mama | Natural and Safe for Sensitive Skin, Pregnancy and Breastfeeding, Contains Organic</span>
<span>Earth Mama 鲜姜止汗剂 | 天然安全，适用于敏感肌、孕期及哺乳期，含有机</span></p><p><span>Calendula 3-Ounce</span>
<span>金盏花 3盎司</span></p><p><span>$</span><span>10.99 </span><span>$</span><span>10.99</span></p><p>&nbsp;</p><p><span>[B08KBVJ4XN] [B08KBVJ4XN]</span>
<span>[B08KBVJ4XN] [B08KBVJ4XN]</span></p><p><span>Barrel and Oak - Aluminum-Free Deodorant, Deodorant for Men , Essential Oil-Based Scent, 24-Hour Odor Protection, Cedar &amp; Patchouli Blend, Gentle on Sensitive Skin (Mountain Sage, 2.7 oz, 2-Pack)</span>
<span>Barrel and Oak - 无铝防臭剂，男士除臭剂，植物精油香型，24小时异味防护，雪松与藿香香调，温和呵护敏感肌（高山鼠尾草，2.7盎司，2支装）</span></p><p><span>Barrel and Oak - Aluminum-Free Deodorant, Deodorant for Men , Essential Oil-Based Scent, 24-Hour Odor Protection, Cedar &amp; Patchouli Blend, Gentle on Sensitive Skin (Mountain Sage, 2.7 oz, 2-Pack)</span>
<span>Barrel and Oak - 无铝防臭剂，男士除臭剂，植物精油香型，24小时异味防护，雪松与藿香香调，温和呵护敏感肌（高山鼠尾草，2.7盎司，2支装）</span></p><p><span>$</span><span>15.95 </span><span>$</span><span>15.95</span></p><p>&nbsp;</p><p><span>Action: think[B078GWRC1J and B078GTKVXY are bright citrus deodorant less then 50 dollars. I can check B078GWRC1J first. Observation: OK. Action: click [B078GWRC1J]</span>
<span>行动：思考[B078GWRC1J和B078GTKVXY是低于50美元的清新柑橘除臭剂。我可以先检查B078GWRC1J。观察：好。行动：点击 [B078GWRC1J]</span></p><p><span>Observation:</span>
<span>观察：</span></p><p><span>[Back to Search]</span>
<span>[返回搜索]</span></p><p><span>Prev</span>
<span>上一页</span></p><p><span>scent </span>[<span>assorted scents</span>][bright citrus][<span>calming lavender</span>][ginger [fresh]<span> simply non-scents] Action: click [B078GWRC1J]</span>
<span>香型 </span>[<span>多种香型</span>][清新柑橘][<span>舒缓薰衣草</span>][生姜 [清爽]<span> 纯净无香] 行动：点击 [B078GWRC1J]</span></p><p><span>Observation:</span>
<span>观察：</span></p><p><span>size </span>[<span>travel set (4-pack)</span>][3 ounce (pack of 1)]<span>[3-ounce (2 -pack)] [Back to Search]</span>
<span>规格 </span>[<span>旅行装 (4支装)</span>][3盎司 (1支装)]<span>[3盎司 (2支装)] [返回搜索]</span></p><p><span>Prev</span>
<span>上一页</span></p><p><span>size </span>[<span>travel set (4-pack)</span>][3 ounce (pack of 1)]<span>[3-ounce (2 -pack)]</span>
<span>规格 </span>[<span>旅行装 (4支装)</span>][3盎司 (1支装)]<span>[3盎司 (2支装)]</span></p><p><span>Bright Citrus Deodorant by Earth Mama | Natural and Safe for Sensitive Skin, Pregnancy and Breastfeeding, Contains Organic Calendula 3-Ounce</span>
<span>Earth Mama 清新柑橘除臭剂 | 天然安全，适用于敏感肌、孕期及哺乳期，含有机金盏花 3盎司</span></p><p><span>scent </span>[<span>assorted scents</span>][bright citrus][<span>calming lavender</span>][ginger [fresh]<span> simply non-scents]</span>
<span>香型 </span>[<span>多种香型</span>][清新柑橘][<span>舒缓薰衣草</span>][生姜 [清爽]<span> 纯净无香]</span></p><p><span>Price: </span><span>$</span><span>10.99</span>
<span>价格：$10.99</span></p><p><span>Bright Citrus Deodorant by Earth Mama | Natural and Safe for Sensitive Skin, Pregnancy and Breastfeeding, Contains Organic Calendula 3-Ounce Rating: N.A.</span>
<span>Earth Mama 亮泽柑橘除臭剂 | 敏感肌、孕期及哺乳期天然安全之选，含有机金盏花 3盎司 评分：暂无</span></p><p><span>[Description]</span>
<span>[描述]</span></p><p><span>[Features]</span>
<span>[特性]</span></p><p><span>[Reviews] Price: </span><span>$</span><span>10.99</span>
<span>[评论] 价格：$10.99</span></p><p><span>[Buy Now] Rating: N.A.</span>
<span>[立即购买] 评分：暂无</span></p><p><span>[Description]</span>
<span>[描述]</span></p><p><span>Action: click[bright citrus] [Features]</span>
<span>操作：点击[亮泽柑橘] [特性]</span></p><p><span>Observation: You have clicked bright citrus. [Reviews]</span>
<span>观察：你已点击亮泽柑橘。[评论]</span></p><p><span>[Buy Now]</span>
<span>[立即购买]</span></p><p><span>Action: click[3 ounce (pack of 1)]</span>
<span>操作：点击[3盎司（1支装）]</span></p><p><span>Observation: You have clicked 3 ounce (pack of 1). Action: think[For 3 ounce bottle of bright citrus deodorant</span>
<span>观察：你已点击3盎司（1支装）。操作：思考[针对3盎司瓶装亮泽柑橘除臭剂</span></p><p><span>Action: click[Buy Now]</span>
<span>操作：点击[立即购买]</span></p><p><span>for sensitive skin, the item has options &#39;bright citrus&#39; and &#39;3 ounce (pack of 1)&#39; and seems good to buy.]</span>
<span>适用于敏感肌，该商品有“亮泽柑橘”和“3盎司（1支装）”选项，看起来值得购买。]</span></p><p><span>Observation: OK.</span>
<span>观察：好的。</span></p><p><span>Action: click[bright citrus]</span>
<span>操作：点击[亮泽柑橘]</span></p><p><span>Observation: You have clicked bright citrus.</span>
<span>观察：你已点击亮泽柑橘。</span></p><p><span>Action: click[3 ounce (pack of 1)]</span>
<span>操作：点击[3盎司（1瓶装）]</span></p><p><span>Observation: You have clicked 3 ounce (pack of 1).</span>
<span>观察：你点击了3盎司（1瓶装）。</span></p><p><span>Action: click[Buy Now]</span>
<span>操作：点击[立即购买]</span></p><p><span>C. 4 ALFWORLD</span>
<span>C. 4 ALFWORLD</span></p><hr /><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>You are in the middle of a room. Looking quickly around you, you see a cabinet</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>你位于房间中央。快速环顾四周，你看到了橱柜</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>13, a cabinet 12, a cabinet 11, a cabinet 10, a cabinet 9, a cabinet 8, a cabinet</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>13，橱柜12，橱柜11，橱柜10，橱柜9，橱柜8，橱柜</span></p><p><span>7, a cabinet 6, a cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet</span>
<span>7，橱柜6，橱柜5，橱柜4，橱柜3，橱柜2，橱柜</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>1, a coffeemachine 1, a countertop 1, a diningtable 1, a drawer 1, a fridge 1, a</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>1，咖啡机1，台面1，餐桌1，抽屉1，冰箱1，</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin 1, a</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>垃圾桶1，微波炉1，架子3，架子2，架子1，水槽1，</span></p><p><span>stoveburner 4, a stoveburner 3, a stoveburner 2, a stoveburner 1, and a toaster 1.</span>
<span>炉灶4，炉灶3，炉灶2，炉灶1，以及烤面包机1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Your task is to: put a clean lettuce in diningtable.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你的任务是：将一颗干净的生菜放入餐桌。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to fridge 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往冰箱 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>The fridge 1 is closed.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>冰箱1是关着的。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; open fridge 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 打开冰箱 1</span></p><p><span>You open the fridge 1. The fridge 1 is open. In it, you see a cup 3, a egg 2, a</span>
<span>你打开了冰箱1。冰箱1已打开。在里面，你看到了杯子3，鸡蛋2，</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>potato 3, and a potato 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>土豆3，以及土豆2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to diningtable 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往 diningtable 1</span></p><p><span>On the diningtable 1, you see a apple 1, a bread 1, a butterknife 2, a cup 2, a</span>
<span>在 diningtable 1 上，你看到了 apple 1，bread 1，butterknife 2，cup 2，以及一个</span></p><p><span>fork 2, a knife 2, a knife 1, a ladle 1, a lettuce 1, a mug 2, a mug 1, a pan 2, a</span>
<span>fork 2，knife 2，knife 1，ladle 1，lettuce 1，mug 2，mug 1，pan 2，以及一个</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>peppershaker 1, a spatula 3, a tomato 2, and a tomato 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>peppershaker 1，spatula 3，tomato 2 和 tomato 1。</span></p><blockquote><p><span>take lettuce 1 from diningtable 1</span>
<span>从 diningtable 1 拿取 lettuce 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>You pick up the lettuce 1 from the diningtable 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>你从 diningtable 1 上拿起了 lettuce 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to sinkbasin 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往 sinkbasin 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>On the sinkbasin 1, you see a apple 2, a ladle 2, a spoon 1, and a tomato 3.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>在 sinkbasin 1 上，你看到了 apple 2，ladle 2，spoon 1 和 tomato 3。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; clean lettuce 1 with sinkbasin 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 用 sinkbasin 1 清洗 lettuce 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You clean the lettuce 1 using the sinkbasin 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你使用 sinkbasin 1 清洗了 lettuce 1。</span></p><blockquote><p><span>think: Now I clean a lettuce (1). Next, I need to put it in/on diningtable 1.</span>
<span>思考：现在我清洗了 lettuce (1)。下一步，我需要把它放入/放在 diningtable 1 上。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to diningtable 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往 diningtable 1</span></p><p><span>On the diningtable 1, you see a apple 1, a bread 1, a butterknife 2, a cup 2, a fork</span>
<span>在 diningtable 1 上，你看到了 apple 1，bread 1，butterknife 2，cup 2，fork</span></p><p><span>2 , a knife 2, a knife 1, a ladle 1, a mug 2, a mug 1, a pan 2, a peppershaker 1, a</span>
<span>2，knife 2，knife 1，ladle 1，mug 2，mug 1，pan 2，peppershaker 1，以及一个</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>spatula 3, a tomato 2, and a tomato 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>spatula 3，tomato 2 和 tomato 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; put lettuce 1 in/on diningtable 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 将 lettuce 1 放入/放在 diningtable 1</span></p><p><span>You put the lettuce 1 in/on the diningtable 1.</span>
<span>你把生菜 1 放在餐桌 1 上/里。</span></p><hr /><p>&nbsp;</p><p><span>Table 8: An ReAct prompt on the ALFWorld clean task.</span>
<span>表 8：ALFWorld 清洁任务中的 ReAct 提示词。</span></p><hr /><p>&nbsp;</p><p><span>You are in the middle of a room. Looking quickly around you, you see a cabinet</span>
<span>你在一间房子的中央。快速环顾四周，你看到橱柜</span></p><p><span>13, a cabinet 12, a cabinet 11, a cabinet 10, a cabinet 9, a cabinet 8, a cabinet</span>
<span>13、橱柜 12、橱柜 11、橱柜 10、橱柜 9、橱柜 8、橱柜</span></p><p><span>7, a cabinet 6, a cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet</span>
<span>7、橱柜 6、橱柜 5、橱柜 4、橱柜 3、橱柜 2、橱柜</span></p><p><span>1, a coffeemachine 1, a countertop 1, a diningtable 1, a drawer 1, a fridge 1, a</span>
<span>1、咖啡机 1、台面 1、餐桌 1、抽屉 1、冰箱 1、</span></p><p><span>garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin 1, a</span>
<span>垃圾桶 1、微波炉 1、架子 3、架子 2、架子 1、水槽 1、</span></p><p><span>stoveburner 4, a stoveburner 3, a stoveburner 2, a stoveburner 1, and a toaster 1.</span>
<span>炉灶 4、炉灶 3、炉灶 2、炉灶 1，以及烤面包机 1。</span></p><p><span>Your task is to: put a clean lettuce in diningtable.</span>
<span>你的任务是：将一颗干净的生菜放在餐桌上。</span></p><blockquote><p><span>think: To solve the task, I need to find and take a lettuce, then clean it with</span>
<span>思考：为了完成任务，我需要找到并拿到一颗生菜，然后用</span></p></blockquote><p><span>sinkbasin, then put it in diningtable.</span>
<span>水槽清洗它，最后把它放在餐桌上。</span></p><blockquote><p><span>think: First I need to find a lettuce. A lettuce is more likely to appear in</span>
<span>思考：首先我需要找到生菜。生菜更有可能出现在</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>fridge (1), diningtable (1), sinkbasin (1), stoveburner (1-3), cabinet (1-13). I</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>冰箱 (1)、餐桌 (1)、水槽 (1)、炉灶 (1-3)、橱柜 (1-13)。我</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>can check one by one, starting with fridge 1 .</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>可以逐一检查，从冰箱 1 开始。</span></p><p><span>OK.</span></p><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to fridge 1</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往冰箱 1</span></p><p><span>The fridge 1 is closed.</span>
<span>冰箱 1 是关着的。</span></p><blockquote><p><span>open fridge 1</span>
<span>打开冰箱 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>You open the fridge 1. The fridge 1 is open. In it, you see a cup 3, a egg 2, a</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>你打开了冰箱 1。冰箱 1 已打开。在里面，你看到了杯子 3、鸡蛋 2、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>potato 3, and a potato 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>土豆 3 和土豆 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to diningtable 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往餐桌 1</span></p><p><span>On the diningtable 1, you see a apple 1, a bread 1, a butterknife 2, a cup 2, a</span>
<span>在餐桌 1 上，你看到了苹果 1、面包 1、黄油刀 2、杯子 2、</span></p><p><span>fork 2, a knife 2, a knife 1, a ladle 1, a lettuce 1, a mug 2, a mug 1, a pan 2, a</span>
<span>叉子 2、刀 2、刀 1、长柄勺 1、生菜 1、马克杯 2、马克杯 1、平底锅 2、</span></p><p><span>peppershaker 1, a spatula 3, a tomato 2, and a tomato 1.</span>
<span>胡椒粉瓶 1、铲子 3、西红柿 2 和西红柿 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: Now I find a lettuce (1). Next, I need to take it.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：现在我找到了生菜 (1)。接下来，我需要拿起它。</span></p><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>take lettuce 1 from diningtable 1</span>
<span>从餐桌 1 拿起生菜 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You pick up the lettuce 1 from the diningtable 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你从餐桌 1 上拿起了生菜 1。</span></p><blockquote><p><span>think: Now I take a lettuce (1). Next, I need to go to sinkbasin (1) and clean</span>
<span>思考：现在我拿到了生菜 (1)。接下来，我需要前往洗手池 (1) 并清洗它。</span></p></blockquote><p><span>it.</span></p><p>&nbsp;</p><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>go to sinkbasin 1</span>
<span>前往洗手池 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>On the sinkbasin 1, you see a apple 2, a ladle 2, a spoon 1, and a tomato 3.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>在洗手池 1 上，你看到了苹果 2、长柄勺 2、勺子 1 和西红柿 3。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; clean lettuce 1 with sinkbasin 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 在洗手池 1 清洗生菜 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You clean the lettuce 1 using the sinkbasin 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你利用洗手池 1 清洗了生菜 1。</span></p><blockquote><p><span>think: Now I clean a lettuce (1). Next, I need to put it in/on diningtable 1.</span>
<span>思考：现在我清洗了生菜 (1)。接下来，我需要把它放入/放在餐桌 1 上。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to diningtable 1</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 去餐桌 1</span></p><p><span>On the diningtable 1, you see a apple 1, a bread 1, a butterknife 2, a cup 2, a fork</span>
<span>在餐桌 1 上，你看到了苹果 1、面包 1、黄油刀 2、杯子 2、叉子</span></p><p><span>2, a knife 2, a knife 1, a ladle 1, a mug 2, a mug 1, a pan 2, a peppershaker 1, a</span>
<span>2、刀 2、刀 1、长柄勺 1、马克杯 2、马克杯 1、平底锅 2、胡椒瓶 1、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>spatula 3, a tomato 2, and a tomato 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>刮铲 3、番茄 2 和番茄 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; put lettuce 1 in/on diningtable 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 将生菜 1 放入/放在餐桌 1 上</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You put the lettuce 1 in/on the diningtable 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你将生菜 1 放入/放在了餐桌 1 上。</span></p><hr /><p>&nbsp;</p><p><span>Table 9: An ReAct-IM prompt on the ALFWorld clean task.</span>
<span>表 9：ALFWorld 清洁任务上的一个 ReAct-IM 提示。</span></p><hr /><p>&nbsp;</p><p><span>You are in the middle of a room. Looking quickly around you, you see a cabinet</span>
<span>你在房间中央。快速环顾四周，你看到了橱柜</span></p><p><span>13, a cabinet 12, a cabinet 11, a cabinet 10, a cabinet 9, a cabinet 8, a cabinet</span>
<span>13、橱柜 12、橱柜 11、橱柜 10、橱柜 9、橱柜 8、橱柜</span></p><p><span>7, a cabinet 6, a cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet</span>
<span>7、橱柜 6、橱柜 5、橱柜 4、橱柜 3、橱柜 2、橱柜</span></p><p><span>1, a coffeemachine 1, a countertop 1, a diningtable 1, a drawer 1, a fridge 1, a</span>
<span>1、咖啡机 1、台面 1、餐桌 1、抽屉 1、冰箱 1、</span></p><p><span>garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin 1, a</span>
<span>垃圾桶 1、微波炉 1、架子 3、架子 2、架子 1、水槽 1、</span></p><p><span>stoveburner 4, a stoveburner 3, a stoveburner 2, a stoveburner 1, and a toaster 1.</span>
<span>炉灶火口 4、炉灶火口 3、炉灶火口 2、炉灶火口 1 以及烤面包机 1。</span></p><p><span>Your task is to: put a clean lettuce in diningtable.</span>
<span>你的任务是：将一颗洗净的生菜放在餐桌上。</span></p><blockquote><p><span>think: To solve the task, I need to find and take a lettuce, then clean it with</span>
<span>思考：为了完成任务，我需要找到并拿到一颗生菜，然后用</span></p></blockquote><p><span>sinkbasin, then put it in diningtable.</span>
<span>水槽清洗它，最后把它放在餐桌上。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: First I need to find a lettuce.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：首先我需要找到生菜。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to fridge 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往冰箱 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>The fridge 1 is closed.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>冰箱 1 是关着的。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: First I need to find a lettuce.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：首先我需要找到生菜。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; open fridge 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 打开冰箱 1</span></p><p><span>You open the fridge 1. The fridge 1 is open. In it, you see a cup 3, a egg 2, a</span>
<span>你打开了冰箱 1。冰箱 1 已打开。在里面，你看到了杯子 3、鸡蛋 2、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>potato 3, and a potato 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>土豆 3 和土豆 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: First I need to find a lettuce.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：首先我需要找到生菜。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to diningtable 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往餐桌 1</span></p><p><span>On the diningtable 1, you see a apple 1, a bread 1, a butterknife 2, a cup 2, a</span>
<span>在餐桌 1 上，你看到了苹果 1、面包 1、餐刀 2、杯子 2、</span></p><p><span>fork 2, a knife 2, a knife 1, a ladle 1, a lettuce 1, a mug 2, a mug 1, a pan 2, a</span>
<span>叉子 2、刀子 2、刀子 1、长柄勺 1、生菜 1、马克杯 2、马克杯 1、平底锅 2、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>peppershaker 1, a spatula 3, a tomato 2, and a tomato 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>胡椒瓶 1、铲子 3、西红柿 2 和西红柿 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: First I need to find a lettuce.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：首先我需要找到生菜。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>take lettuce 1 from diningtable 1</span>
<span>从餐桌 1 拿走生菜 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You pick up the lettuce 1 from the diningtable 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你从餐桌 1 上拿起了生菜 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: I need to clean this lettuce (1) using sinkbasin 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：我需要用洗手池 1 清洗这颗生菜 (1)。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to sinkbasin 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往洗手池 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>On the sinkbasin 1, you see a apple 2, a ladle 2, a spoon 1, and a tomato 3.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>在洗手池 1 上，你看到了苹果 2、长柄勺 2、勺子 1 和西红柿 3。</span></p><blockquote><p><span>think: I need to clean this lettuce (1) using sinkbasin 1.</span>
<span>思考：我需要利用洗手池 1 清洗这颗生菜 (1)。</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>clean lettuce 1 with sinkbasin 1</span>
<span>用洗手池 1 清洗生菜 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You clean the lettuce 1 using the sinkbasin 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你利用洗手池 1 清洗了生菜 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: I need to put this cleaned lettuce (1) in/on diningtable 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：我需要把这颗洗净的生菜 (1) 放在餐桌 1 上。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to diningtable 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往餐桌 1</span></p><p><span>On the diningtable 1, you see a apple 1, a bread 1, a butterknife 2, a cup 2, a fork</span>
<span>在餐桌 1 上，你看到了苹果 1、面包 1、黄油刀 2、杯子 2、叉子</span></p><p><span>2, a knife 2, a knife 1, a ladle 1, a mug 2, a mug 1, a pan 2, a peppershaker 1, a</span>
<span>2、餐刀 2、餐刀 1、长柄勺 1、马克杯 2、马克杯 1、平底锅 2、胡椒粉瓶 1、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>spatula 3, a tomato 2, and a tomato 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>铲子 3、西红柿 2 和西红柿 1。</span></p><blockquote><p><span>think: I need to put this cleaned lettuce (1) in/on diningtable 1.</span>
<span>思考：我需要把这颗洗净的生菜 (1) 放在餐桌 1 上。</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; put lettuce 1 in/on diningtable 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 将生菜 1 放在餐桌 1 上</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You put the lettuce 1 in/on the diningtable 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你将生菜 1 放在了餐桌 1 上。</span></p><hr /><p>&nbsp;</p><p><span>D TRAJECTORIES</span>
<span>D 轨迹</span></p><h3 id='d1-fever-trajectories'><span>D.1 FEVER TRAJECTORIES</span></h3><h3 id='d1-fever-轨迹'><span>D.1 FEVER 轨迹</span></h3><p><span>We provide some trajectories produced by ReAct, CoTand Acton several randomly selected examples from the FEVER dev set below. Search results are omitted to space.</span>
<span>我们在下方提供了由 ReAct、CoT 和 Act 在 FEVER 开发集中随机选取的示例所生成的轨迹。出于空间考虑，搜索结果已省略。</span></p><table><tr><td></td><td>Example 2491 (gt: REFUTES)</td></tr><tr><td>ReAct <br> Claim:</td><td>Bermuda Triangle is a loosely-defined region in the Pacific Ocean.</td></tr><tr><td>Thought 1: <br> Action 1: <br> Observation 1: <br> Thought 2:</td><td>I need to search Bermuda Triangle and find if it is in the Pacific Ocean. Search [Bermuda Triangle] <br> Reportedly haunted locations... <br> The observation says that it is in the western part of the North Atlantic</td></tr><tr><td>Action 2:</td><td>Ocean, so it is not in the Pacific Ocean. <br> Finish [REFUTES]</td></tr><tr><td>Observation 2:</td><td>Episode finished</td></tr><tr><td>Act <br> Claim: <br> Action 1 <br> Observation 1 <br> Action 2: <br> Observation 2:</td><td>Bermuda Triangle is a loosely-defined region in the Pacific Ocean. <br> : Search [Bermuda Triangle] <br> : Reportedly haunted locations:... <br> Finish [REFUTES] <br> Episode finished</td></tr><tr><td>CoT <br> Claim: <br> Thought: <br> Answer:</td><td>Bermuda Triangle is a loosely-defined region in the Pacific Ocean. <br> Let's think step by step. The Bermuda Triangle is a loosely-defined region in the Atlantic Ocean. The Pacific Ocean is not the Atlantic Ocean. REFUTES</td></tr></table>
<table><tbody><tr><td></td><td>示例 2491 (gt: REFUTES)</td></tr><tr><td>ReAct <br/> 索赔：</td><td>百慕大三角是太平洋中一个定义模糊的区域。</td></tr><tr><td>思考 1：<br/> 行动 1：<br/> 观察 1：<br/> 思考 2：</td><td>我需要搜索百慕大三角，看看它是否在太平洋。搜索 [百慕大三角] <br/> 据报道有鬼魂出没的地点... <br/> 观察结果显示它位于北大西洋西部</td></tr><tr><td>行动 2：</td><td>洋，所以它不在太平洋。 <br/> 完成 [REFUTES]</td></tr><tr><td>观察 2：</td><td>回合结束</td></tr><tr><td>Act <br/> 索赔：<br/> 行动 1 <br/> 观察 1 <br/> 行动 2：<br/> 观察 2：</td><td>百慕大三角是太平洋中一个定义模糊的区域。 <br/> ：搜索 [百慕大三角] <br/> ：据报道有鬼魂出没的地点：... <br/> 完成 [REFUTES] <br/> 回合结束</td></tr><tr><td>CoT <br/> 索赔：<br/> 思考：<br/> 回答：</td><td>百慕大三角是太平洋中一个定义模糊的区域。 <br/> 让我们逐步思考。百慕大三角是大西洋中一个定义模糊的区域。太平洋不是大西洋。REFUTES</td></tr></tbody></table><table><tr><td>ReAct <br> Claim: <br> Thought 1: <br> Action 1: <br> Observation 1: <br> Thought 2: <br> Action 2: <br> Observation 2:</td><td>Princess Mononoke is a film. <br> I need to search Princess Mononoke and find if it is a film. <br> Search [Princess Mononoke] <br> Princess Mononoke ... <br> From the observation, it says that Princess Mononoke is a film. <br> Finish [SUPPORTS] <br> Episode finished</td></tr><tr><td>Act. <br> Claim: <br> Action 1: <br> Observation 1: <br> Action 2: <br> Observation 2:</td><td>Princess Mononoke is a film. <br> Search[Princess Mononoke] <br> Princess Mononoke ... <br> Finish [SUPPORTS] <br> Episode finished</td></tr><tr><td>CoT</td><td></td></tr><tr><td>Claim:</td><td>Princess Mononoke is a film.</td></tr><tr><td>Thought:</td><td>Let's think step by step. Princess Mononoke is a movie, and movies are films.</td></tr><tr><td>Answer:</td><td>SUPPORTS</td></tr></table>
<table><tbody><tr><td>ReAct <br/> 结论： <br/> 思考 1： <br/> 行动 1： <br/> 观察 1： <br/> 思考 2： <br/> 行动 2： <br/> 观察 2：</td><td>《幽灵公主》是一部电影。 <br/> 我需要搜索《幽灵公主》并确认它是否为电影。 <br/> 搜索 [幽灵公主] <br/> 幽灵公主 ... <br/> 根据观察，结果显示《幽灵公主》是一部电影。 <br/> 完成 [支持] <br/> 环节结束</td></tr><tr><td>行动。 <br/> 结论： <br/> 行动 1： <br/> 观察 1： <br/> 行动 2： <br/> 观察 2：</td><td>《幽灵公主》是一部电影。 <br/> 搜索 [幽灵公主] <br/> 幽灵公主 ... <br/> 完成 [支持] <br/> 环节结束</td></tr><tr><td>CoT</td><td></td></tr><tr><td>结论：</td><td>《幽灵公主》是一部电影。</td></tr><tr><td>思考：</td><td>让我们逐步思考。《幽灵公主》是一部 movie，而 movie 即为电影。</td></tr><tr><td>答案：</td><td>支持</td></tr></tbody></table><table><tr><td></td><td>Example 1951 (gt: REFUTES)</td></tr><tr><td>ReAct</td><td></td></tr><tr><td>Claim:</td><td>Soyuz was part of the American space program.</td></tr><tr><td>Thought 1:</td><td>I need to search Soyuz and find if it was part of the American space program.</td></tr><tr><td>Action 1:</td><td>Search [Soyuz]</td></tr><tr><td>Observation 1:</td><td>Soyuz is a transliteration...</td></tr><tr><td>Thought 2:</td><td>It does not mention the American space program, so I need to search <br> "American space program" to find if it was part of it.</td></tr><tr><td>Action 2:</td><td>Search [American space program]</td></tr><tr><td>Observation 2:</td><td>The space policy...</td></tr><tr><td>Thought 3:</td><td>It does not mention Soyuz, so I am not sure if this claim is true or not.</td></tr><tr><td>Action 3:</td><td>Finish[NOT ENOUGH INFO]</td></tr><tr><td>Observation 3:</td><td>Episode finished</td></tr><tr><td colspan="2">Act</td></tr><tr><td>Claim:</td><td>Soyuz was part of the American space program.</td></tr><tr><td>Action 1:</td><td>Search [Soyuz]</td></tr><tr><td>Observation 1:</td><td>Soyuz is a transliteration...</td></tr><tr><td>Action 2:</td><td>Finish [NOT ENOUGH INFO]</td></tr><tr><td>Observation 2:</td><td>Episode finished</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>Claim:</td><td>Soyuz was part of the American space program.</td></tr><tr><td>Thought:</td><td>Let's think step by step. Soyuz is a Russian spacecraft. The American space program is NASA. NASA and Russia have worked together on the International Space Station.</td></tr><tr><td>Answer:</td><td>SUPPORTS</td></tr></table>
<table><tbody><tr><td></td><td>示例 1951 (gt: REFUTES)</td></tr><tr><td>ReAct</td><td></td></tr><tr><td>断言：</td><td>联盟号是美国航天计划的一部分。</td></tr><tr><td>思考 1：</td><td>我需要搜索“联盟号”，查看它是否属于美国航天计划。</td></tr><tr><td>行动 1：</td><td>搜索 [联盟号]</td></tr><tr><td>观察 1：</td><td>联盟号是一个音译词……</td></tr><tr><td>思考 2：</td><td>此处未提及美国航天计划，因此我需要搜索 <br/> “美国航天计划”来确认它是否包含其中。</td></tr><tr><td>行动 2：</td><td>搜索 [美国航天计划]</td></tr><tr><td>观察 2：</td><td>航天政策……</td></tr><tr><td>思考 3：</td><td>此处未提及联盟号，因此我不确定该断言是否属实。</td></tr><tr><td>行动 3：</td><td>完成 [信息不足]</td></tr><tr><td>观察 3：</td><td>流程结束</td></tr><tr><td colspan="2">Act</td></tr><tr><td>断言：</td><td>联盟号是美国航天计划的一部分。</td></tr><tr><td>行动 1：</td><td>搜索 [联盟号]</td></tr><tr><td>观察 1：</td><td>联盟号是一个音译词……</td></tr><tr><td>行动 2：</td><td>完成 [信息不足]</td></tr><tr><td>观察 2：</td><td>流程结束</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>断言：</td><td>联盟号是美国航天计划的一部分。</td></tr><tr><td>思考：</td><td>让我们逐步思考。联盟号是俄罗斯航天器。美国航天计划由 NASA 负责。NASA 和俄罗斯在国际空间站项目上有过合作。</td></tr><tr><td>回答：</td><td>SUPPORTS</td></tr></tbody></table><table><tr><td colspan="2">Example 3208 (gt: REFUTES)</td></tr><tr><td colspan="2">ReAct</td></tr><tr><td>Claim:</td><td>Reign Over Me is an American film made in 2010.</td></tr><tr><td>Thought 1:</td><td>I need to search for Reign Over Me and find if it is an American film made in 2010.</td></tr><tr><td>Action 1:</td><td>Search [Reign Over Me]</td></tr><tr><td>Observation 1:</td><td>Reign Over Me ...</td></tr><tr><td>Thought 2:</td><td>The observation says that it is an American film made in 2007, so it is not made in 2010.</td></tr><tr><td>Action 2:</td><td>Finish [REFUTES]</td></tr><tr><td>Observation 2:</td><td>Episode finished</td></tr><tr><td colspan="2">Act</td></tr><tr><td>Claim:</td><td>Reign Over Me is an American film made in 2010.</td></tr><tr><td>Action 1:</td><td>Search [Reign Over Me]</td></tr><tr><td>Action 2:</td><td>Finish [SUPPORTS]</td></tr><tr><td>Observation 2:</td><td>Episode finished</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>Claim:</td><td>Reign Over Me is an American film made in 2010.</td></tr><tr><td>Thought:</td><td>Let's think step by step. First, is Reign Over Me an American film? Yes, it is. Second, was it made in 2010? Yes, it was.</td></tr><tr><td>Answer:</td><td>SUPPORTS</td></tr></table>
<table><tbody><tr><td colspan="2">示例 3208 (gt: REFUTES)</td></tr><tr><td colspan="2">ReAct</td></tr><tr><td>断言：</td><td>《从心开始》是一部 2010 年制作的美国电影。</td></tr><tr><td>思考 1：</td><td>我需要搜索《从心开始》，并确认它是否为一部 2010 年制作的美国电影。</td></tr><tr><td>操作 1：</td><td>搜索 [Reign Over Me]</td></tr><tr><td>观察 1：</td><td>《从心开始》...</td></tr><tr><td>思考 2：</td><td>观察结果显示这是一部 2007 年制作的美国电影，所以它不是在 2010 年制作的。</td></tr><tr><td>操作 2：</td><td>完成 [REFUTES]</td></tr><tr><td>观察 2：</td><td>环节结束</td></tr><tr><td colspan="2">Act</td></tr><tr><td>断言：</td><td>《从心开始》是一部 2010 年制作的美国电影。</td></tr><tr><td>操作 1：</td><td>搜索 [Reign Over Me]</td></tr><tr><td>操作 2：</td><td>完成 [SUPPORTS]</td></tr><tr><td>观察 2：</td><td>环节结束</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>断言：</td><td>《从心开始》是一部 2010 年制作的美国电影。</td></tr><tr><td>思考：</td><td>让我们逐步思考。首先，《从心开始》是一部美国电影吗？是的。其次，它是 2010 年制作的吗？是的。</td></tr><tr><td>回答：</td><td>SUPPORTS</td></tr></tbody></table><p><span>D. 2 ALFWORLD TRAJECTORIES</span>
<span>D. 2 ALFWORLD 轨迹</span></p><p><span>We provide an example trajectory of ReAct, Act, and ReAct-IM on the same ALFWorld game, pick_clean_then_place_in_recep-Knife-None-CounterTop-10/ trial_T20190909_110445_675754.</span>
<span>我们提供了 ReAct、Act 和 ReAct-IM 在同一个 ALFWorld 游戏（试运行：pick_clean_then_place_in_recep-Knife-None-CounterTop-10/ trial_T20190909_110445_675754）中的示例轨迹。</span></p><p><span>D.2.1 REACT TRAJECTORY</span>
<span>D.2.1 REACT 轨迹</span></p><p><span>ReAct is able to correctly find the knife, clean it, and then place it on a countertop.</span>
<span>ReAct 能够正确地找到刀，将其清洗干净，然后放置在台面上。</span></p><h2 id='react-alfworld-trajectory'><span>ReAct ALFWorld trajectory</span></h2><h2 id='react-alfworld-轨迹'><span>ReAct ALFWorld 轨迹</span></h2><hr /><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>You are in the middle of a room. Looking quickly around you, you see a cabinet 6, a</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>你位于房间中央。快速环顾四周，你看到了橱柜 6、</span></p><p><span>cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet 1, a coffeemachine 1, a</span>
<span>橱柜 5、橱柜 4、橱柜 3、橱柜 2、橱柜 1、咖啡机 1、</span></p><p><span>countertop 3, a countertop 2, a countertop 1, a drawer 3, a drawer 2, a drawer 1, a</span>
<span>台面 3、台面 2、台面 1、抽屉 3、抽屉 2、抽屉 1、</span></p><p><span>fridge 1, a garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin</span>
<span>冰箱 1、垃圾桶 1、微波炉 1、架子 3、架子 2、架子 1、水槽</span></p><p><span>1, a stoveburner 4, a stoveburner 3, a stoveburner 2, a stoveburner 1, and a toaster</span>
<span>1、炉灶火口 4、炉灶火口 3、炉灶火口 2、炉灶火口 1 以及烤面包机 1。</span></p><p><span>1.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Your task is to: put a clean knife in countertop.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你的任务是：将一把干净的刀放在台面上。</span></p><blockquote><p><span>think: To solve the task, I need to find and take a knife, then clean it with</span>
<span>think: 为了完成任务，我需要找到并拿到一把刀，然后在水槽</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>sinkbasin, then put it in countertop.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>中清洗，最后放在台面上。</span></p><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>think: First I need to find a knife. A knife is more likely to appear in cabinet</span>
<span>think: 首先我需要找到一把刀。刀更有可能出现在橱柜</span></p></blockquote><p><span>(1-6), drawer (1-3), countertop (1-3), fridge (1), garbagecan (1), shelf (1-3),</span>
<span>(1-6)、抽屉 (1-3)、台面 (1-3)、冰箱 (1)、垃圾桶 (1)、架子 (1-3)、</span></p><p><span>sinkbasin (1), stoveburner (1-4), toaster (1). I can check one by one, starting with</span>
<span>水槽 (1)、炉灶火口 (1-4)、烤面包机 (1)。我可以从第一个开始逐一检查。</span></p><p><span>cabinet 1 .</span>
<span>橱柜 1。</span></p><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>go to cabinet 1</span>
<span>前往橱柜 1</span></p></blockquote><p><span>On the cabinet 1, you see a bowl 1.</span>
<span>在橱柜 1 上，你看到一个碗 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to cabinet 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往橱柜 2</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>The cabinet 2 is closed.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>橱柜 2 是关着的。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to cabinet 3</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往橱柜 3</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>On the cabinet 3, you see a glassbottle 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>在橱柜 3 上，你看到一个玻璃瓶 1。</span></p><blockquote><p><span>go to cabinet 4</span>
<span>前往橱柜 4</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>On the cabinet 4, you see a mug 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>在橱柜 4 上，你看到一个马克杯 1。</span></p><blockquote><p><span>go to cabinet 5</span>
<span>前往橱柜 5</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>The cabinet 5 is closed.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>橱柜 5 是关着的。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to cabinet 6</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往橱柜 6</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>The cabinet 6 is closed.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>橱柜 6 是关着的。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to drawer 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往抽屉 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>The drawer 1 is closed.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>抽屉 1 是关着的。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to drawer 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往抽屉 2</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>The drawer 2 is closed.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>抽屉 2 是关着的。</span></p><blockquote><p><span>go to drawer 3</span>
<span>去抽屉 3</span></p></blockquote><p><span>The drawer 3 is closed.</span>
<span>抽屉 3 是关着的。</span></p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 1</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 去台面 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>在台面 1 上，你看到了生菜 2、马克杯 2、胡椒粉瓶 1 和勺子 2。</span></p><blockquote><p><span>go to countertop 2</span>
<span>去台面 2</span></p></blockquote><p><span>On the countertop 2, you see a cup 1, a dishsponge 1, a glassbottle 3, a knife 1, a</span>
<span>在台面 2 上，你看到了杯子 1、洗碗海绵 1、玻璃瓶 3、小刀 1、</span></p><p><span>plate 2, a potato 3, and a statue 1.</span>
<span>盘子 2、土豆 3 和雕像 1。</span></p><blockquote><p><span>think: Now I find a knife (1). Next, I need to take it.</span>
<span>思考：现在我找到了一把小刀 (1)。下一步，我需要拿起它。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>take knife 1 from countertop 2</span>
<span>从台面 2 拿起小刀 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You pick up the knife 1 from the countertop 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你从台面 2 拿起了小刀 1。</span></p><blockquote><p><span>think: Now I take a knife (1). Next, I need to go to sinkbasin (1) and clean it.</span>
<span>思考：现在我拿到了小刀 (1)。下一步，我需要去水槽 (1) 清洗它。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>go to sinkbasin 1</span>
<span>去水槽 1</span></p></blockquote><p><span>On the sinkbasin 1, you see a fork 3, a lettuce 3, and a spatula 2.</span>
<span>在水槽 1 上，你看到了叉子 3、生菜 3 和铲子 2。</span></p><blockquote><p><span>clean knife 1 with sinkbasin 1</span>
<span>在水槽 1 清洗小刀 1</span></p></blockquote><p><span>You clean the knife 1 using the sinkbasin 1.</span>
<span>你用水槽 1 清洗了小刀 1。</span></p><blockquote><p><span>think: Now I clean a knife (1). Next, I need to put it in/on countertop 1.</span>
<span>think: 现在我清洗一把刀 (1)。接下来，我需要把它放在台面 1 上。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>go to countertop 1</span>
<span>前往台面 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>在台面 1 上，你看到了生菜 2、马克杯 2、胡椒瓶 1 和勺子 2。</span></p><blockquote><p><span>put knife 1 in/on countertop 1</span>
<span>将刀 1 放在台面 1 上</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You put the knife 1 in/on the countertop 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你把刀 1 放在了台面 1 上。</span></p><hr /><p>&nbsp;</p><h4 id='d22-act-trajectory'><span>D.2.2 ACT TRAJECTORY</span></h4><h4 id='d22-act-轨迹'><span>D.2.2 ACT 轨迹</span></h4><p><span>Act is able to correctly find the knife, but tries to clean it using a sinkbasin before actually going to the sinkbasin. From there on, the model is unable to recover, and is stuck repeating the same sequence of commands. With ReAct, an existing thought would have concretely identified that the knife had been taken, and that the next subgoal was to go to a sinkbasin to clean it.</span>
<span>Act 能够正确找到刀，但在实际前往水槽之前就尝试清洗它。从此往后，模型无法恢复，陷入了重复相同命令序列的困境。若使用 ReAct，现有的思考过程本可以具体识别出刀已被拿走，且下一个子目标是前往水槽清洗它。</span></p><h2 id='act-alfworld-trajectory'><span>Act ALFWorld trajectory</span></h2><h2 id='act-alfworld-轨迹'><span>Act ALFWorld 轨迹</span></h2><hr /><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>You are in the middle of a room. Looking quickly around you, you see a cabinet 6, a</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>你在一间房子的中央。快速环顾四周，你看到了橱柜 6、</span></p><p><span>cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet 1, a coffeemachine 1, a</span>
<span>橱柜 5、橱柜 4、橱柜 3、橱柜 2、橱柜 1、咖啡机 1、</span></p><p><span>countertop 3, a countertop 2, a countertop 1, a drawer 3, a drawer 2, a drawer 1, a</span>
<span>台面 3、台面 2、台面 1、抽屉 3、抽屉 2、抽屉 1、</span></p><p><span>fridge 1, a garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin</span>
<span>冰箱 1、垃圾桶 1、微波炉 1、架子 3、架子 2、架子 1、水槽</span></p><p><span>1, a stoveburner 4, a stoveburner 3, a stoveburner 2, a stoveburner 1, and a toaster</span>
<span>1、炉灶火口 4、炉灶火口 3、炉灶火口 2、炉灶火口 1 以及烤面包机 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>1.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>Your task is to: put a clean knife in countertop.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>你的任务是：将一把干净的刀放在台面上。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to countertop 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往台面 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>在台面 1 上，你看到了生菜 2、马克杯 2、胡椒瓶 1 和勺子 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to countertop 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往 2 号台面</span></p><p><span>On the countertop 2, you see a cup 1, a dishsponge 1, a glassbottle 3, a knife 1, a</span>
<span>在 2 号台面上，你看到了杯子 1、洗碗海绵 1、玻璃瓶 3、刀子 1、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>plate 2, a potato 3, and a statue 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>盘子 2、土豆 3 和雕像 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; take knife 1 from countertop 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 从 2 号台面拿取刀子 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You pick up the knife 1 from the countertop 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你从 2 号台面上拿起了刀子 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to countertop 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往 1 号台面</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>在 1 号台面上，你看到了生菜 2、马克杯 2、胡椒粉瓶 1 和勺子 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; clean knife 1 with sinkbasin 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 在 1 号洗手池清洗刀子 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>什么也没发生。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 3</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往 3 号台面</span></p><p><span>On the countertop 3, you see a bread 3, a butterknife 2, a cellphone 1, a creditcard</span>
<span>在 3 号台面上，你看到了面包 3、黄油刀 2、手机 1、信用卡</span></p><p><span>1 , a fork 2 , a houseplant 1 , a knife 2 , a spatula 1 , a statue 3 , a tomato 3 , a tomato</span>
<span>1、叉子 2、室内植物 1、刀子 2、铲子 1、雕像 3、西红柿 3、西红柿</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>2 , a tomato 1 , and a vase 2 .</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>2、西红柿 1 和花瓶 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; take knife 2 from countertop 3</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 从 3 号台面拿取刀子 2</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>什么也没发生。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往 2 号台面</span></p><p><span>On the countertop 2, you see a cup 1, a dishsponge 1, a glassbottle 3, a plate 2, a</span>
<span>在台面 2 上，你看到了杯子 1、洗碗海绵 1、玻璃瓶 3、盘子 2、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>potato 3, and a statue 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>土豆 3 和雕像 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; take knife 1 from countertop 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 从台面 2 拿取刀 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>毫无反应。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往台面 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>在台面 1 上，你看到了生菜 2、马克杯 2、胡椒瓶 1 和勺子 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; clean knife 1 with sinkbasin 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 用水槽 1 清洗刀 1</span></p><p><span>Nothing happens.</span>
<span>毫无反应。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 3</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往台面 3</span></p><p><span>On the countertop 3, you see a bread 3, a butterknife 2, a cellphone 1, a creditcard</span>
<span>在台面 3 上，你看到了面包 3、黄油刀 2、手机 1、信用卡</span></p><p><span>1, a fork 2, a houseplant 1, a knife 2, a spatula 1, a statue 3, a tomato 3, a tomato</span>
<span>1、叉子 2、室内植物 1、刀 2、刮铲 1、雕像 3、西红柿 3、西红柿</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>2, a tomato 1, and a vase 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>2、西红柿 1 和花瓶 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; take knife 2 from countertop 3</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 从台面 3 拿取刀 2</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>毫无反应。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; go to countertop 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 前往台面 2</span></p><p><span>On the countertop 2, you see a cup 1, a dishsponge 1, a glassbottle 3, a plate 2, a</span>
<span>在台面 2 上，你看到了杯子 1、洗碗海绵 1、玻璃瓶 3、盘子 2、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>potato 3, and a statue 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>土豆 3，以及雕像 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> take knife 1 from countertop 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 从台面 2 拿走小刀 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>什么也没发生。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往台面 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>在台面 1 上，你看到了生菜 2、马克杯 2、胡椒瓶 1 和勺子 2。</span></p><blockquote><p><span>clean knife 1 with sinkbasin 1</span>
<span>用洗手池 1 清洗小刀 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>什么也没发生。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 3</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往台面 3</span></p><p><span>On the countertop 3, you see a bread 3, a butterknife 2, a cellphone 1, a creditcard</span>
<span>在台面 3 上，你看到了面包 3、黄油刀 2、手机 1、信用卡</span></p><p><span>1, a fork 2, a houseplant 1, a knife 2, a spatula 1, a statue 3, a tomato 3, a tomato</span>
<span>1、叉子 2、盆栽 1、小刀 2、刮铲 1、雕像 3、西红柿 3、西红柿</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>2 , a tomato 1 , and a vase 2 .</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>2、西红柿 1 和花瓶 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; take knife 2 from countertop 3</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 从台面 3 拿走小刀 2</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>什么也没发生。</span></p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 2</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往台面 2</span></p><p><span>On the countertop 2, you see a cup 1, a dishsponge 1, a glassbottle 3, a plate 2, a</span>
<span>在台面 2 上，你看到了杯子 1、洗碗海绵 1、玻璃瓶 3、盘子 2、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>potato 3, and a statue 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>土豆 3 和雕像 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; take knife 1 from countertop 2</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 从台面 2 拿取刀 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>无事发生。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往台面 1</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>在台面 1 上，你看到了一颗生菜 2、一个马克杯 2、一个胡椒瓶 1 和一把勺子 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; clean knife 1 with sinkbasin 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 用水槽 1 清洗刀 1</span></p><p><span>Nothing happens.</span>
<span>无事发生。</span></p><hr /><p>&nbsp;</p><h4 id='d23-react-im-trajectory'><span>D.2.3 REACT-IM TRAJECTORY</span></h4><h4 id='d23-react-im-轨迹'><span>D.2.3 REACT-IM 轨迹</span></h4><p><span>ReAct-IM is able to correctly find the knife, but is unable to clean it as well. The LLM then gets stuck trying to place this knife on a countertop. One possible issue is the incorrect thought think: I need to find a clean knife., which seems to trick the LLM in believing that the knife is already cleaned. In ReAct, this sequence of subgoals would be concretely captured by each thought.</span>
<span>ReAct-IM 能够正确找到刀，但同样无法清洗它。随后 LLM 陷入了试图将这把刀放在台面上的困境。一个可能的问题是错误的思考 think: 我需要找到一把干净的刀。，这似乎误导了 LLM，使其认为刀已经被清洗过了。在 ReAct 中，这一系列子目标会被每个思考具体地记录下来。</span></p><p><span>ReAct-IM ALFWorld trajectory</span>
<span>ReAct-IM ALFWorld 轨迹</span></p><hr /><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>You are in the middle of a room. Looking quickly around you, you see a cabinet 6, a</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>你在房间中央。快速环顾四周，你看到了橱柜 6、</span></p><p><span>cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet 1, a coffeemachine 1, a</span>
<span>橱柜 5、橱柜 4、橱柜 3、橱柜 2、橱柜 1、咖啡机 1、</span></p><p><span>countertop 3, a countertop 2, a countertop 1, a drawer 3, a drawer 2, a drawer 1, a</span>
<span>台面 3、台面 2、台面 1、抽屉 3、抽屉 2、抽屉 1、</span></p><p><span>fridge 1, a garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin</span>
<span>冰箱 1、垃圾桶 1、微波炉 1、架子 3、架子 2、架子 1、水槽</span></p><p><span>1 , a stoveburner 4 , a stoveburner 3 , a stoveburner 2 , a stoveburner 1 , and a toaster</span>
<span>1、炉灶 4、炉灶 3、炉灶 2、炉灶 1 以及烤面包机 1。</span></p><p><span>1.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Your task is to: put a clean knife in countertop.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你的任务是：将一把干净的刀放在台面上。</span></p><blockquote><p><span>think: To solve the task, I need to find and take a clean knife, then put it in</span>
<span>think: 为了完成任务，我需要找到并拿取一把干净的刀，然后将其放入</span></p></blockquote><p><span>countertop.</span>
<span>台面。</span></p><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>think: I need to find a clean knife.</span>
<span>思考：我需要找一把干净的刀。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 1</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往 1 号台面</span></p><p><span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
<span>在 1 号台面上，你看到了生菜 2、马克杯 2、胡椒粉瓶 1 和勺子 2。</span></p><blockquote><p><span>think: I need to find a clean knife.</span>
<span>思考：我需要找一把干净的刀。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 2</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往 2 号台面</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>On the countertop 2, you see a cup 1, a dishsponge 1, a glassbottle 3, a knife 1, a</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>在 2 号台面上，你看到了杯子 1、洗碗海绵 1、玻璃瓶 3、刀 1、</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>plate 2, a potato 3, and a statue 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>盘子 2、土豆 3 和雕像 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: I need to find a clean knife.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：我需要找一把干净的刀。</span></p><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>take knife 1 from countertop 2</span>
<span>从 2 号台面拿取刀 1</span></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>You pick up the knife 1 from the countertop 2.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>你从 2 号台面上拿起了刀 1。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: I need to put this knife (1) in/on countertop 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：我需要把这把刀 (1) 放入/放在 1 号台面。</span></p><p><span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> go to countertop 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 前往 1 号台面</span></p><p><span>On the countertop 1, you see a lettuce 2, a mug 2, a peppershaker 1, and a spoon 2.</span>
<span>在 1 号台面上，你看到了生菜 2、马克杯 2、胡椒粉瓶 1 和勺子 2。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: I need to put this knife (1) in/on countertop 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：我需要把这把刀 (1) 放入/放在 1 号台面。</span></p><p><span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; put knife 1 in/on countertop 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 将刀 1 放入/放在 1 号台面</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>You put the knife 1 in/on the countertop 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>你把小刀 1 放进/放在了台面 1 上。</span></p><blockquote><p><span>think: I need to put this knife (1) in/on countertop 1.</span>
<span>think: 我需要把这把刀 (1) 放到 countertop 1 上。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> put knife 1 in/on countertop 1</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 将刀具 1 放入/放在台面 1 上</span></p><p><span>Nothing happens.</span>
<span>什么也没发生。</span></p><blockquote><p><span>think: I need to put this knife (1) in/on countertop 1.</span>
<span>think: 我需要把这把小刀 (1) 放在 countertop 1 上。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><p><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> put knife 1 in/on countertop 1</span>
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.09ex;"><defs><path id="MJX-931-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3E" xlink:href="#MJX-931-TEX-N-3E"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></mjx-assistive-mml></mjx-container><script type="math/tex">></script><span> 将刀 1 放在台面 1 上</span></p><p><span>Nothing happens.</span>
<span>什么也没有发生。</span></p><blockquote><p><span>think: I need to put this knife (1) in/on countertop 1.</span>
<span>think: 我需要把这把刀 (1) 放到 countertop 1 上。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>put knife 1 in/on countertop 1</span>
<span>将刀子 1 放在台面 1 上</span></p></blockquote><p><span>Nothing happens.</span>
<span>什么也没有发生。</span></p><blockquote><p><span>think: I need to put this knife (1) in/on countertop 1.</span>
<span>think: 我需要把这把小刀 (1) 放在台面 1 上。</span></p></blockquote><p><span>OK.</span></p><p>&nbsp;</p><blockquote><p><span>put knife 1 in/on countertop 1</span>
<span>将 knife 1 放入/放在 countertop 1 上</span></p></blockquote><p><span>Nothing happens.</span>
<span>什么都没有发生。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: I need to put this knife (1) in/on countertop 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: 我需要把这把小刀 (1) 放到厨台 1 上。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; put knife 1 in/on countertop 1</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 将 菜刀 1 放在 台面 1 上</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>Nothing happens.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span>什么都没有发生。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; think: I need to put this knife (1) in/on countertop 1.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&gt; 思考：我需要把这把刀 (1) 放入/放在柜台 1 上。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>OK.</span></p><p>&nbsp;</p><hr /><p>&nbsp;</p><p><span>Table 10: Example trajectories for Webshop predicted by Act and ReAct. Compared to Act, ReAct uses reasoning to find products that satisfy all target attributes.</span>
<span>表 10：Act 和 ReAct 预测的 Webshop 示例轨迹。与 Act 相比，ReAct 使用推理来寻找满足所有目标属性的产品。</span></p><p><img src="https://raw.githubusercontent.com/Tsuki-Gor/Pic_Bed_Ob/main/Mixed/M2026/02/2026_02_18__00_16_23_9a65f3.jpg"/></p><p>&nbsp;</p><h2 id='e-more-analysis'><span>E MORE ANALYSIS</span></h2><h2 id='e-更多分析'><span>E 更多分析</span></h2><h3 id='e1-success-and-failure-modes-analysis'><span>E.1 SUCCESS AND FAILURE MODES ANALYSIS</span></h3><h3 id='e1-成功与失败模式分析'><span>E.1 成功与失败模式分析</span></h3><p><span>We provide some examples corresponding to the success and error mode analysis given in Sec. 3.3 Search results and non-representative steps are omitted to reduce space.</span>
<span>我们提供了与 3.3 节中成功和错误模式分析相对应的示例。为节省空间，省略了搜索结果和非代表性步骤。</span></p><table><tr><td></td><td>Success: True positive</td></tr><tr><td colspan="2">ReAct</td></tr><tr><td>Question:</td><td>Author David Chanoff has collaborated with a U.S. Navy admiral who served as the ambassador to the United Kingdom under which President?</td></tr><tr><td>Thought 1:</td><td>I need to search David Chanoff and find the U.S. Navy admiral he collaborated with.</td></tr><tr><td>Action 1:</td><td>Search [David Chanoff]</td></tr><tr><td>Observation 1: <br> Action 2:</td><td>David Chanoff is a noted author... <br> Search [William J. Crowe]</td></tr><tr><td>Observation 2:</td><td>William J. Crowe is...</td></tr><tr><td>Thought 3:</td><td>William J. Crowe served as the ambassador to the United Kingdom under <br> President Bill Clinton. So the answer is Bill Clinton.</td></tr><tr><td>Action 3:</td><td>Finish[Bill Clinton]</td></tr><tr><td>Observation 3:</td><td>Episode finished</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>Question:</td><td>What was the name of the team that represented an Arizona university in the conference that covers a broad expanse of the western United States, including Arizona, California, and New Mexico?</td></tr><tr><td>Thought:</td><td>Let's think step by step. The name of the team that represented an Arizona university in the conference that covers a broad expanse of the western United States, including Arizona, California, and New Mexico is Arizona State Sun Devils.</td></tr><tr><td>Answer:</td><td>Arizona State Sun Devils</td></tr></table>
<table><tbody><tr><td></td><td>成功：真阳性</td></tr><tr><td colspan="2">ReAct</td></tr><tr><td>问题：</td><td>作者 David Chanoff 曾与一位担任过驻英国大使的美国海军上将合作，请问该大使是在哪位总统任期内任职的？</td></tr><tr><td>思考 1：</td><td>我需要搜索 David Chanoff，找到与他合作过的美国海军上将。</td></tr><tr><td>操作 1：</td><td>搜索 [David Chanoff]</td></tr><tr><td>观察 1：<br/> 操作 2：</td><td>David Chanoff 是一位著名的作者……<br/> 搜索 [William J. Crowe]</td></tr><tr><td>观察 2：</td><td>William J. Crowe 是……</td></tr><tr><td>思考 3：</td><td>William J. Crowe 在比尔·克林顿总统任期内担任驻英国大使。所以答案是比尔·克林顿。</td></tr><tr><td>操作 3：</td><td>结束 [比尔·克林顿]</td></tr><tr><td>观察 3：</td><td>流程结束</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>问题：</td><td>哪支队伍代表亚利桑那州的大学参加了涵盖美国西部广大地区（包括亚利桑那州、加利福尼亚州和新墨西哥州）的联盟赛事？</td></tr><tr><td>思考：</td><td>让我们一步步思考。代表亚利桑那州的大学参加涵盖美国西部广大地区（包括亚利桑那州、加利福尼亚州和新墨西哥州）联盟赛事的队伍名称是亚利桑那州立大学太阳魔队。</td></tr><tr><td>回答：</td><td>亚利桑那州立大学太阳魔队</td></tr></tbody></table><table><tr><td></td><td>Success: False positive</td></tr><tr><td>ReAct <br> Question: <br> Thought 1: <br> Action 1: <br> Observation 1: <br> Thought 2: <br> Action 2: <br> Observation 2: <br> Thought 3: <br> Action 3: <br> Observation 3:</td><td>Did the board game San Marco or About Time come out first? <br> I need to search San Marco and About Time, and find which came out first. Search[San Marco] <br> San Marco is one of the ... The was built in venice. <br> San Marco is a sestiere of Venice. I need to search About Time next. Search [About Time] <br> Could not find [About Time]. Similar: [...]. <br> About Time is a 2013 film. So San Marco came out first. <br> Finish[San Marco] <br> Episode finished</td></tr><tr><td>CoT <br> Question: Thought: <br> Answer:</td><td>Was Vanderbilt University or Emory University founded first? <br> Let's think step by step. Vanderbilt University was founded in 1873. Emory University was founded in 1836. 1873 (Vanderbilt University) > 1836 (Emory University), so Vanderbilt University was founded first. <br> Emory University</td></tr></table>
<table><tbody><tr><td></td><td>成功：误报</td></tr><tr><td>ReAct <br/> 问题： <br/> 思考 1： <br/> 行动 1： <br/> 观察 1： <br/> 思考 2： <br/> 行动 2： <br/> 观察 2： <br/> 思考 3： <br/> 行动 3： <br/> 观察 3：</td><td>桌游《圣马可》(San Marco) 和《时空恋旅人》(About Time) 哪个先推出？ <br/> 我需要搜索《圣马可》和《时空恋旅人》，找出哪个先推出。搜索 [圣马可] <br/> 《圣马可》是……之一。它建于威尼斯。 <br/> 圣马可是威尼斯的一个行政区。接下来我需要搜索《时空恋旅人》。搜索 [About Time] <br/> 未能找到 [About Time]。相似条目：[...]。 <br/> 《时空恋旅人》是一部 2013 年的电影。所以《圣马可》先推出。 <br/> 完成 [圣马可] <br/> 回合结束</td></tr><tr><td>CoT <br/> 问题：思考： <br/> 回答：</td><td>范德堡大学和埃默里大学哪所大学先创立？ <br/> 让我们一步步思考。范德堡大学成立于 1873 年。埃默里大学成立于 1836 年。1873 年（范德堡大学） > 1836 年（埃默里大学），所以范德堡大学成立更晚。 <br/> 埃默里大学</td></tr></tbody></table><table><tr><td></td><td>Failure: Reasoning error</td></tr><tr><td>ReAct</td><td></td></tr><tr><td>Question:</td><td>What was the middle name of the actress who was cast alongside Harvey Fierstein, Linda Hart, Dick Latessa, Clarke Thorell, Mary Bond Davis, Laur Bell Bundy, Matthew Morrison, Corey Reynolds, and Marissa Jaret Winokur in Hairspray?</td></tr><tr><td>Thought 1:</td><td>I need to search Harvey Fierstein, Linda Hart, Dick Latessa, Clarke Thorell, Mary Bond Davis, Laura Bell Bundy, Matthew Morrison, Corey Reynolds, and Marissa Jaret Winokur, find the actress that was cast alongside them in Hairspray, then find its middle name.</td></tr><tr><td>Action 1:</td><td>Search [Harvey Fierstein]</td></tr><tr><td>Observation 1:</td><td>Harvey Forbes Fierstein ...</td></tr><tr><td>Thought 2:</td><td>Harvey Fierstein is an actor, playwright, and screenwriter. I need to search Linda Hart next...</td></tr><tr><td>Action 2:</td><td>Search[Linda Hart]...</td></tr><tr><td>CoT</td><td></td></tr><tr><td>Question: Thought:</td><td>Who is older Danny Green or James Worthy? <br> Let's think step by step. Danny Green was born in 1987. James Worthy was born in 1961. 1987 (Danny Green) > 1961 (James Worthy), so Danny Green is older.</td></tr><tr><td>Answer:</td><td>Danny Green</td></tr></table>
<table><tbody><tr><td></td><td>失败：推理错误</td></tr><tr><td>ReAct</td><td></td></tr><tr><td>问题：</td><td>在《发胶星梦》中，与哈维·费斯特恩、琳达·哈特、迪克·拉泰萨、克拉克·索雷尔、玛丽·邦德·戴维斯、劳拉·贝尔·邦迪、马修·莫里森、科里·雷诺兹和玛丽莎·贾特·威诺克共同出演的女演员中间名叫什么？</td></tr><tr><td>思考 1：</td><td>我需要搜索哈维·费斯特恩、琳达·哈特、迪克·拉泰萨、克拉克·索雷尔、玛丽·邦德·戴维斯、劳拉·贝尔·邦迪、马修·莫里森、科里·雷诺兹和玛丽莎·贾特·威诺克，找到在《发胶星梦》中与他们共同出演的女演员，然后找到她的中间名。</td></tr><tr><td>动作 1：</td><td>搜索 [Harvey Fierstein]</td></tr><tr><td>观察 1：</td><td>哈维·福布斯·费斯特恩 ...</td></tr><tr><td>思考 2：</td><td>哈维·费斯特恩是一位演员、剧作家和编剧。接下来我需要搜索琳达·哈特……</td></tr><tr><td>动作 2：</td><td>搜索 [Linda Hart]……</td></tr><tr><td>思维链 (CoT)</td><td></td></tr><tr><td>问题：思考：</td><td>丹尼·格林和詹姆斯·沃西谁的年龄更大？<br/> 让我们逐步思考。丹尼·格林出生于 1987 年。詹姆斯·沃西出生于 1961 年。1987 年 (丹尼·格林) > 1961 年 (詹姆斯·沃西)，所以丹尼·格林更年轻（原文逻辑有误，此处按原文意译：丹尼·格林更大）。</td></tr><tr><td>回答：</td><td>丹尼·格林</td></tr></tbody></table><table><tr><td></td><td>Failure: Search error</td></tr><tr><td>ReAct</td><td></td></tr><tr><td>Question:</td><td>What does the goddess associated with the goddess frigg consists of what tales?</td></tr><tr><td>Thought 1: <br> Action 1:</td><td>I need to search goddess frigg and find its associated goddess. <br> Search [goddess frigg]</td></tr><tr><td>Observation 1:</td><td>Could not find goddess frigg. Similar: ['Frigg', 'Frigg and Freyja common <br> origin hypothesis', 'Freyja (section Relation to Frigg and other goddesses <br> and figures)', 'Eir (redirect from Eir (goddess))', 'Baldr'].</td></tr><tr><td>Thought 2:</td><td>I need to search Frigg instead...</td></tr></table>
<table><tbody><tr><td></td><td>失败：搜索错误</td></tr><tr><td>ReAct</td><td></td></tr><tr><td>问题：</td><td>与女神弗丽嘉相关的女神由哪些故事组成？</td></tr><tr><td>思考 1：<br/> 行动 1：</td><td>我需要搜索女神弗丽嘉并找到与其相关的女神。<br/> 搜索 [女神弗丽嘉]</td></tr><tr><td>观察 1：</td><td>未找到女神弗丽嘉。相似项：['弗丽嘉', '弗丽嘉与芙蕾雅共同起源假说', '芙蕾雅（章节：与弗丽嘉及其他女神和人物的关系）', '埃尔（重定向自埃尔（女神））', '巴德尔']。</td></tr><tr><td>思考 2：</td><td>我需要改为搜索“弗丽嘉”...</td></tr></tbody></table><table><tr><td colspan="2">Failure: Hallucination</td></tr><tr><td>CoT <br> Question: <br> Thought: <br> Answer:</td><td>What was the first year a scientific journal published by an organization located in the Bronx was published? <br> Let's think step by step. The first year a scientific journal published by an organization located in the Bronx was published was 1916. <br> 1916 (Label: 1909)</td></tr></table>
<table><tbody><tr><td colspan="2">失败：幻觉</td></tr><tr><td>CoT <br/> 问题：<br/> 思考：<br/> 回答：</td><td>由位于布朗克斯的机构出版的科学期刊最早是哪一年出版的？<br/> 让我们循序渐进地思考。由位于布朗克斯的机构出版的第一本科学期刊出版于1916年。<br/> 1916 (标签：1909)</td></tr></tbody></table><table><tr><td></td><td>Failure: Label ambiguity</td></tr><tr><td colspan="2">ReAct</td></tr><tr><td>Question:</td><td>What nationality is the man who developed the dictator game?</td></tr><tr><td>Thought 1:</td><td>I need to search dictator game, find the man who developed it, then find his nationality.</td></tr><tr><td>Action 1:</td><td>Search [dictator qame]</td></tr><tr><td>Observation 1:</td><td>The dictator game is a popular experimental instrument in social psychology and economics...</td></tr><tr><td>Action 3:</td><td>Search [Amos Tversky]</td></tr><tr><td>Observation 3:</td><td>Amos Nathan Tversky...</td></tr><tr><td>Thought 4:</td><td>Amos Tversky is an Israeli cognitive and mathematical psychologist. So the man who developed the dictator game is Israeli.</td></tr><tr><td>Action 4:</td><td>Finish[Israeli] (label: Israel-American)</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>Question:</td><td>Kurt Fuller from Stockton, CA appeared in which American Detective Comedy Drama television series created by Steve Franks?</td></tr><tr><td>Thought:</td><td>Let's think step by step. Kurt Fuller from Stockton, CA appeared in Psych. <br> Psych is an American Detective Comedy Drama television series created by</td></tr><tr><td></td><td>Steve Franks.</td></tr><tr><td>Answer:</td><td>Psych (label: Psych is an American detective comedy-drama)</td></tr></table>
<table><tbody><tr><td></td><td>失败：标签歧义</td></tr><tr><td colspan="2">ReAct</td></tr><tr><td>问题：</td><td>开发独裁者游戏的人是什么国籍？</td></tr><tr><td>思考 1：</td><td>我需要搜索独裁者游戏，找到其开发者，然后查询他的国籍。</td></tr><tr><td>操作 1：</td><td>搜索 [独裁者游戏]</td></tr><tr><td>观察 1：</td><td>独裁者游戏是社会心理学和经济学中常用的实验工具……</td></tr><tr><td>操作 3：</td><td>搜索 [阿莫斯·特沃斯基]</td></tr><tr><td>观察 3：</td><td>阿莫斯·内森·特沃斯基……</td></tr><tr><td>思考 4：</td><td>阿莫斯·特沃斯基是一位以色列认知心理学家和数学心理学家。因此，开发独裁者游戏的人是以色列人。</td></tr><tr><td>操作 4：</td><td>结束[以色列人]（标签：以色列裔美国人）</td></tr><tr><td colspan="2">CoT</td></tr><tr><td>问题：</td><td>来自加州斯托克顿的库尔特·富勒出演了哪部由史蒂夫·弗兰克斯创作的美国侦探喜剧剧集？</td></tr><tr><td>思考：</td><td>让我们一步步思考。来自加州斯托克顿的库尔特·富勒出演了《灵异妙探》。<br/>《灵异妙探》是一部美国侦探喜剧剧集，由以下作者创作：</td></tr><tr><td></td><td>史蒂夫·弗兰克斯。</td></tr><tr><td>回答：</td><td>《灵异妙探》（标签：灵异妙探是一部美国侦探喜剧）</td></tr></tbody></table></div></div>

<script>(function(){function e(e,n,i){document.addEventListener(e,function(e){if(!e.defaultPrevented)for(var t=e.target;t&&t!=this;t=t.parentNode)if(t.matches(n)){!1===i.call(t,e)&&(e.preventDefault(),e.stopPropagation());break}},!1)}var t=document.body.parentElement,i=[],r=null,o=document.body.classList.contains("typora-export-collapse-outline");function a(){return t.scrollTop}e("click",".outline-expander",function(e){var t=this.closest(".outline-item-wrapper").classList;return t.contains("outline-item-open")?t.remove("outline-item-open"):t.add("outline-item-open"),u(),!1}),e("click",".outline-item",function(e){var t=this.querySelector(".outline-label");location.hash="#"+t.getAttribute("href"),o&&((t=this.closest(".outline-item-wrapper").classList).contains("outline-item-open")||t.add("outline-item-open"),d(),t.add("outline-item-active"))});function s(){var e=a();r=null;for(var t=0;t<i.length&&i[t][1]-e<60;t++)r=i[t]}function n(){c=setTimeout(function(){var n;i=[],n=a(),document.querySelector("#write").querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(e=>{var t=e.getAttribute("id");i.push([t,n+e.getBoundingClientRect().y])}),s(),u()},300)}var l,c,d=function(){document.querySelectorAll(".outline-item-active").forEach(e=>e.classList.remove("outline-item-active")),document.querySelectorAll(".outline-item-single.outline-item-open").forEach(e=>e.classList.remove("outline-item-open"))},u=function(){if(r&&(d(),t=document.querySelector('.outline-label[href="#'+(CSS.escape?CSS.escape(r[0]):r[0])+'"]')))if(o){var e=t.closest(".outline-item-open>ul>.outline-item-wrapper");if(e)e.classList.add("outline-item-active");else{for(var t,n=(t=t.closest(".outline-item-wrapper")).parentElement.closest(".outline-item-wrapper");n;)n=(t=n).parentElement.closest(".outline-item-wrapper");t.classList.add("outline-item-active")}}else t.closest(".outline-item-wrapper").classList.add("outline-item-active")};window.addEventListener("scroll",function(e){l&&clearTimeout(l),l=setTimeout(function(){s(),u()},300)});window.addEventListener("resize",function(e){c&&clearTimeout(c),n()}),n()})();</script><style>
/* ===== Typora Enhancer (safe-only hotkeys + tiny tools tab + light progress info + gallery non-overlap) ===== */

/* 顶部阅读进度条 */
#ty-progress {
  position: fixed; z-index: 9999; top: 0; left: 0; height: 3px; width: 100%;
  background: linear-gradient(to right, #4da3ff, #7c4dff);
  transform-origin: 0 50%; transform: scaleX(0); pointer-events: none;
}
/* 进度信息：仅 百分比 / 已读时间（弱遮挡 + 不拦截鼠标） */
#ty-progress-info{
  position: fixed; top: 6px; right: 6px; z-index: 10000;
  font: 12px/1.4 system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  color:#fff; background: rgba(0,0,0,.25);
  padding: 2px 6px; border-radius: 7px; backdrop-filter: saturate(120%) blur(1.5px);
  user-select: none; pointer-events: none;
}
#ty-progress-info b{ font-weight:600 }

/* 右下功能栏 */
#ty-tools {
  position: fixed; z-index: 9999; right: 18px; bottom: 24px; display: flex; gap: 10px; flex-direction: column;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  transition: transform .25s ease, opacity .2s ease;
}
.ty-btn {
  background: rgba(0,0,0,.7); color: #fff; border-radius: 10px; padding: 8px 10px;
  font-size: 12px; cursor: pointer; user-select: none; backdrop-filter: saturate(120%) blur(2px);
  transition: transform .15s ease, background .2s ease;
}
.ty-btn:hover { transform: translateY(-1px); background: rgba(0,0,0,.82); }
.ty-btn[hidden] { display: none !important; }

/* 工具栏内的收起按钮（纯图标、很小） */
#ty-tools .ty-mini{
  width: 26px; height: 26px; padding: 0;
  border-radius: 50%;
  display: grid; place-items: center;
  font-size: 16px; line-height: 1;
}

/* 工具栏收起时隐藏，仅保留“抽屉拉手” */
body.ty-tools-collapsed #ty-tools{ opacity:0; pointer-events:none; transform: translateX(18px); }

/* 抽屉拉手：超小、仅图标，避免与工具栏重叠（默认样式，保留普通浏览器的行为） */
#ty-tools-tab{
  --tab-size: 26px;
  position: fixed;
  right: 6px;
  bottom: 26px;
  z-index: 10001;
  width: var(--tab-size);
  height: var(--tab-size);
  display: grid;
  place-items: center;
  background: rgba(0,0,0,.65);
  color:#fff;
  font-size: 15px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  transition: background .2s ease, opacity .2s ease;
  backdrop-filter: saturate(120%) blur(2px);
  /* 不再使用 translateX 推出视口 */
  transform: none;
}
body:not(.ty-tools-collapsed) #ty-tools-tab{
  opacity: 0;
  pointer-events: none;
}
#ty-tools-tab:hover{ background: rgba(0,0,0,.8); }
#ty-tools-tab .ico{ line-height: 1; font-weight: 600; }

/* 防止微小水平溢出触发 WKWebView 的整页缩放（基础防线，不影响普通浏览器布局） */
html, body { overflow-x: hidden; }

/* 窄宽度时的基本降噪（保留你原有规则） */
@media (max-width: 720px){
  .typora-export-sidebar { display: none !important; }
  .outline,
  .outline-panel,
  .typora-export .sidebar { display: none !important; }
  #ty-progress-info{ display: none !important; }
}

/* 标题锚点（左侧“#”） */
#write h1,#write h2,#write h3,#write h4,#write h5,#write h6{ position:relative; }
.ty-anchor {
  position:absolute; left:-1.2em; top:50%; transform:translateY(-50%);
  opacity:0; text-decoration:none; color:#999; font-weight:600; font-size:.9em;
  padding:0 .2em; border-radius:4px;
}
#write h1:hover .ty-anchor,#write h2:hover .ty-anchor,#write h3:hover .ty-anchor,
#write h4:hover .ty-anchor,#write h5:hover .ty-anchor,#write h6:hover .ty-anchor{ opacity:1 }
@media (max-width:768px){ .ty-anchor{ left:auto; right:-.8em } }

/* 复制提示气泡 */
.ty-tip {
  position:absolute; left:-1.2em; top:0; transform: translate(-10%, -120%);
  background: rgba(0,0,0,.8); color: #fff; padding: 3px 8px; border-radius: 6px;
  font-size: 12px; white-space: nowrap; pointer-events: none; opacity: 0;
}
@media (max-width:768px){ .ty-tip{ left:auto; right:-.8em; transform: translate(10%,-120%) }}

/* 大纲高亮 */
.outline-content .active,
.outline-content .active > .outline-item,
.outline-content a.active { color: #2a72ff; }

/* 简单收起侧栏：仅隐藏 */
body.ty-outline-hidden .typora-export-sidebar{ display:none !important; }

/* ========= 图片灯箱（含左侧缩略条、非重叠布局） ========= */
#ty-lightbox {
  /* 预留左侧缩略条安全区，避免与大图/按钮重叠 */
  --lb-strip-w: 108px; /* 左侧缩略条宽度（含边距） */
  position: fixed; inset: 0; background: rgba(0,0,0,.92); display: none; z-index: 9998;
  padding-left: calc(var(--lb-strip-w) + 12px);
}
#ty-lightbox.open { display: flex; align-items: center; justify-content: center; }
.ty-lb-img { max-width: calc(92vw - var(--lb-strip-w)); max-height: 86vh; }
.ty-lb-cap { position: fixed; bottom: 64px; left: 50%; transform: translateX(-50%); color: #ddd; font-size: 13px; }

/* 画廊控制按钮（左箭头避开缩略条） */
.ty-lb-prev, .ty-lb-next, .ty-lb-close {
  position: fixed; top: 50%; transform: translateY(-50%);
  background: rgba(255,255,255,.12); color: #fff; border-radius: 50%; width: 40px; height: 40px;
  display: grid; place-items: center; font-size: 18px; cursor: pointer; user-select: none;
}
.ty-lb-prev:hover, .ty-lb-next:hover, .ty-lb-close:hover { background: rgba(255,255,255,.18); }
.ty-lb-prev { left: calc(var(--lb-strip-w) + 24px); }
.ty-lb-next { right: 24px; } 
.ty-lb-close { right: 24px; top: 24px; transform: none; }

/* 画廊顶部序号 */
#ty-lb-count{
  position: fixed; top: 14px; left: 50%; transform: translateX(-50%);
  color:#eee; background: rgba(0,0,0,.35); padding: 4px 10px;
  border-radius: 8px; font: 12px/1.3 system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}

/* 画廊底部动作区 */
#ty-lb-actions{
  position: fixed; bottom: 18px; left: 50%; transform: translateX(-50%);
  display: flex; gap: 10px; background: rgba(0,0,0,.35); padding: 8px 10px; border-radius: 12px;
}
.ty-act-btn{
  background: rgba(255,255,255,.16); color:#fff; border-radius: 8px; padding: 6px 10px;
  font-size: 12px; cursor: pointer; user-select: none; border: 1px solid rgba(255,255,255,.18);
}
.ty-act-btn:hover{ background: rgba(255,255,255,.22); }

/* 画廊左侧缩略图条（不与大图重叠） */
#ty-lb-strip{
  position: fixed; left: 12px; top: 50%; transform: translateY(-50%);
  display: flex; flex-direction: column; gap: 8px; max-height: 80vh; overflow: auto; padding-right: 4px;
  width: var(--lb-strip-w);
}
.ty-thumb{
  position: relative; width: 96px; height: 68px; object-fit: cover; border-radius: 6px;
  border: 1px solid rgba(255,255,255,.25); cursor: pointer; opacity: .9; background: #111;
}
.ty-thumb:hover{ opacity: 1; }
.ty-thumb.active{ outline: 2px solid #7c4dff; opacity: 1; }
.ty-thumb::after{
  content: attr(data-idx); position: absolute; left: 4px; top: 2px;
  font: 10px/1.1 system-ui,-apple-system,"Segoe UI"; background: rgba(0,0,0,.55); color:#fff;
  padding: 1px 4px; border-radius: 4px;
}

/* —— 快速帮助浮层 —— */
#ty-help-overlay{
  position: fixed; inset: 0; background: rgba(0,0,0,.55); display: none; z-index: 10000;
}
#ty-help-overlay.open{ display: flex; align-items: center; justify-content: center; }
.ty-help-dialog{
  position: relative; width: min(720px, 92vw); max-height: 84vh; overflow: auto;
  background: #fff; color: #222; border-radius: 12px; padding: 18px 20px;
  box-shadow: 0 12px 36px rgba(0,0,0,.25);
  font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}
.ty-help-dialog h3{ margin: 0 0 6px; font-size: 20px; }
.ty-help-dialog h4{ margin: 14px 0 6px; font-size: 15px; color: #444; }
.ty-help-dialog code, .ty-help-dialog kbd{
  background: #f4f6f8; border: 1px solid #e5e8eb; border-radius: 6px; padding: 2px 6px; font-size: 12px;
}
.ty-help-close{
  position: absolute; right: 10px; top: 8px; width: 34px; height: 34px;
  display: grid; place-items: center; border-radius: 8px; cursor: pointer;
  background: #f2f3f5; color: #444; font-size: 16px; user-select: none;
}
.ty-help-close:hover{ background: #e9eaee; }
.ty-help-grid{ display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
@media (max-width:680px){
  /* 小屏缩窄缩略条并自动适配左侧安全区 */
  #ty-lightbox{ --lb-strip-w: 80px; padding-left: calc(var(--lb-strip-w) + 8px); }
  .ty-thumb{ width: 72px; height: 52px; }
  .ty-lb-prev{ left: calc(var(--lb-strip-w) + 16px) }
}

/* —— 可视化注释（由 HTML 注释生成） —— */
.ty-cmt{
  display: inline-block; max-width: 100%;
  background: #fffbe6; border: 1px solid #ffe58f; color: #333;
  border-radius: 8px; padding: 4px 8px; margin: 2px 4px; vertical-align: baseline;
  font-size: 12px; line-height: 1.5; box-shadow: 0 1px 0 rgba(0,0,0,.03);
}
.ty-cmt::before{
  content: "注释"; font-weight: 600; color: #ad6800;
  margin-right: .5em; padding: 1px 6px; border-radius: 6px;
  background: #fff1b8; border: 1px solid #ffe58f;
}
body.ty-cmt-hidden .ty-cmt{ display: none !important; }

/* 文中图片跳回高亮动画（保留） */
@keyframes ty-img-flash{
  0%{ box-shadow: 0 0 0 0 rgba(124,77,255,.0) }
  50%{ box-shadow: 0 0 0 6px rgba(124,77,255,.3) }
  100%{ box-shadow: 0 0 0 0 rgba(124,77,255,0) }
}
.ty-img-flash{ animation: ty-img-flash 1.2s ease-out 1; border-radius: 6px; }

/* =========================
   === MN4 专用：仅在 WKWebView 且窄窗口时生效 ===
   （通过 <html>.mn4-narrow 进行作用域限制，避免影响普通浏览器）
   ========================= */

/* 1) WKWebView 禁止文字自动缩放 */
html.ty-wk{
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* 2) MN4 窄窗：隐藏目录 + 进度信息 + 去除正文阴影/边框，仅在 mn4-narrow 生效 */
html.mn4-narrow .typora-export-sidebar,
html.mn4-narrow .outline,
html.mn4-narrow .outline-panel,
html.mn4-narrow .typora-export .sidebar{
  display: none !important;
}

html.mn4-narrow #ty-progress-info{
  display: none !important;
}

/* 去除正文容器两侧的阴影/边框（不影响普通浏览器，因为有作用域） */
html.mn4-narrow #write,
html.mn4-narrow .typora-export,
html.mn4-narrow .typora-export-content{
  box-shadow: none !important;
  border: none !important;
  max-width: 100% !important;
  margin: 0 auto !important;
}

/* 防止任何横向溢出导致整体缩放（仅在 mn4-narrow 下更激进） */
html.mn4-narrow body{ overflow-x: hidden !important; }
html.mn4-narrow #write img,
html.mn4-narrow #write table{ max-width: 100% !important; height: auto; }
html.mn4-narrow #write p,
html.mn4-narrow #write li,
html.mn4-narrow #write blockquote{ overflow-wrap: anywhere; word-break: break-word; }

/* 抽屉拉手在 MN4 下也绝不越界 */
html.mn4-narrow #ty-tools-tab{ right: 6px !important; bottom: 26px !important; transform: none !important; }

/* === MN4 窄窗字体修正（避免整页缩放）=== */
/* 关键：不要把 text-size-adjust 设成 >100%，否则 WKWebView 可能整页缩小 */
html.ty-wk.mn4-narrow{
  -webkit-text-size-adjust: 100% !important;
  text-size-adjust: 100% !important;
}

/* 用像素提升正文基准字号（不要用 pt），只在 MN4 窄窗生效 */
html.mn4-narrow #write{
  font-size: 12px !important;   /* 可改 16~18px 之间微调 */
  line-height: 1.25 !important;
}

/* 标题按比例微调，避免过大或过小 */
html.mn4-narrow #write h1{ font-size: 1.9em !important; }
html.mn4-narrow #write h2{ font-size: 1.6em !important; }
html.mn4-narrow #write h3{ font-size: 1.35em !important; }
html.mn4-narrow #write h4{ font-size: 1.15em !important; }

/* 避免“横向撑爆 → 触发整页缩放”：表格与代码块在窄窗必须自适应 */
html.mn4-narrow #write table{
  display: block;               /* 允许内滚动，阻断页面被迫缩放 */
  width: 100% !important;
  overflow-x: auto !important;
}

html.mn4-narrow #write .md-fences,
html.mn4-narrow #write pre{
  max-width: 100% !important;
  overflow-x: auto !important;  /* 保留等宽格式，用横向滚动而不是压缩页面 */
  white-space: pre;             /* 不强制换行，避免代码失真 */
  -webkit-overflow-scrolling: touch;
  font-size: 0.95em !important; /* 代码略微小一档，整体更协调 */
}

/* 数学公式轻微放大，避免相对变小 */
html.mn4-narrow .math,
html.mn4-narrow .md-math-block,
html.mn4-narrow .md-inline-math-container mjx-container{
  font-size: 1.04em !important;
}

/* MN4：全局水平留白，用一个变量统一调 */
html.mn4-narrow{ --mn4-pad-x: 11px; }   /* 你觉得还大就改 8px；还小就改 12px */

html.mn4-narrow body{ margin: 0 !important; } /* 清掉 iOS/Safari 的默认 8px 外边距 */

html.mn4-narrow .typora-export,
html.mn4-narrow .typora-export-content,
html.mn4-narrow #write{
  padding-left:  var(--mn4-pad-x) !important;
  padding-right: var(--mn4-pad-x) !important;
}

html.mn4-narrow .typora-export,
html.mn4-narrow .typora-export-content,
html.mn4-narrow #write{
  max-width: none !important;
  width: 100% !important;
}

</style>

<div id="ty-progress"></div>
<div id="ty-progress-info" aria-live="polite">进度 <b>0.0%</b> ｜ 已读 <b>00:00</b></div>

<!-- 工具栏抽屉拉手（仅图标，默认收起） -->
<div id="ty-tools-tab" title="展开工具栏">
  <span class="ico">≡</span>
</div>

<div id="ty-tools" aria-label="Page tools">

  <!-- 新增：收起按钮，图标 × -->
  <div class="ty-btn ty-mini" id="ty-tools-close" title="收起工具栏">×</div>

  <div class="ty-btn" id="ty-outline" title="收起/展开左侧大纲（O）">收起/展开大纲（O）</div>
  <div class="ty-btn" id="ty-top" title="回到顶部（T）">回到顶部（T）</div>
  <div class="ty-btn" id="ty-urlmode" title="切换复制链接样式（当前：原文）
快捷键：U 循环；Alt+1 原文，Alt+2 %编码，Alt+3 富文本片段">链接样式：原文</div>
  <div class="ty-btn" id="ty-copyfmt" title="切换复制格式（当前：URL）
快捷键：M 切换；Alt+U URL，Alt+M Markdown" hidden="">复制为：URL</div>
  <div class="ty-btn" id="ty-expand" hidden="" title="大纲一键展开（E）">展开全部（E）</div>
  <div class="ty-btn" id="ty-collapse" hidden="" title="大纲一键收起（R）">收起全部（R）</div>
  <div class="ty-btn" id="ty-help" title="快速帮助（H）">帮助 / 快捷键（H）</div>
  <div class="ty-btn" id="ty-comments" title="显示/隐藏注释（C）">隐藏注释（C）</div>
</div>

<!-- 图片灯箱 -->
<div id="ty-lightbox" aria-modal="true" role="dialog">
  <!-- 左侧缩略图条 -->
  <div id="ty-lb-strip"></div>

  <!-- 顶部序号 -->
  <div id="ty-lb-count"></div>

  <img class="ty-lb-img" alt="">
  <div class="ty-lb-cap"></div>

  <!-- 底部动作按钮 -->
  <div id="ty-lb-actions">
    <div class="ty-act-btn" id="ty-lb-copy" title="复制图片链接">复制图片链接</div>
    <div class="ty-act-btn" id="ty-lb-fmt" title="切换复制格式（URL / Markdown）">复制为：URL</div>
    <div class="ty-act-btn" id="ty-lb-jump" title="跳转到文中该图片位置">跳转到文中</div>
  </div>

  <div class="ty-lb-prev">‹</div>
  <div class="ty-lb-next">›</div>
  <div class="ty-lb-close">✕</div>
</div>

<!-- 快速帮助浮层（保持不变） -->
<div id="ty-help-overlay" role="dialog" aria-modal="true" aria-label="快速帮助">
  <div class="ty-help-dialog">
    <div class="ty-help-close" id="ty-help-close" title="关闭（Esc）">✕</div>
    <h3>快速帮助</h3>
    <div class="ty-help-grid">
      <div>
        <h4>当前模式</h4>
        <p>链接样式：<b id="ty-help-cur-urlmode">—</b></p>
        <p>复制为：<b id="ty-help-cur-copyfmt">—</b></p>
      </div>
      <div>
        <h4>常用操作</h4>
        <p><kbd>#</kbd> 图标：复制段落链接 / 片段</p>
        <p>收起/展开大纲：<kbd>O</kbd>；回到顶部：<kbd>T</kbd></p>
        <p>显示/隐藏注释：<kbd>C</kbd></p>
      </div>
    </div>
    <h4>链接样式</h4>
    <ul>
      <li><b>原文</b>：<code>#段落</code>（<kbd>Alt</kbd>+<kbd>1</kbd>）</li>
      <li><b>%编码</b>：<code>#%E6%AE%B5%E8%90%BD</code>（<kbd>Alt</kbd>+<kbd>2</kbd>）</li>
      <li><b>富文本片段</b>（HTML 片段）（<kbd>Alt</kbd>+<kbd>3</kbd>）</li>
      <li>循环切换：<kbd>U</kbd></li>
    </ul>
    <h4>复制格式（仅“原文 / %编码”可用）</h4>
    <ul>
      <li>设为 <b>URL</b>：<kbd>Alt</kbd>+<kbd>U</kbd></li>
      <li>设为 <b>Markdown</b>：<kbd>Alt</kbd>+<kbd>M</kbd></li>
      <li>二者切换：<kbd>M</kbd></li>
    </ul>
    <h4>大纲与导航</h4>
    <ul>
      <li>展开全部：<kbd>E</kbd>；收起全部：<kbd>R</kbd></li>
      <li>滚动时自动高亮并展开对应大纲分支</li>
    </ul>
  </div>
</div>

<script>
(()=> {
  const $  = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  const write       = $('#write') || document.body;
  const outlineRoot = $('.outline-content');

  /* ========== -1) 识别 WKWebView & MN4 窄窗标记：只影响 MN4，普通浏览器不变 ========== */
  const isWK = !!(window.webkit && window.webkit.messageHandlers);
  if (isWK) document.documentElement.classList.add('ty-wk');

  function applyMN4Narrow(){
    // 经验阈值：MN4 小窗常见 CSS 宽度 <= 1100
    const vw = Math.min(window.innerWidth || 0, document.documentElement.clientWidth || 0);
    const narrow = isWK && vw > 0 && vw <= 1100;
    document.documentElement.classList.toggle('mn4-narrow', !!narrow);

    // 在 MN4 窄窗时：确保目录逻辑被隐藏（与旧版行为一致）
    if (narrow) {
      document.body.classList.add('ty-outline-hidden');
      const side = document.querySelector('.typora-export-sidebar');
      if (side) side.style.display = 'none';
    }
  }
  applyMN4Narrow();
  window.addEventListener('resize', applyMN4Narrow, { passive:true });

  /* ========== 0) 工具栏抽屉：默认收起（仅图标按钮，避免重叠） ========== */
  const TOOLS_KEY = 'ty_tools_opened';
  const toolsTab  = $('#ty-tools-tab');
  function setToolsOpen(open){
    document.body.classList.toggle('ty-tools-collapsed', !open);
    toolsTab.title = open ? '收起工具栏' : '展开工具栏';
    toolsTab.querySelector('.ico').textContent = open ? '×' : '≡';
  }
  setToolsOpen(localStorage.getItem(TOOLS_KEY) === '1');
  toolsTab.addEventListener('click', ()=>{
    const nextOpen = document.body.classList.contains('ty-tools-collapsed');
    setToolsOpen(nextOpen);
    localStorage.setItem(TOOLS_KEY, nextOpen ? '1' : '0');
  });

  const toolsClose = $('#ty-tools-close');
  if (toolsClose) toolsClose.addEventListener('click', ()=>{
    setToolsOpen(false);               // 收起
    localStorage.setItem(TOOLS_KEY,'0');
  });

  /* ========== 1) 图片路径自动纠偏（图床通常不会触发） ========== */
  (function fixLocalImages(){
    const imgs = $$('img', write);
    const folders = ['.', 'assets', 'images', 'image', 'img', 'pics', '资源'];
    imgs.forEach(img=>{
      if (img.dataset && img.dataset.src && !img.src) img.src = img.dataset.src;
      try {
        const u = img.getAttribute('src') || '';
        if (u && !/^https?:/i.test(u)) {
          const d = decodeURI(u);
          const parts = d.split(/[/\\]/);
          const file  = parts.pop();
          if (file) {
            parts.push(encodeURIComponent(file));
            const enc = parts.join('/');
            if (enc !== u) img.src = enc;
          }
        }
      } catch(e){}
      img.addEventListener('error', ()=>{
        const original = img.getAttribute('data-src') || img.getAttribute('src') || '';
        const baseName = (original.split('?')[0]||'').split(/[\\/]/).pop();
        if (!baseName) return;
        const tried = new Set((img.dataset.tyTried||'').split('|').filter(Boolean));
        for (const folder of folders){
          const guess = (folder === '.') ? `./${baseName}` : `./${folder}/${baseName}`;
          if (tried.has(guess)) continue;
          tried.add(guess); img.dataset.tyTried = Array.from(tried).join('|'); img.src = guess; return;
        }
      });
    });
  })();

  /* ========== 2) 顶部阅读进度条 + 信息（百分比/时间） ========== */
  const bar = $('#ty-progress');
  const info = $('#ty-progress-info');
  const startAnchor = { t0: null };
  function fmtTime(sec){
    sec = Math.max(0, Math.floor(sec));
    const m = Math.floor(sec/60), s = sec%60;
    return String(m).padStart(2,'0') + ':' + String(s).padStart(2,'0');
  }
  function updateProgress(){
    const st = document.documentElement.scrollTop || document.body.scrollTop || 0;
    const sh = document.documentElement.scrollHeight || document.body.scrollHeight || 1;
    const max = Math.max(1, sh - window.innerHeight);
    const p = Math.min(1, st / max);
    bar.style.transform = 'scaleX(' + p + ')';
    const now = performance.now();
    if (startAnchor.t0 == null && st > 8) startAnchor.t0 = now;
    const pct = (p*100).toFixed(1);
    const elapsed = startAnchor.t0 ? (now - startAnchor.t0)/1000 : 0;
    info.innerHTML = `进度 <b>${pct}%</b> ｜ 已读 <b>${fmtTime(elapsed)}</b>`;
  }
  updateProgress();
  addEventListener('scroll', updateProgress, { passive:true });
  addEventListener('resize', updateProgress);

  /* ========== 3) 左侧大纲开合（保持） ========== */
  $('#ty-outline').addEventListener('click', ()=>{
    const hide = !document.body.classList.contains('ty-outline-hidden');
    document.body.classList.toggle('ty-outline-hidden', hide);
    document.body.classList.remove('typora-export-no-collapse-outline','typora-export-collapse-outline');
  });
  $('#ty-top').addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

  /* ========== 4) 链接样式 & 复制格式（保持） ========== */
  const MODE_KEY = 'ty_url_mode';        // raw / encoded / rich
  const FMT_KEY  = 'ty_copy_fmt';        // url / md
  let urlMode = (localStorage.getItem(MODE_KEY) || 'raw');
  if (!['raw','encoded','rich'].includes(urlMode)) urlMode = 'raw';
  let copyFmt = (localStorage.getItem(FMT_KEY)  || 'url');

  const btnUrlMode = $('#ty-urlmode');
  const btnCopyFmt = $('#ty-copyfmt');

  function urlModeLabel(m){ return m==='encoded' ? '%编码' : (m==='rich' ? '富文本片段' : '原文'); }
  function renderHelp(){
    $('#ty-help-cur-urlmode').textContent = urlModeLabel(urlMode);
    $('#ty-help-cur-copyfmt').textContent = (urlMode === 'rich') ? '（富文本片段下不适用）' : (copyFmt === 'md' ? 'Markdown' : 'URL');
  }
  function updateUrlModeButton(){
    const label = urlModeLabel(urlMode);
    btnUrlMode.textContent = '链接样式：' + label;
    btnUrlMode.title = '切换复制链接样式（当前：' + label + '）\n快捷键：U 循环；Alt+1 原文，Alt+2 %编码，Alt+3 富文本片段';
    btnCopyFmt.hidden = (urlMode === 'rich');
    renderHelp();
  }
  function updateCopyFmtButton(){
    btnCopyFmt.textContent = '复制为：' + (copyFmt==='md' ? 'Markdown' : 'URL');
    btnCopyFmt.title = '切换复制格式（当前：' + (copyFmt==='md' ? 'Markdown' : 'URL') + '）\n快捷键：M 切换；Alt+U URL，Alt+M Markdown';
    renderHelp();
  }
  function baseURL(){ return (location.href.split('#')[0] || location.href); }
  function buildURL(id, encoded=false){
    return baseURL() + '#' + (encoded ? encodeURIComponent(id) : id);
  }
  function setUrlMode(mode){
    if (!['raw','encoded','rich'].includes(mode)) return;
    urlMode = mode; localStorage.setItem(MODE_KEY, urlMode); updateUrlModeButton();
  }
  function setCopyFmt(fmt){
    if (!['url','md'].includes(fmt)) return;
    copyFmt = fmt; localStorage.setItem(FMT_KEY, copyFmt); updateCopyFmtButton();
  }
  btnUrlMode.addEventListener('click', ()=>{ setUrlMode(urlMode==='raw' ? 'encoded' : (urlMode==='encoded' ? 'rich' : 'raw')); });
  btnCopyFmt.addEventListener('click', ()=>{ setCopyFmt(copyFmt==='url' ? 'md' : 'url'); });
  updateUrlModeButton(); updateCopyFmtButton();

  /* ========== 5) 一键展开/收起所有层级（保持） ========== */
  const btnExpand = $('#ty-expand'), btnCollapse = $('#ty-collapse');
  if (outlineRoot){ btnExpand.hidden = false; btnCollapse.hidden = false; }
  const allWrappers = ()=> $$('.outline-item-wrapper', outlineRoot);
  function expandAll(){ allWrappers().forEach(w=> w.classList.add('outline-item-open')); document.body.classList.remove('typora-export-no-collapse-outline','typora-export-collapse-outline'); }
  function collapseAll(){ allWrappers().forEach(w=> w.classList.remove('outline-item-open')); document.body.classList.remove('typora-export-no-collapse-outline','typora-export-collapse-outline'); }
  btnExpand.addEventListener('click', expandAll);
  btnCollapse.addEventListener('click', collapseAll);

  /* ========== 6) 大纲节点点击（保持） ========== */
  if (outlineRoot){
    outlineRoot.addEventListener('click', (e)=>{
      const expander = e.target.closest('.outline-expander');
      if (expander){
        e.preventDefault();
        const w = expander.closest('.outline-item-wrapper');
        if (w) w.classList.toggle('outline-item-open');
        return;
      }
      const label = e.target.closest('.outline-label');
      if (label && !label.closest('a')){
        const w = label.closest('.outline-item-wrapper');
        if (w) w.classList.toggle('outline-item-open');
      }
    });
  }

  /* ========== 7) 文本工具：干净标题；从文件名推断论文标题（保持） ========== */
  function getCleanHeadingText(h){
    const clone = h.cloneNode(true);
    clone.querySelectorAll('.ty-anchor,.ty-tip').forEach(n=> n.remove());
    return (clone.textContent || '').replace(/\s+/g,' ').trim();
  }
  function filenameDerivedTitle(){
    const name = decodeURIComponent((location.pathname.split('/').pop()||'').replace(/\.[^.]+$/,''));
    const noTs = name.replace(/([_-])\d{4}-\d{2}-\d{2}(?:([_-])\d{2}\2\d{2}\2\d{2})?$/,'');
    const underscoresToSpace = noTs.replace(/_/g,' ').trim();
    const m = underscoresToSpace.match(/^(\d{4})[ _-]+(.*)$/);
    if (m) {
      const year = m[1]; const rest = (m[2]||'').trim();
      return year + (rest ? '-' + rest : '');
    }
    return underscoresToSpace;
  }

  /* ========== 8) 标题锚点复制（三种样式 + 两种格式）（保持） ========== */
  const used = new Set();
  function slugify(text){
    const base = text.toLowerCase().trim()
      .replace(/[\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,./:;<=>?@\[\]\\^_`{|}~]/g,'')
      .replace(/\s+/g,'-') || 'section';
    let s = base, i=2; while(used.has(s)) s = base + '-' + (i++); used.add(s); return s;
  }

  const idToItem = new Map();
  if(outlineRoot){
    const links = $$('a[href^="#"]', outlineRoot);
    links.forEach(a=>{
      const raw = a.getAttribute('href').slice(1);
      const id1 = raw, id2 = decodeURIComponent(raw);
      const li = a.closest('.outline-item-wrapper') || a.closest('.outline-item') || a;
      idToItem.set(id1, li); idToItem.set(id2, li);
    });
  }
  function outlinePathFor(id, fallbackTitle){
    if(!outlineRoot) return fallbackTitle || '';
    const node = idToItem.get(id);
    if(!node) return fallbackTitle || '';
    let w = node.closest('.outline-item-wrapper') || node, parts=[];
    while (w && w !== outlineRoot){
      const label = w.querySelector(':scope > .outline-item .outline-label') || w.querySelector('.outline-label');
      const txt = label ? label.textContent.trim().replace(/\s+/g,' ') : '';
      if (txt) parts.push(txt);
      w = w.parentElement && w.parentElement.closest ? w.parentElement.closest('.outline-item-wrapper') : null;
    }
    parts = parts.reverse();
    return parts.join(' / ');
  }
  function buildRichSnippet(headingId, headingText){
    const rawURL = buildURL(headingId, false);
    const encURL = buildURL(headingId, true);
    const docTitle = filenameDerivedTitle();
    const path = outlinePathFor(headingId, headingText);
    return [
`- <p style="background-color: rgb(255, 240, 243); color: black;">${docTitle}</p>`,
`- <p style="background-color: rgb(255, 248, 230); color: black;">${path}</p>`,
`- \`${headingText}\``,
'',
`<div style="background-color: rgb(245, 240, 255); border: 1px solid rgb(217, 195, 250); padding: 9px 14px; border-radius: 5px;">`,
`中文路径锚点 <a href="${rawURL}"><b>${headingText}</b></a> 。`,
`</div>`,
`<div style="background-color: rgb(240, 255, 244); border: 1px solid rgb(183, 235, 201); padding: 8px 12px; border-radius: 3px;">`,
`URL编码锚点 <a href="${encURL}"><b>${headingText}</b></a> 。`,
`</div>`
].join('\n');
  }

  const heads = $$('#write h1,#write h2,#write h3,#write h4,#write h5,#write h6');
  heads.forEach(h=>{
    if(!h.id || !h.id.trim()) h.id = slugify(getCleanHeadingText(h));

    const a   = document.createElement('a');
    const tip = document.createElement('span');
    a.className = 'ty-anchor'; a.textContent = '#'; a.href = '#' + h.id; a.title = '复制此段落链接';
    tip.className = 'ty-tip'; tip.textContent = '已复制段落链接';

    a.addEventListener('click', async (e)=>{
      e.preventDefault();
      const titleText = getCleanHeadingText(h);
      let copyText = '';

      if (urlMode === 'rich') {
        copyText = buildRichSnippet(h.id, titleText);
        tip.textContent = '已复制片段';
      } else {
        const urlRaw = (urlMode === 'encoded') ? buildURL(h.id, true) : buildURL(h.id, false);
        if (copyFmt === 'md') {
          copyText = `[${titleText}](${urlRaw})`;
          tip.textContent = '已复制 Markdown 链接';
        } else {
          copyText = urlRaw;
          tip.textContent = '已复制段落链接';
        }
      }

      try{ await navigator.clipboard.writeText(copyText); }
      catch{
        const ta=document.createElement('textarea'); ta.value=copyText;
        document.body.appendChild(ta); ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
      }
      history.replaceState(null,'','#'+h.id);
      tip.style.opacity='1'; clearTimeout(tip._t); tip._t=setTimeout(()=> tip.style.opacity='0', 1000);
    });

    h.insertBefore(a, h.firstChild);
    h.appendChild(tip);
  });

  /* ========== 9) ScrollSpy：滚动高亮 + 自动展开（保持） ========== */
  let activeId = null;
  function ensureOpenFor(id){
    const node = idToItem.get(id); if(!node) return;
    let w = node.closest('.outline-item-wrapper') || node;
    while (w && w !== outlineRoot){
      w.classList.add('outline-item-open');
      w = w.parentElement && w.parentElement.closest ? w.parentElement.closest('.outline-item-wrapper') : null;
    }
  }
  function setActive(id){
    if(!outlineRoot || !id || id===activeId) return;
    activeId = id;
    outlineRoot.querySelectorAll('.active').forEach(el=> el.classList.remove('active'));
    const el = idToItem.get(id);
    if(el){
      el.classList.add('active');
      const link = el.querySelector('a[href="#'+CSS.escape(id)+'"]');
      if(link) link.classList.add('active');
      ensureOpenFor(id);
      el.scrollIntoView && el.scrollIntoView({block:'nearest'});
    }
  }
  function updateActiveByScroll(){
    const y = window.scrollY + 120;
    let cur = heads.length ? heads[0].id : null;
    for (const h of heads){ if(h.offsetTop <= y) cur = h.id; else break; }
    setActive(cur);
  }
  updateActiveByScroll();
  addEventListener('scroll', updateActiveByScroll, { passive:true });
  addEventListener('resize', updateActiveByScroll);

  /* ========== 10) 图片灯箱（缩略图点击不跳文；预留安全区防重叠） ========== */
  const lb = $('#ty-lightbox'), lbImg = $('.ty-lb-img', lb), lbCap = $('.ty-lb-cap', lb);
  const prevBtn = $('.ty-lb-prev', lb), nextBtn = $('.ty-lb-next', lb), closeBtn = $('.ty-lb-close', lb);
  const lbCount = $('#ty-lb-count'), lbStrip = $('#ty-lb-strip');
  const lbCopy  = $('#ty-lb-copy'),  lbFmt   = $('#ty-lb-fmt'),   lbJump = $('#ty-lb-jump');

  const IMG_FMT_KEY = 'ty_img_copy_fmt'; // url / md
  let imgCopyFmt = (localStorage.getItem(IMG_FMT_KEY) || 'url');
  function setImgCopyFmt(fmt){
    if (!['url','md'].includes(fmt)) return;
    imgCopyFmt = fmt; localStorage.setItem(IMG_FMT_KEY, fmt);
    lbFmt.textContent = '复制为：' + (fmt==='md'?'Markdown':'URL');
  }
  setImgCopyFmt(imgCopyFmt);

  let list=[], idx=-1, thumbsBuilt=false;

  function collectImages(){
    list = $$('#write img').filter(img=>{
      const w = img.naturalWidth || img.clientWidth;
      const h = img.naturalHeight || img.clientHeight;
      return (w*h) >= (48*48);
    });
  }
  function buildThumbs(){
    lbStrip.innerHTML = '';
    list.forEach((el,i)=>{
      const t = document.createElement('img');
      t.className = 'ty-thumb';
      const src = el.getAttribute('data-src') || el.currentSrc || el.src;
      t.src = src; t.alt=''; t.loading='lazy';
      t.setAttribute('data-idx', (i+1));
      // 点击缩略图：在画廊内切换到该图（不跳出）
      t.addEventListener('click', ()=> showAt(i));
      lbStrip.appendChild(t);
    });
    thumbsBuilt = true;
  }
  function updateThumbActive(){
    const thumbs = $$('.ty-thumb', lbStrip);
    thumbs.forEach(t=> t.classList.remove('active'));
    const cur = thumbs[idx]; if (cur) cur.classList.add('active');
  }
  function showAt(i){
    if(i<0 || i>=list.length) return;
    idx=i;
    const el=list[idx];
    const src = el.getAttribute('data-src') || el.currentSrc || el.src;
    const cap = el.getAttribute('alt') || el.title || '';
    lbImg.src=src; lbImg.alt=cap; lbCap.textContent=cap;
    lbCount.textContent = (idx+1) + ' / ' + list.length;
    updateThumbActive();
    lb.classList.add('open'); document.body.style.overflow='hidden';
  }
  function close(){ lb.classList.remove('open'); document.body.style.overflow=''; lbImg.src=''; lbImg.alt=''; }
  function prev(){ showAt((idx-1+list.length)%list.length); }
  function next(){ showAt((idx+1)%list.length); }

  // 文中点击图片 → 打开画廊（并构建缩略条）
  write.addEventListener('click', (e)=>{
    const target = e.target.closest && e.target.closest('img');
    if(!target) return;
    e.preventDefault();
    collectImages();
    if (!thumbsBuilt) buildThumbs();
    const i = list.indexOf(target);
    if(i>=0) showAt(i);
  });
  prevBtn.addEventListener('click', prev);
  nextBtn.addEventListener('click', next);
  closeBtn.addEventListener('click', close);
  lb.addEventListener('click', (e)=>{ if(e.target===lb) close(); });
  document.addEventListener('keydown', (e)=>{
    if(!lb.classList.contains('open')) return;
    if(e.key==='Escape') close();
    if(e.key==='ArrowLeft') prev();
    if(e.key==='ArrowRight') next();
  });

  // 复制图片链接（URL / Markdown）
  lbCopy.addEventListener('click', async ()=>{
    if(idx<0 || idx>=list.length) return;
    const el = list[idx];
    const src = el.getAttribute('data-src') || el.currentSrc || el.src;
    const txt = (imgCopyFmt==='md') ? `![](${src})` : src;
    try{ await navigator.clipboard.writeText(txt); lbCopy.textContent='已复制'; setTimeout(()=> lbCopy.textContent='复制图片链接', 900); }
    catch{
      const ta=document.createElement('textarea'); ta.value=txt;
      document.body.appendChild(ta); ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
      lbCopy.textContent='已复制'; setTimeout(()=> lbCopy.textContent='复制图片链接', 900);
    }
  });
  lbFmt.addEventListener('click', ()=> setImgCopyFmt(imgCopyFmt==='url' ? 'md' : 'url'));
  // 跳回文中
  lbJump.addEventListener('click', ()=>{
    if(idx<0 || idx>=list.length) return;
    const el = list[idx];
    close();
    el.scrollIntoView({behavior:'smooth', block:'center'});
    el.classList.add('ty-img-flash');
    setTimeout(()=> el.classList.remove('ty-img-flash'), 1300);
  });

  /* ========== 11) 帮助浮层（保持） ========== */
  const helpOverlay = $('#ty-help-overlay');
  const helpClose   = $('#ty-help-close');
  const helpBtn     = $('#ty-help');
  function openHelp(){
    renderHelp();
    helpOverlay.classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeHelp(){
    helpOverlay.classList.remove('open');
    document.body.style.overflow = '';
  }
  helpBtn.addEventListener('click', openHelp);
  helpClose.addEventListener('click', closeHelp);
  helpOverlay.addEventListener('click', (e)=>{ if(e.target === helpOverlay) closeHelp(); });

  /* ========== 12) 快捷键（白名单：仅单键 & Alt 组合；其它全部放行） ========== */
  document.addEventListener('keydown', (e)=>{
    const tag = (e.target && e.target.tagName || '').toLowerCase();
    const inEditable = !!(e.target && (e.target.isContentEditable || /^(input|textarea|select)$/i.test(tag)));
    if (inEditable) return;

    if (e.getModifierState && (e.getModifierState('AltGraph') || e.getModifierState('OS'))) return;

    const k    = (e.key || '').toLowerCase();
    const code = e.code || '';

    // Alt-only 组合：Alt+1/2/3/U/M
    if (e.altKey && !e.ctrlKey && !e.metaKey && !e.shiftKey) {
      if (code==='Digit1' || code==='Numpad1' || k==='1') { e.preventDefault(); setUrlMode('raw');     return; }
      if (code==='Digit2' || code==='Numpad2' || k==='2') { e.preventDefault(); setUrlMode('encoded'); return; }
      if (code==='Digit3' || code==='Numpad3' || k==='3') { e.preventDefault(); setUrlMode('rich');    return; }
      if (!btnCopyFmt.hidden && code==='KeyU') { e.preventDefault(); setCopyFmt('url'); return; }
      if (!btnCopyFmt.hidden && code==='KeyM') { e.preventDefault(); setCopyFmt('md');  return; }
      return;
    }

    // 包含 Ctrl/Cmd/Shift 的组合：放行
    if (e.ctrlKey || e.metaKey || e.shiftKey) return;

    // 单键白名单
    const SINGLE = new Set(['o','t','e','r','u','m','c','h']);
    if (SINGLE.has(k)) {
      e.preventDefault();
      if (k==='o') $('#ty-outline')?.click();
      else if (k==='t') $('#ty-top')?.click();
      else if (k==='e') $('#ty-expand')?.click();
      else if (k==='r') $('#ty-collapse')?.click();
      else if (k==='u') $('#ty-urlmode')?.click();
      else if (k==='m' && !btnCopyFmt.hidden) $('#ty-copyfmt')?.click();
      else if (k==='c') $('#ty-comments')?.click();
      else if (k==='h') openHelp();
      return;
    }

    // Esc 仅在帮助打开时拦截
    if (k==='escape' && helpOverlay.classList.contains('open')) { e.preventDefault(); closeHelp(); }
  });

  /* ========== 13) 将 HTML 注释转为可见元素 + 开关（保持） ========== */
  const btnComments = $('#ty-comments');
  let tyCmtInited = false;
  function injectCommentsOnce(){
    if (tyCmtInited) return;
    tyCmtInited = true;
    const walker = document.createTreeWalker(write, NodeFilter.SHOW_COMMENT, null, false);
    const nodes = [];
    for (let n = walker.nextNode(); n; n = walker.nextNode()) nodes.push(n);

    nodes.forEach(cmt=>{
      const txt = (cmt.data || '').trim();
      if (!txt) return;
      const span = document.createElement('span');
      span.className = 'ty-cmt';
      span.textContent = txt;
      cmt.parentNode && cmt.parentNode.insertBefore(span, cmt);
    });
    if (!write.querySelector('.ty-cmt')) btnComments.hidden = true;
  }
  injectCommentsOnce();
  document.body.classList.remove('ty-cmt-hidden');
  btnComments.textContent = '隐藏注释（C）';
  btnComments.title = '显示/隐藏注释（C）';
  btnComments.addEventListener('click', ()=>{
    injectCommentsOnce();
    const hide = !document.body.classList.contains('ty-cmt-hidden');
    document.body.classList.toggle('ty-cmt-hidden', hide);
    btnComments.textContent = hide ? '显示注释（C）' : '隐藏注释（C）';
  });
})();
</script></body>
</html>